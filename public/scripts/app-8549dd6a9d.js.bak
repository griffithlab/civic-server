function sessionInfo(e){"use strict";return{restrict:"EA",template:"<h2>CIViC Server URL: {{ conf.serverUrl }}</h2>",link:function(t){t.conf=e}}}sessionInfo.$inject=["ConfigService"],function(){"use strict";function e(e,t,i,n,a){window.apiCheck.disabled=!0,a.debugInfoEnabled(!1),n.extras.removeChromeAutoComplete=!0,t.useAnchorScroll(),i.disableAutoScrolling(),e.errorOnUnhandledRejections(!1)}function t(e,t,i,n,a,s,o,r){s.loading_screen.finish(),t.view={},t.$state=n,e.requestCurrentUser(),i.defaults.headers.common["Civic-Web-Client-Version"]="0.0.6",t.$on("$stateChangeStart",function(e,t,i,n,a){t.external&&(e.preventDefault(),s.open(t.url,"_blank"))}),t.$on("$stateChangeSuccess",function(e,i){t.view.navMode=i.data.navMode,r.isEmpty(o.hash())&&(t.prevScroll=null),a.eventTrack(i.name),a.pageTrack(window.location.hash)}),t.$on("$stateChangeError",function(e,i,a){t._civicStateError=r.merge(a,{stateName:i.name}),n.go("home")}),t.$on("duScrollspy:becameActive",function(e,t){var i=t.prop("hash");i&&window.history.replaceState(null,null,i)})}e.$inject=["$qProvider","$uiViewScrollProvider","$anchorScrollProvider","formlyConfigProvider","$compileProvider"],t.$inject=["Security","$rootScope","$http","$state","$analytics","$window","$location","_"],angular.module("civicClient",["ui.router","ct.ui.router.extras","angular-loading-bar","mentio","ngTouch","ngDialog","ngMessages","duScroll","ui.bootstrap","ui.grid","ui.grid.autoResize","ui.grid.pagination","ui.grid.cellNav","ui.grid.exporter","formly","dialogs.main","yaru22.angular-timeago","angulartics","angulartics.google.analytics","monospaced.elastic","civic.states","civic.config","civic.services","civic.security","civic.login","civic.common","angular-lodash","civic.pages","civic.activity","civic.search","civic.account","civic.browse","civic.events","civic.sources","civic.users","civic.organizations","civic.add","civic.community","civic.curation"]).run(t).config(e),angular.module("civic.security",["civic.security.authorization","civic.security.service","civic.security.login"]),angular.module("civic.config",["formly","formlyBootstrap"]),angular.module("civic.states",["ui.router"]),angular.module("civic.sources",[]),angular.module("civic.services",["ui.router","ngResource","angular-lodash/filters"]),angular.module("civic.pages",["civic.security.authorization","ui.router"]),angular.module("civic.account",["civic.security.authorization","ui.router"]),angular.module("civic.common",["ui.router"]),angular.module("civic.login",["ui.router"]),angular.module("civic.browse",["ui.grid.selection","ui.grid.pagination","ui.router"]),angular.module("civic.search",["ui.router"]),angular.module("civic.activity",["ui.router"]),angular.module("civic.community",["ui.router"]),angular.module("civic.curation",["ui.router"]),angular.module("civic.users",["ui.router","civic.users.profile","civic.users.common"]),angular.module("civic.organizations",[]),angular.module("civic.add",["ui.router","formly","formlyBootstrap","civic.add.evidence"]),angular.module("civic.events",["ui.router","ui.grid","ngDialog","formly","formlyBootstrap","angular-lodash/filters","civic.events.common","civic.events.genes","civic.events.assertions","civic.events.variants","civic.events.variantGroups","civic.events.evidence"])}(),function(){"use strict";function e(e,t,i){e.hashPrefix(""),e.html5Mode(!0),i.otherwise("home"),i.when("/links/:entityType/:entityId",function(){window.location.reload()}),i.when("/events/genes/:geneId","/events/genes/:geneId/summary"),i.when("/events/genes","/browse"),i.when("/events","/browse"),t.state("home",{url:"/home",controller:"HomeCtrl",templateUrl:"app/pages/home.tpl.html",data:{titleExp:'"Home"',navMode:"home"}}).state("about",{external:!0,url:"https://docs.civicdb.org/en/latest/about.html"}).state("participate",{external:!0,url:"https://docs.civicdb.org/en/latest/about/participating.html"}).state("faq",{external:!0,url:"https://docs.civicdb.org/en/latest/about/faq.html"}).state("meetings",{external:!0,url:"https://docs.civicdb.org/en/latest/about/meetings.html"}).state("apidocs",{external:!0,url:"https://docs.civicdb.org/en/latest/api.html"}).state("graphics",{external:!0,url:"https://docs.civicdb.org/en/latest/about/figures.html"}).state("releases",{url:"/releases",templateUrl:"app/pages/releases.tpl.html",controller:"ReleasesController",controllerAs:"vm",data:{titleExp:'"Data Releases"',navMode:"sub"}}).state("acknowledgements",{external:!0,url:"https://docs.civicdb.org/en/latest/about/acknowledgements.html"}).state("contact",{url:"/contact",controller:"ContactCtrl",templateUrl:"app/pages/contact.tpl.html",data:{titleExp:'"Contact"',navMode:"sub"}})}e.$inject=["$locationProvider","$stateProvider","$urlRouterProvider"],angular.module("civic.states").config(e)}(),function(){"use strict";function e(e){e.addTemplateOptionValueMessage("minlength","minlength","","is the minimum length","Too short."),e.addTemplateOptionValueMessage("maxlength","maxlength","","is the maximum length","Too long."),e.addStringMessage("required","This field is required."),e.addStringMessage("notfound","Valid entity could not be found.")}e.$inject=["formlyValidationMessages"],angular.module("civic.config").constant("formConfig",{options:{labelColWidth:2,inputColWidth:5,helpColWidth:5},validationMessages:{400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",409:"Conflict",500:"Server Error",501:"Not Implemented"},errorPrompts:{400:"The CIViC Client made a request the server didn't like, check the console output for more information.",401:"You must be logged in to perform that action.",403:"You do not have sufficient permissions to perform that action.",404:"The CIViC client made a request to a route that could not be found, check the console output for more information",405:"The CIViC client made a request that is not supported, check the console output for more information",406:"TOTALLY UNACCEPTABLE, I CAN'T EVEN",409:"The attempted update conflicts with an existing record.",500:"The CIViC server experienced an unrecoverable error, please check the console output for more information.",501:"The CIViC client attempted to utilize an unimplemented route."}}).run(e)}(),function(){"use strict";function e(e,t){var i=t.options.inputColWidth,n=t.options.labelColWidth,a=t.options.helpColWidth;e.setWrapper({name:"validationMessages",template:["<formly-transclude></formly-transclude>",'<div class="validation"','ng-if="options.validation.errorExistsAndShouldBeVisible"','ng-messages="options.formControl.$error">','<div class="field-message-error" ng-message="{{::name}}" ng-repeat="(name, message) in ::options.validation.messages">',"{{message(options.formControl.$viewValue, options.formControl.$modelValue, this)}}","</div>","</div>"].join(" ")}),e.setWrapper({name:"simpleHasError",template:"<div ng-class=\"{'has-error': showError}\"><formly-transclude></formly-transclude></div>"}),e.setWrapper({name:"horizontalLabel",template:['<label for="{{id}}" class="control-label {{to.labelSrOnly ? \'sr-only\' : \'\'}}" ng-if="to.label">',"{{to.label}}","{{to.required ? '*' : ''}}","</label>","<formly-transclude></formly-transclude>"].join(" ")}),e.setWrapper({name:"horizontalBootstrapLabel",template:['<label for="{{::id}}" class="col-sm-'+n+' control-label">','<span ng-if="to.required" style="color:#999;">*&nbsp;</span>{{to.label}}',"</label>",'<div class="col-sm-'+i+'">',"<formly-transclude></formly-transclude>","</div>"].join(" ")}),e.setWrapper({name:"horizontalBootstrapHelp",template:['<label for="{{::id}}" class="col-sm-'+n+' control-label">','<span ng-if="to.required" style="color:#999;">*&nbsp;</span>{{to.label}}',"</label>",'<div class="col-sm-'+i+'">',"<formly-transclude></formly-transclude>","</div>",'<div class="col-sm-'+a+' control-help">','<span class="small" ng-bind-html="to.helpText"></span>',"</div>"].join(" ")}),e.setWrapper({name:"horizontalBootstrapHelpNoLabel",template:['<label for="{{::id}}" class="col-sm-'+n+' control-label">',"</label>",'<div class="col-sm-'+i+'">',"<formly-transclude></formly-transclude>","</div>",'<div class="col-sm-'+a+' control-help">','<span class="small" ng-bind-html="to.helpText"></span>',"</div>"].join(" ")}),e.setWrapper({name:"horizontalBootstrapCheckbox",template:['<div class="col-sm-offset-'+n+' col-sm-8">',"<formly-transclude></formly-transclude>","</div>"].join(" ")}),e.setWrapper({name:"horizontalBootstrapComment",template:['<div class="col-xs-12">',"<formly-transclude></formly-transclude>","</div>"].join(" ")}),e.setWrapper({name:"loader",template:["<formly-transclude></formly-transclude>",'<span class="glyphicon glyphicon-refresh loader" ng-show="to.loading"></span>'].join(" ")}),e.setWrapper({name:"citation",template:["<formly-transclude></formly-transclude>",'<span class="small" style="color: #999;">Citation: {{ to.data.citation }}</span>'].join(" ")}),e.setWrapper({name:"noResultsMessage",template:["<formly-transclude></formly-transclude>",'<span class="small" style="color: #999;" ng-show="to.data.noResults && fc.$touched == true">{{ to.data.noResultsMessage }}</span>'].join(" ")}),e.setWrapper({name:"fieldMessage",template:["<formly-transclude></formly-transclude>",'<span class="small" ng-if="to.data.message && to.data.message.length > 0">{{to.data.message}}</span>'].join(" ")}),e.setWrapper({name:"acmgDescription",template:["<formly-transclude></formly-transclude>",'<span class="small">{{model[index].description}}</span>'].join(" ")}),e.setWrapper({name:"genedisplay",template:["<formly-transclude></formly-transclude>",'<span class="small">Gene: {{ to.data.name }}</span>'].join(" ")}),e.setWrapper({name:"entrezIdDisplay",template:["<formly-transclude></formly-transclude>",'<span class="small">Entrez ID: {{ to.data.entrez_id }}</span>'].join(" ")}),e.setWrapper({name:"diseasedisplay",template:["<formly-transclude></formly-transclude>",'<span class="small">Disease Ontology ID: {{ to.data.doid}}</span>'].join(" ")}),e.setWrapper({name:"attributeDefinition",template:["<formly-transclude></formly-transclude>",'<span class="small" ng-bind-html="to.data.attributeDefinition"></span>'].join(" ")})}e.$inject=["formlyConfigProvider","formConfig"],angular.module("civic.config").config(e)}(),function(){"use strict";function e(e){e.setType({name:"basicInput",template:'<input class="form-control" ng-model="model[options.key]">'}),e.setType({name:"horizontalInput",extends:"input",wrapper:["horizontalBootstrapLabel","bootstrapHasError"]}),e.setType({name:"horizontalInputHelp",extends:"input",wrapper:["validationMessages","horizontalBootstrapHelp","bootstrapHasError"]}),e.setType({name:"horizontalSelect",extends:"select",wrapper:["horizontalBootstrapLabel","bootstrapHasError"]}),e.setType({name:"horizontalSelectHelp",extends:"select",wrapper:["validationMessages","horizontalBootstrapHelp","bootstrapHasError"]}),e.setType({name:"horizontalTextarea",extends:"textarea",wrapper:["validationMessages","horizontalBootstrapLabel","bootstrapHasError"]}),e.setType({name:"horizontalTextareaHelp",extends:"textarea",wrapper:["validationMessages","horizontalBootstrapHelp","bootstrapHasError"]}),e.setType({name:"horizontalCheckbox",extends:"checkbox",wrapper:["horizontalBootstrapCheckbox","bootstrapHasError"]}),e.setType({name:"horizontalCheckboxHelp",extends:"checkbox",wrapper:["horizontalBootstrapHelpNoLabel","bootstrapHasError"]}),e.setType({name:"horizontalRadio",extends:"radio",wrapper:["horizontalBootstrapCheckbox","bootstrapHasError"]}),e.setType({name:"horizontalRadioHelp",extends:"radio",wrapper:["horizontalBootstrapHelpNoLabel","bootstrapHasError"]}),e.setType({name:"input-loader",extends:"input",wrapper:["loader"]})}e.$inject=["formlyConfigProvider"],angular.module("civic.config").config(e)}(),function(){"use strict";function e(e){e.setType({name:"citation",extends:"input",wrapper:["loader","citation","validationMessages","horizontalBootstrapHelp","bootstrapHasError"]})}function t(e,t){e.validateCitation=function(e){return t.verify(e)}}e.$inject=["formlyConfigProvider"],t.$inject=["$scope","Citations"],angular.module("civic.config").config(e).controller("CitationController",t)}(),function(){"use strict";function e(e){var t=window._;e.setType({name:"comment",templateUrl:"components/forms/fieldTypes/comment.tpl.html",defaultOptions:{ngModelAttrs:{rows:{attribute:"rows"},cols:{attribute:"cols"}},ngModelElAttrs:{"msd-elastic":"true",mentio:"","mentio-id":'"commentForm"'}},data:{users:[],entities:[]},controller:["$scope","$filter","CommentSuggestions",function(e,i,n){e.searchUsers=function(t){t.length>0&&n.getUserSuggestions(t).then(function(t){e.users=t})},e.getUser=function(e){return"@"+e.display_name},e.searchEntities=function(a){a.length>0&&n.getEntitySuggestions(a).then(function(n){e.entities=t.map(n,function(e){return e.display_type=i("keyToLabel")(e.type).toUpperCase(),e})})},e.getEntity=function(e){return"#"+{gene:"G",variant:"V",variant_group:"VG",evidence_item:"E",suggested_change:"R"}[e.type]+e.id},e.typedTerm=""}]}),e.setType({name:"horizontalCommentHelp",extends:"comment",wrapper:["validationMessages","horizontalBootstrapHelp","bootstrapHasError"]}),e.setType({name:"basicComment",extends:"comment",wrapper:["validationMessages","horizontalBootstrapComment","bootstrapHasError"]})}e.$inject=["formlyConfigProvider"],angular.module("civic.config").config(e)}(),function(){"use strict";function e(e){e.setType({name:"disease",extends:"input",wrapper:["loader","diseasedisplay","validationMessages","horizontalBootstrapHelp","bootstrapHasError"]}),e.setType({name:"disease-multi",extends:"input",wrapper:["loader","diseasedisplay"]})}function t(e,t){e.validateDisease=function(e){return t.verify(e)}}e.$inject=["formlyConfigProvider"],t.$inject=["$scope","Diseases"],angular.module("civic.config").config(e).controller("DiseaseController",t)}(),function(){"use strict";function e(e){e.setType({name:"evidenceSelectorField",templateUrl:"components/forms/fieldTypes/evidenceSelectorField.tpl.html",defaultOptions:{templateOptions:{inputOptions:{}}},controller:["$scope","_",function(e,t){e.removeItem=function(i){e.model.evidence_items=t.reject(e.model.evidence_items,{id:i.id})}}]})}e.$inject=["formlyConfigProvider"],angular.module("civic.config").config(e)}(),function(){"use strict";function e(e){e.setType({name:"gene",extends:"input",wrapper:["loader","genedisplay","validationMessages","horizontalBootstrapHelp","bootstrapHasError"]}),e.setType({name:"gene-multi",extends:"input",wrapper:["loader","genedisplay"]})}function t(e,t){e.validateGene=function(e){return t.verify(e)}}e.$inject=["formlyConfigProvider"],t.$inject=["$scope","Genes"],angular.module("civic.config").config(e).controller("GeneController",t)}(),function(){"use strict";function e(e){e.setType({name:"multiInput",templateUrl:"components/forms/fieldTypes/multiInput.tpl.html",defaultOptions:{noFormControl:!0,wrapper:["horizontalBootstrapHelp","bootstrapHasError"],templateOptions:{inputOptions:{}}},controller:["_","$scope",function(e,t){function i(e,t){e.splice(t,1)}function n(e,t){e.splice(t+1,0,"")}function a(e,t,i){e[t]=i}function s(){return angular.copy(t.to.inputOptions)}t.copyItemOptions=s,t.replaceItem=a,t.deleteItem=i,t.addItem=n,t.hasDups=function(){var i=e.without(t.model[t.options.key],"");return e.uniq(i).length!==i.length}}]})}e.$inject=["formlyConfigProvider"],angular.module("civic.config").config(e)}(),function(){"use strict";function e(e){e.setType({name:"publication",extends:"input",wrapper:["loader","citation","validationMessages","horizontalBootstrapHelp","bootstrapHasError"]}),e.setType({name:"publication-multi",extends:"input",wrapper:["loader","citation"]})}e.$inject=["formlyConfigProvider"],angular.module("civic.config").config(e)}(),function(){"use strict";function e(e){e.setType({name:"rating",templateUrl:"components/forms/fieldTypes/rating.tpl.html",controller:["$scope",function(e){e.overStar=e.model.rating,e.hoveringOver=function(t){e.overStar=t},e.leave=function(){0===e.model.rating?e.overStar=0:e.overStar=e.model.rating}}]}),e.setType({name:"horizontalRating",extends:"rating",wrapper:["horizontalBootstrapLabel","bootstrapHasError"]}),e.setType({name:"horizontalRatingHelp",extends:"rating",wrapper:["horizontalBootstrapHelp","bootstrapHasError"]})}e.$inject=["formlyConfigProvider"],angular.module("civic.config").config(e)}(),function(){"use strict";function e(e){e.setType({name:"typeahead",templateUrl:"components/forms/fieldTypes/typeahead.tpl.html"}),e.setType({name:"horizontalTypeaheadHelp",extends:"typeahead",wrapper:["validationMessages","horizontalBootstrapHelp","bootstrapHasError"]})}e.$inject=["formlyConfigProvider"],angular.module("civic.config").config(e)}(),function(e,t){"use strict";function i(e){return function(t){return t[e]}}var n=e.module("angular-lodash",[]),a=e.module("angular-lodash/utils",[]),s=e.module("angular-lodash/filters",[]);t._=t,t.each(["min","max","sortedIndex"],function(e){t[e]=t.wrap(t[e],function(e){var n=t.toArray(arguments).slice(1);return t.isString(n[2])?n[2]=i(n[2]):t.isString(n[1])&&(n[1]=i(n[1])),e.apply(t,n)})}),e.injector(["ng"]).invoke(["$filter",function(e){t.filter=t.select=t.wrap(e("filter"),function(e,i,n){return t.isArray(i)||(i=t.toArray(i)),e(i,n)}),t.reject=function(e,i){return t.isString(i)?t.filter(e,"!"+i):t.bind(t.difference,t,e)(t.filter(e,i))}}]),t.each(t.functions(t),function(i){function s(e){e[i]=t.bind(t[i],t)}t.each([n,a,e.module("angular-lodash/utils/"+i,[])],function(e){e.run(["$rootScope",s])})});var o=[["map","collect","pluck"],["reduce","inject","foldl"],["reduceRight","foldr"],["find","detect","findWhere"],["filter","select","where"],"reject","invoke","max","min","sortBy","groupBy","countBy","shuffle","toArray","size",["first","head","take"],"initial","last",["rest","tail","drop"],"compact","flatten","without","union","intersection","difference",["uniq","unique"],"zip",["zipObject","object"],"indexOf","lastIndexOf","sortedIndex","keys","values",["toPairs","pairs"],"invert",["functions","methods"],"pick","omit","tap","identity","uniqueId","escape","result","template"];t.each(o,function(i){t.isArray(i)||(i=[i]);var a=t.bind(t[i[0]],t),o=function(){return a};t.each(i,function(i){t.each([n,s,e.module("angular-lodash/filters/"+i,[])],function(e){e.filter(i,o)})})})}(angular,window._),function(){"use strict";function e(e,t){var i=t.get("$http");return e("/api/assertions/:assertionId/revisions",{assertionId:"@assertionId"},{query:{method:"GET",isArray:!0,cache:i},last:{method:"GET",isArray:!1,cache:i},queryFresh:{method:"GET",isArray:!0,cache:!1},lastFresh:{method:"GET",isArray:!1,cache:!1}})}function t(e,t){function i(e){return t.all([n(e)])}function n(t){return e.query({assertionId:t}).$promise.then(function(e){return angular.copy(e,l),e.$promise})}function a(t){return e.last({assertionId:t}).$promise.then(function(e){return angular.copy(e,r),e.$promise})}function s(t){return e.queryFresh({assertionId:t}).$promise.then(function(e){return angular.copy(e,l),e.$promise})}function o(t){return e.lastFresh({assertionId:t}).$promise.then(function(e){return angular.copy(e,r),e.$promise})}var r={},l=[];return{initBase:i,data:{item:r,collection:l},query:n,last:a,queryFresh:s,lastFresh:o}}e.$inject=["$resource","$cacheFactory"],t.$inject=["AssertionHistoryResource","$q"],angular.module("civic.services").factory("AssertionHistoryResource",e).factory("AssertionHistory",t)}(),function(){"use strict";function e(e,t){var i=t.get("$http");return e("/api/assertions/:assertionId/suggested_changes/:revisionId",{assertionId:"@assertionId",revisionId:"@revisionId"},{query:{method:"GET",isArray:!0,cache:i},get:{method:"GET",isArray:!1,cache:i},submitRevision:{method:"POST",cache:!1},getPendingFields:{method:"GET",url:"/api/assertions/:assertionId/fields_with_pending_changes",params:{assertionId:"@assertionId"},cache:!1},acceptRevision:{method:"POST",url:"/api/assertions/:assertionId/suggested_changes/:revisionId/accept",params:{assertionId:"@assertionId",revisionId:"@revisionId",force:!0},cache:!1},rejectRevision:{method:"POST",url:"/api/assertions/:assertionId/suggested_changes/:revisionId/reject",params:{assertionId:"@assertionId",revisionId:"@revisionId",force:!0},cache:!1},submitComment:{method:"POST",url:"/api/assertions/:assertionId/suggested_changes/:revisionId/comments",params:{assertionId:"@assertionId",revisionId:"@revisionId"},cache:!1},updateComment:{method:"PATCH",url:"/api/assertions/:assertionId/suggested_changes/:revisionId/comments/:commentId",params:{assertionId:"@assertionId",revisionId:"@revisionId",commentId:"@commentId"},interceptor:{response:function(e){return i.remove(e.config.url),e.$promise}}},queryComments:{method:"GET",url:"/api/assertions/:assertionId/suggested_changes/:revisionId/comments",params:{assertionId:"@assertionId",revisionId:"@revisionId"},isArray:!0,cache:i},getComment:{method:"GET",url:"/api/assertions/:assertionId/suggested_changes/:revisionId/comments/:commentId",params:{assertionId:"@assertionId",revisionId:"@revisionId",commentId:"@commentId"},isArray:!1,cache:i},deleteComment:{method:"DELETE",url:"/api/assertions/:assertionId/suggested_changes/:revisionId/comments/:commentId",params:{assertionId:"@assertionId",revisionId:"@revisionId",commentId:"@commentId"},cache:!1}})}function t(e,t,i,n,a){function s(e,t){return a.all([l(e,t)])}function o(e){return a.all([l(e)])}function r(e,t){return a.all([l(e,t)])}function l(t){return e.query({assertionId:t}).$promise.then(function(e){return angular.copy(e,C),e.$promise})}function c(t,i){return e.get({assertionId:t,revisionId:i}).$promise.then(function(e){return angular.copy(e,w),e.$promise})}function d(t){return e.getPendingFields({assertionId:t}).$promise.then(function(e){return angular.copy(e.toJSON(),k),e.$promise})}function u(t){return t.assertionId=t.id,e.submitRevision(t).$promise.then(function(e){return b.remove("/api/assertions/"+t.id+"/suggested_changes/"),b.remove("/api/subscriptions?count=999"),i.query(),a.when(e)},function(e){return a.reject(e)})}function p(n,s,o){return e.acceptRevision({assertionId:n,revisionId:s,organization:o}).$promise.then(function(e){return b.remove("/api/assertions/"+n+"/suggested_changes/"),l(n),b.remove("/api/assertions/"+n+"/suggested_changes/"+s),c(n,s),b.remove("/api/assertions/"+n),t.get(n),b.remove("/api/subscriptions?count=999"),i.query(),a.when(e)},function(e){return a.reject(e)})}function m(t,n,s){return e.rejectRevision({assertionId:t,revisionId:n,organization:s}).$promise.then(function(e){return b.remove("/api/assertions/"+e.id+"/suggested_changes/"),l(t),b.remove("/api/assertions/"+e.id+"/suggested_changes/"+n),c(t,n),b.remove("/api/subscriptions?count=999"),i.query(),a.when(e)},function(e){return a.reject(e)})}function v(t,i){return e.queryComments({assertionId:t,revisionId:i}).$promise.then(function(e){return angular.copy(e,I),e.$promise})}function g(t,i,n){return e.getComment({assertionId:t,revisionId:i,commentId:n}).$promise.then(function(e){return angular.copy(e,x),e.$promise})}function h(t){return e.submitComment(t).$promise.then(function(e){return b.remove("/api/assertions/"+t.assertionId+"/suggested_changes/"+t.revisionId+"/comments"),v(t.assertionId,t.revisionId),b.remove("/api/subscriptions?count=999"),i.query(),e.$promise})}function f(t){return e.updateComment(t).$promise.then(function(e){return angular.copy(e,x),b.remove("/api/assertions/"+t.assertionId+"/suggested_changes/"+t.revisionId+"/comments"),b.remove("/api/assertions/"+t.assertionId+"/suggested_changes/"+t.revisionId+"/comments/"+t.commentId),v(t.assertionId,t.revisionId),e.$promise})}function y(t){return e.deleteComment({assertionId:_.id,revisionId:w.id,commentId:t}).$promise.then(function(e){return b.remove("/api/assertions/"+_.id+"/suggested_changes/"+w.id+"/comments"),v(_.id,w.id),e.$promise})}var b=n.get("$http"),w={},_=t.data.item,C=[],x={},I=[],k={};return{initBase:s,initRevisions:o,initComments:r,data:{item:w,parent:_,collection:C,comment:x,comments:I,pendingFields:k},query:l,get:c,getPendingFields:d,submitRevision:u,acceptRevision:p,rejectRevision:m,queryComments:v,getComment:g,submitComment:h,updateComment:f,deleteComment:y}}e.$inject=["$resource","$cacheFactory"],t.$inject=["AssertionRevisionsResource","Assertions","Subscriptions","$cacheFactory","$q"],angular.module("civic.services").factory("AssertionRevisionsResource",e).factory("AssertionRevisions",t)}(),function(){"use strict";function e(e,t){var i=t.get("$http");return e("/api/assertions",{},{query:{url:"/api/assertions",method:"GET",isArray:!0,cache:i},get:{url:"/api/assertions/:assertionId",method:"GET",isArray:!1,cache:i},add:{method:"POST",cache:!1},accept:{url:"/api/assertions/:assertionId/accept",params:{assertionId:"@assertionId"},method:"POST",cache:!1},reject:{url:"/api/assertions/:assertionId/reject",params:{assertionId:"@assertionId"},method:"POST",cache:!1},queryAcmgCodes:{url:"/api/acmg_codes",method:"GET",isArray:!0,cache:!0},apply:{method:"PATCH",cache:!1},queryFlags:{method:"GET",url:"/api/assertions/:assertionId/flags",isArray:!1,cache:i},submitFlag:{method:"POST",url:"/api/assertions/:assertionId/flags",params:{assertionId:"@assertionId"},cache:!1},resolveFlag:{method:"PATCH",url:"/api/assertions/:assertionId/flags/:flagId",params:{assertionId:"@assertionId",flagId:"@flagId"},cache:!1},queryComments:{method:"GET",url:"/api/assertions/:assertionId/comments",isArray:!0,cache:i},getComment:{method:"GET",url:"/api/assertions/:assertionId/comments/:commentId",params:{assertionId:"@assertionId",commentId:"@commentId"},isArray:!1,cache:i},submitComment:{method:"POST",url:"/api/assertions/:assertionId/comments",params:{assertionId:"@assertionId"},cache:!1},updateComment:{method:"PATCH",url:"/api/assertions/:assertionId/comments/:commentId",params:{assertionId:"@assertionId",commentId:"@commentId"},cache:!1},deleteComment:{method:"DELETE",url:"/api/assertions/:assertionId/comments/:commentId",params:{assertionId:"@assertionId",commentId:"@commentId"},cache:!1},getMyVariantInfo:{url:"/api/variants/:variantId/myvariant_info_proxy",params:{variantId:"@variantId"},cache:i}})}function t(e,t,i,n){function a(e){return i.all([r(e),m(e)])}function s(e){return i.all([h(e)])}function o(){return e.query().$promise.then(function(e){return angular.copy(e,C),e.$promise})}function r(t){return e.get({assertionId:t}).$promise.then(function(e){return angular.copy(e,x),e.$promise})}function l(t){return e.add(t).$promise.then(function(e){return e.$promise})}function c(t,i){return e.accept({assertionId:t,organization:i}).$promise.then(function(e){return _.remove("/api/assertions"),_.remove("/api/assertions/"+e.id),_.remove("/api/variants/"+e.variant.id),r(e.id),e.$promise})}function d(t,i){return e.reject({assertionId:t,organization:i}).$promise.then(function(e){return _.remove("/api/assertions"),_.remove("/api/assertions/"+e.id),_.remove("/api/variants/"+e.variant.id),r(e.id),e.$promise})}function u(t){return e.queryAcmgCodes({code:t}).$promise.then(function(e){return angular.copy(e,I),e.$promise})}function p(t){return e.getMyVariantInfo({variantId:t}).$promise.then(function(e){return angular.copy(e,k),e.$promise})}function m(t){return e.queryFlags({assertionId:t}).$promise.then(function(e){return angular.copy(e.records,E),e.$promise})}function v(t){return t.assertionId=t.entityId,e.submitFlag(t).$promise.then(function(e){return _.remove("/api/assertions/"+t.assertionId+"/flags"),m(t.assertionId),_.remove("/api/subscriptions?count=999"),n.query(),e.$promise})}function g(t){return t.assertionId=t.entityId,t.state="resolved",e.resolveFlag(t).$promise.then(function(e){return _.remove("/api/assertions/"+t.assertionId+"/flags"),m(t.assertionId),_.remove("/api/subscriptions?count=999"),n.query(),e.$promise})}function h(t){return e.queryComments({assertionId:t}).$promise.then(function(e){return angular.copy(e,S),e.$promise})}function f(t,i){return e.getComment({assertionId:t,commentId:i}).$promise.then(function(e){return e.$promise})}function y(t){return e.submitComment(t).$promise.then(function(e){return _.remove("/api/assertions/"+t.assertionId+"/comments"),h(t.assertionId),_.remove("/api/subscriptions?count=999"),n.query(),e.$promise})}function b(t){return e.updateComment(t).$promise.then(function(e){return _.remove("/api/assertions/"+t.assertionId+"/comments"),h(t.assertionId),e.$promise})}function w(t){return e.deleteComment({assertionId:x.id,commentId:t}).$promise.then(function(e){return _.remove("/api/assertions/"+x.id+"/comments"),h(x.id),e.$promise})}var _=t.get("$http"),C={},x={},I=[],k={},S=[],E=[];return{initBase:a,initComments:s,data:{item:x,myVariantInfo:k,collection:C,acmg_codes:I,flags:E,comments:S},query:o,get:r,add:l,accept:c,reject:d,queryAcmgCodes:u,getMyVariantInfo:p,queryFlags:m,submitFlag:v,resolveFlag:g,queryComments:h,getComment:f,submitComment:y,updateComment:b,deleteComment:w}}e.$inject=["$resource","$cacheFactory"],t.$inject=["AssertionsResource","$cacheFactory","$q","Subscriptions"],angular.module("civic.services").factory("AssertionsResource",e).factory("Assertions",t)}(),function(){"use strict";function e(e){return e("/api/markdown",{},{preview:{method:"POST",isArray:!1,cache:!1}})}function t(e){function t(t){return e.preview({markdown:t}).$promise.then(function(e){return angular.copy(e,i),e.$promise})}var i="";return{data:{preview:i},getPreview:t}}e.$inject=["$resource"],t.$inject=["CommentPreviewResource"],angular.module("civic.services").factory("CommentPreviewResource",e).factory("CommentPreview",t)}(),function(){"use strict";function e(e){return e("/api/entity_suggestions",{},{getEntitySuggestions:{method:"GET",url:"/api/entity_suggestions",isArray:!0,cache:!1},getUserSuggestions:{method:"GET",url:"/api/users/suggestions",isArray:!0,cache:!1}})}function t(e){function t(t){return e.getUserSuggestions({username:t}).$promise.then(function(e){return angular.copy(e,n),e.$promise})}function i(t){return e.getEntitySuggestions({query:t}).$promise.then(function(e){return angular.copy(e,a),e.$promise})}var n=[],a=[];return{data:{userSuggestions:n,entitySuggestions:a},getUserSuggestions:t,getEntitySuggestions:i}}e.$inject=["$resource"],t.$inject=["CommentSuggestionsResource"],angular.module("civic.services").factory("CommentSuggestionsResource",e).factory("CommentSuggestions",t)}(),function(){"use strict";function e(e){return e("/api/community",{},{organizationLeaderboards:{url:"/api/community/leaderboards/organizations",method:"GET",isArray:!1,cache:!1},userLeaderboards:{url:"/api/community/leaderboards/users",method:"GET",isArray:!1,cache:!1}})}function t(e){function t(){return e.userLeaderboards().$promise.then(function(e){return angular.copy(e,n),e.$promise})}function i(){return e.organizationLeaderboards().$promise.then(function(e){return angular.copy(e,a),e.$promise})}var n={},a={};return{data:{userLeaderboards:n,organizationLeaderboards:a},getUserLeaderboards:t,getOrganizationLeaderboards:i}}e.$inject=["$resource"],t.$inject=["CommunityResource"],angular.module("civic.services").factory("CommunityResource",e).factory("Community",t)}(),function(){"use strict";var e=function(e,t){return{value:e,label:t}},t=function(t){for(var i=[],n=Object.keys(t),a=0;a<n.length;a++){var s=e(n[a],n[a]);i.push(s)}return i},i=function(t){for(var i=[],n=Object.keys(t),a=0;a<n.length;a++){var s=e(n[a],n[a]+" - "+t[n[a]]);i.push(s)}return i},n=function(e){for(var t=[],i=Object.keys(e),n=0;n<i.length;n++)for(var a=Object.keys(e[i[n]]),s=0;s<a.length;s++){var o={type:i[n],value:a[s],label:a[s]};t.push(o)}return t},a=function(e,t){return Object.keys(t).forEach(function(i){e[i]=t[i]}),e},s=function(e){var t={};return Object.keys(e).forEach(function(i){a(t,e[i])}),t};angular.module("civic.services").constant("ConfigService",{serverUrl:"/",optionMethods:{make_obj:e,make_options:t,el_options:i,cs_options:n,extend:a,merge_props:s},mainMenuItems:[{label:"About",state:"about"},{label:"Participate",state:"participate"},{
label:"Community",state:"community.main"},{label:"Help",state:"help"},{label:"FAQ",state:"faq"}],footerMenuItems:[{label:"API Documentation",state:"apidocs"},{label:"Data Releases",state:"releases"},{label:"Presentation Graphics",state:"graphics"},{label:"Meetings and Events",state:"meetings"},{label:"Statistics",state:"statistics.evidence"},{label:"Acknowledgements",state:"acknowledgements"},{label:"Contact",state:"contact"}],valid_chromosomes:[{value:"1",name:"1"},{value:"2",name:"2"},{value:"3",name:"3"},{value:"4",name:"4"},{value:"5",name:"5"},{value:"6",name:"6"},{value:"7",name:"7"},{value:"8",name:"8"},{value:"9",name:"9"},{value:"10",name:"10"},{value:"11",name:"11"},{value:"12",name:"12"},{value:"13",name:"13"},{value:"14",name:"14"},{value:"15",name:"15"},{value:"16",name:"16"},{value:"17",name:"17"},{value:"18",name:"18"},{value:"19",name:"19"},{value:"20",name:"20"},{value:"21",name:"21"},{value:"22",name:"22"},{value:"X",name:"X"},{value:"Y",name:"Y"},{value:"MT",name:"MT"}],evidenceAttributeDescriptions:{variant_origin:{Somatic:"Variant is a mutation, found only in tumor cells, having arisen in a specific tissue (non-germ cell), and is not expected to be inherited or passed to offspring.","Rare Germline":"Variant is found in every cell (not restricted to tumor/diseased cells) and is thought to exist in less than 1% of the population relevant to this evidence item.","Common Germline":"Variant is found in every cell (not restricted to tumor/diseased cells) and is thought to exist in at least 1% of the population relevant to this evidence item.",Unknown:"The variant origin is uncertain based on the available evidence.","N/A":"The variant type (e.g., expression) is not compatible (or easily classified) with the CIViC concept of variant origin."},source_type:{PubMed:"Evidence item source uses a PubMed publication.",ASCO:"Evidence item source uses an ASCO abstract."},evidence_type:{evidence_item:{Predictive:"Evidence pertains to a variant's effect on therapeutic response",Prognostic:"Evidence pertains to a variant's impact on disease progression, severity, or patient survival",Diagnostic:"Evidence pertains to a variant's impact on patient diagnosis (cancer subtype)",Predisposing:"Evidence pertains to a germline variant's role in conferring susceptibility to disease (including pathogenicity evaluations)",Oncogenic:"Evidence pertains to a somatic variant's involvement in tumor pathogenesis as described by the Hallmarks of Cancer",Functional:"Evidence pertains to a variant that alters biological function from the reference state"},assertion:{Predictive:"Evidence pertains to a variant's effect on therapeutic response",Prognostic:"Evidence pertains to a variant's impact on disease progression, severity, or patient survival",Diagnostic:"Evidence pertains to a variant's impact on patient diagnosis (cancer subtype)",Predisposing:"Evidence pertains to a germline variant's role in conferring susceptibility to disease (including pathogenicity evaluations)"}},evidence_level_brief:{A:"Validated association",B:"Clinical evidence",C:"Case study",D:"Preclinical evidence",E:"Inferential association"},evidence_level:{A:"Proven/consensus association in human medicine",B:"Clinical trial or other primary patient data supports association",C:"Individual case reports from clinical journals",D:"In vivo or in vitro models support association",E:"Indirect evidence"},evidence_direction:{evidence_item:{Predictive:{Supports:"The experiment or study supports this variant's response to a drug","Does Not Support":"The experiment or study does not support, or was inconclusive of an interaction between this variant and a drug"},Diagnostic:{Supports:"The experiment or study supports this variant's impact on the diagnosis of disease or subtype","Does Not Support":"The experiment or study does not support this variant's impact on diagnosis of disease or subtype"},Prognostic:{Supports:"The experiment or study supports this variant's impact on prognostic outcome","Does Not Support":"The experiment or study does not support a prognostic association between variant and outcome"},Predisposing:{"N/A":"Evidence Direction is Not Applicable."},Functional:{Supports:"The experiment or study supports this variant causing alteration or non-alteration of the gene product function","Does Not Support":"The experiment or study does not support this variant causing alteration or non-alteration of the gene product function"},Oncogenic:{"N/A":"Evidence Direction is Not Applicable for Oncogenic Evidence Type."}},assertion:{Predictive:{Supports:"The Assertion and associated Evidence Items support this variant's response to a drug","Does Not Support":"The Assertion and associated evidence does not support, or was inconclusive of an interaction between this variant and a drug"},Diagnostic:{Supports:"The Assertion and associated Evidence Items support this variant's impact on the diagnosis of disease or subtype","Does Not Support":"The Assertion and associated evidence does not support this variant's impact on diagnosis of disease or subtype"},Prognostic:{Supports:"The Assertion and associated Evidence Items support this variant's impact on prognostic outcome","Does Not Support":"The Assertion and associated evidence does not support a prognostic association between variant and outcome"},Predisposing:{Supports:"The Assertion and associated Evidence Items support a variant's impact on predisposing outcome","Does Not Support":"The Assertion and associated evidence does not support a predisposing association between variant and outcome"},Functional:{Supports:"The Assertion and associated Evidence Items support this variant causing alteration or non-alteration of the gene product function","Does Not Support":"The Assertion and associated evidence does not support this variant causing alteration or non-alteration of the gene product function"}}},clinical_significance:{evidence_item:{Predictive:{"Sensitivity/Response":"Associated with a clinical or preclinical response to treatment",Resistance:"Associated with clinical or preclinical resistance to treatment","Adverse Response":"Associated with an adverse response to drug treatment","Reduced Sensitivity":"Response to treatment is lower than seen in other treatment contexts","N/A":"Clinical Significance is not applicable."},Diagnostic:{Positive:"Associated with diagnosis of disease or subtype",Negative:"Associated with lack of disease or subtype"},Prognostic:{"Better Outcome":"Demonstrates better than expected clinical outcome","Poor Outcome":"Demonstrates worse than expected clinical outcome","N/A":"Clinical Significance is not applicable."},Predisposing:{"N/A":"Clinical Significance is not applicable."},Functional:{"Gain of Function":"Sequence variant confers an increase in normal gene function","Loss of Function":"Sequence variant confers a diminished or abolished function","Unaltered Function":"Gene product of sequence variant is unchanged",Neomorphic:"Sequence variant creates a novel function","Dominant Negative":"Sequence variant abrogates function of wildtype allele gene product",Unknown:"Sequence variant that cannot be precisely defined by the other listed categories"},Oncogenic:{"N/A":"Clinical Significance is not applicable."}},assertion:{Predictive:{"Sensitivity/Response":"Associated with a clinical or preclinical response to treatment",Resistance:"Associated with clinical or preclinical resistance to treatment","Adverse Response":"Associated with an adverse response to drug treatment","Reduced Sensitivity":"Response to treatment is lower than seen in other treatment contexts","N/A":"Clinical Significance is not applicable."},Diagnostic:{Positive:"Associated with diagnosis of disease or subtype",Negative:"Associated with lack of disease or subtype"},Prognostic:{"Better Outcome":"Demonstrates better than expected clinical outcome","Poor Outcome":"Demonstrates worse than expected clinical outcome","N/A":"Clinical Significance is not applicable."},Predisposing:{Pathogenic:"Very strong evidence the variant is pathogenic","Likely Pathogenic":"Strong evidence (>90% certainty) the variant is pathogenic.",Benign:"Very strong evidence the variant is benign","Likely Benign":"Not expected to have a major effect on disease","Uncertain Significance":"Does not fullfill the ACMG/AMP criteria for pathogenic/benign, or the evidence is conflicting"}}},drug_interaction_type:{Combination:"The drugs listed were used as part of a combination therapy approach",Sequential:"The drugs listed were used at separate timepoints in the same treatment plan",Substitutes:"The drugs listed are often considered to be of the same family, or behave similarly in a treatment setting"},rating:{1:"Poor - Claim is not supported well by experimental evidence. Results are not reproducible, or have very small sample size. No follow-up is done to validate novel claims.",2:"Adequate - Evidence is not well supported by experimental data, and little follow-up data is available. Experiments may lack proper controls, have small sample size, or are not statistically convincing.",3:"Average - Evidence is convincing, but not supported by a breadth of experiments. May be smaller scale projects, or novel results without many follow-up experiments. Discrepancies from expected results are explained and not concerning.",4:"Strong - Well supported evidence. Experiments are well controlled, and results are convincing. Any discrepancies from expected results are well-explained and not concerning.",5:"Excellent - Solid, well supported evidence from a lab or journal with respected academic standing. Experiments are well controlled, and results are clean and reproducible across multiple replicates. Evidence confirmed using separate methods."}},evidenceHelpText:{"Gene Entrez Name":"Entrez Gene name (e.g. BRAF). Gene name must be known to the Entrez database.","Variant Name":"Description of the type of variant (e.g., V600E, BCR-ABL fusion, Loss-of-function, exon 12 mutations). Should be as specific as possible (i.e., specific amino acid changes).","Pubmed ID":"PubMed ID for the publication associated with the evidence statement (e.g. 23463675)","Variant Origin":"Origin of variant",Disease:"Please enter a disease name. If you are unable to locate the disease in the dropdown, please check the 'Could not find disease' checkbox below and enter the disease in the field that appears.","Disease Name":"Enter the name of the disease here.","Evidence Statement":'Your original description of evidence from published literature detailing the association or lack of association between a variant and its predictive, prognostic, diagnostic, predisposing, functional or oncogenic value. Data constituting personal or identifying information should not be entered (e.g. <a href="https://www.hipaajournal.com/what-is-protected-health-information/" target="_blank">protected health information (PHI) as defined by HIPAA</a> in the U.S. and/or comparable laws in your jurisdiction).',"Evidence Type":"Type of clinical outcome associated with the evidence statement.","Evidence Level":"Type of study performed to produce the evidence statement","Evidence Direction":"An indicator of whether the evidence statement supports or refutes the clinical significance of an event. For predisposing and oncogenic evidence, directionality is only applied at the assertion level and N/A should be selected here.","Clinical Significance":"The impact of the variant for predictive, prognostic, diagnostic, or functional evidence types. For predisposing and oncogenic evidence, impact is only applied at the assertion level and N/A should be selected here.","Drug Names":"For predictive evidence, specify one or more drug names. If the type-ahead list does not display your drug's name or alias, it likely does not exist in CIViC's database. You may click the button adjacent to the input box to show the Add Drug form and add a new drug to the database.","Drug Interaction Type":"Please indicate whether the drugs specified above are substitutes, or are used in sequential or combination treatments.",Phenotypes:'Please provide any <a href="https://hpo.jax.org/app/browse/term/HP:0000118" target="_blank">HPO phenotypes</a>, including <a href="https://hpo.jax.org/app/browse/term/HP:0003674" target="_blank">age of onset</a>.',Rating:"Please rate your evidence on a scale of one to five stars. Use the evidence rating descriptions for guidance.","Source Type":"CIViC accepts PubMed or ASCO Abstracts sources. Please indicate the source of the support for your evidence here.",SourceASCO:"Please enter an ASCO Web ID to specify your source. NOTE: The ASCO Web ID is not the ASCO abstract number. The ASCO Web ID can be found in the URL of the abstract, e.g. 160900 is the ASCO Web ID for Tyler Stewart, 2018, ASCO Annual Meeting, Abstract 9056 (https://meetinglibrary.asco.org/record/160900/abstract).",SourcePubMed:"Please enter the PubMed ID for your source.","Revision Description":"Please provide a short description of your edits to this Evidence record.","Additional Comments":"Please provide any additional comments you wish to make about this evidence item. This comment will appear as the first comment in this item's comment thread.",keepSourceStatus:"Check this box if you wish the originating source suggestion to keep its un-curated status. Otherwise, it will be marked as curated and removed from the source suggestion queues.",suggestionComment:"Please provide any additional comments you wish to make about this source. This comment will aid curators when evaluating your suggested source for inclusion."},assertionAttributeDescriptions:{ampLevels:{"Tier I - Level A":"Biomarkers showing therapeutic response to FDA-approved therapy, or therapy included in professional guidelines","Tier I - Level B":"Biomarkers showing therapeutic response based on well-powered studies with consensus from experts in the field","Tier II - Level C":"FDA-approved therapies for different tumor types or investigational therapies, or multiple small published studies with some consensus","Tier II - Level D":"Biomarkers that show plausible therapeutic significance based on preclinical studies","Tier III":"Somatic variants in cancer genes reported in the same or different cancer types with unknown clinical significance and variants in cancer genes that have not been reported in any cancers","Tier IV":"Benign or likely benign germline variants observed at significant allele frequencies in the general population or specific subpopulation","Not Applicable":"AMP/ASCO/CAP category is not relevant to this assertion."},nccnGuidelines:["Acute Lymphoblastic Leukemia","Acute Myeloid Leukemia","Anal Carcinoma","Bladder Cancer","Bone Cancer","Breast Cancer","Central Nervous System Cancers","Cervical Cancer","Chronic Lymphocytic Leukemia/Small Lymphocytic Lymphoma","Chronic Myeloid Leukemia","Colon/Rectal Cancer","Colon Cancer","Rectal Cancer","Esophageal and Esophagogastric Junction Cancers","Gastric Cancer","Hairy Cell Leukemia","Head and Neck Cancers","Hepatobiliary Cancers","Hodgkin Lymphoma","Kidney Cancer","Malignant Pleural Mesothelioma","Melanoma","Multiple Myeloma/Other Plasma Cell Neoplasms","Multiple Myeloma","Systemic Light Chain Amyloidosis","Waldenström's Macroglobulinemia / Lymphoplasmacytic Lymphoma","Myelodysplastic Syndromes","Myeloproliferative Neoplasms","Neuroendocrine Tumors","Non-Hodgkin's Lymphomas","B-Cell Lymphomas","Primary Cutaneous B-Cell Lymphomas","T-Cell Lymphomas","Non-Melanoma Skin Cancers","Basal Cell Skin Cancer","Dermatofibrosarcoma Protuberans","Merkel Cell Carcinoma","Squamous Cell Skin Cancer","Non-Small Cell Lung Cancer","Occult Primary","Ovarian Cancer","Pancreatic Adenocarcinoma","Penile Cancer","Prostate Cancer","Small Cell Lung Cancer","Soft Tissue Sarcoma","Testicular Cancer","Thymomas and Thymic Carcinomas","Thyroid Carcinoma","Uterine Neoplasms","Vulvar Cancer"]}})}(),function(){"use strict";function e(e,t,i){return e("/api/current_user",{},{get:{method:"GET",isArray:!1,cache:!1,interceptor:{response:i}},getStats:{ur1l:"/api/current_user/stats",isArray:!1,cache:!1},getEvents:{url:"/api/current_user/events",isArray:!1,cache:!1},getFeed:{url:"/api/current_user/feed",isArray:!1,cache:!1},getCoiStatements:{url:"/api/current_user/conflict_of_interest_statements",isArray:!0,cache:!1},addCoiStatement:{method:"POST",url:"/api/current_user/conflict_of_interest_statements",cache:!1},markFeed:{method:"PATCH",url:"/api/current_user/feed",isArray:!1,cache:!1},markAllAsRead:{method:"PATCH",url:"/api/current_user/feed",isArray:!1,cache:!1},markAsRead:{method:"PATCH",url:"/api/current_user/feed",isArray:!1,cache:!1},markAsUnread:{method:"PATCH",url:"/api/current_user/feed",isArray:!1,cache:!1}})}function t(e,t,i){function n(){return e.get().$promise.then(function(e){return angular.copy(e,u),e.$promise})}function a(){return e.getStats().$promise.then(function(e){return angular.copy(e,v),e.$promise})}function s(){return e.getEvents().$promise.then(function(e){return angular.copy(e,v),e.$promise})}function o(t){return i.forEach(t,function(e,n){i.isBoolean(e)&&(t[n]=String(e))}),e.getFeed(t).$promise.then(function(e){return angular.copy(e,g),e.$promise})}function r(){return e.getCoiStatements().$promise.then(function(e){return angular.copy(e,p),e.$promise})}function l(i){return e.addCoiStatement(i).$promise.then(function(e){return n(),r(),t.reloadCurrentUser(),e.$promise})}function c(n){i.forEach(n,function(e,t){i.isBoolean(e)&&(n[t]=String(e))});var a=(new Date).toISOString();return e.markFeed(i.merge(n,{upto:a,read:!0})).$promise.then(function(e){return angular.copy(e,g),t.reloadCurrentUser(),e.$promise})}function d(n,a,s){return i.forEach(n,function(e,t){i.isBoolean(e)&&(n[t]=String(e))}),e.markFeed(i.merge(n,{notification_ids:a,read:s})).$promise.then(function(e){return angular.copy(e,g),t.reloadCurrentUser(),e.$promise})}var u={},p=[],m=[],v=[],g={records:[],_meta:{}};return{data:{user:u,statements:p,events:m,stats:v,feed:g,mentions:[]},get:n,getStats:a,getEvents:s,getFeed:o,getCoiStatements:r,addCoiStatement:l,markAllAsRead:c,markFeed:d}}e.$inject=["$resource","_","UserOrgsInterceptor"],t.$inject=["CurrentUserResource","Security","_"],angular.module("civic.services").factory("CurrentUserResource",e).factory("CurrentUser",t)}(),function(){"use strict";function e(e,t){return e("/api/datatables/:mode",{mode:"@mode",count:"@count",page:"@page"},{query:{method:"GET",isArray:!1,transformResponse:function(e){var i=JSON.parse(e);return i.result=t.map(i.result,function(e){return t.forEach(t.keys(e),function(i){t.isArray(e[i])&&(e[i]=e[i].join(", "))}),e}),i},cache:!1}})}function t(e){return{query:function(t){return e.query(t).$promise.then(function(e){return e.$promise})}}}e.$inject=["$resource","_"],t.$inject=["DatatablesResource"],angular.module("civic.services").factory("DatatablesResource",e).factory("Datatables",t)}(),function(){"use strict";function e(e){return e("/api/diseases",{},{query:{method:"GET",isArray:!0,cache:!0},get:{method:"GET",url:"/api/diseases/existence/:doid",isArray:!1,cache:!0},verify:{method:"GET",url:"/api/diseases/existence/:doid",isArray:!1,cache:!0},beginsWith:{method:"GET",url:"/api/diseases?query=:query",isArray:!0,cache:!0},exactMatch:{method:"GET",url:"/api/diseases?query=:query&exact_match=true",isArray:!0,cache:!0}})}function t(e){function t(){return e.query().$promise.then(function(e){return angular.copy(e,r),e.$promise})}function i(t){return e.get({doid:t}).$promise.then(function(e){return angular.copy(e,o),e.$promise})}function n(t){return e.verify({doid:t}).$promise.then(function(e){return e.$promise})}function a(t){return e.beginsWith({query:t}).$promise.then(function(e){return e.$promise})}function s(t){return e.exactMatch({query:t}).$promise.then(function(e){return e.$promise})}var o={},r=[];return{data:{item:o,collection:r},query:t,get:i,verify:n,beginsWith:a,exactMatch:s}}e.$inject=["$resource"],t.$inject=["DiseasesResource"],angular.module("civic.services").factory("DiseasesResource",e).factory("Diseases",t)}(),function(){"use strict";function e(e,t){var i=t.get("$http");return e("/api/drugs/:drugId",{},{query:{method:"GET",isArray:!0,cache:i},get:{method:"GET",isArray:!1,cache:i},add:{method:"POST",cache:!1},querySuggestions:{url:"/api/drugs/suggestions",method:"GET",isArray:!0,cache:!1}})}function t(e,t){function i(){return e.query().$promise.then(function(e){return angular.copy(e,r),e.$promise})}function n(t){return e.get({drugId:t}).$promise.then(function(e){return angular.copy(e,o),e.$promise})}function a(t){return e.add(t).$promise.then(function(e){return e.$promise})}function s(t){var i={q:t};return e.querySuggestions(i).$promise.then(function(e){return angular.copy(e,l),e.$promise})}var o=(t.get("$http"),{}),r=[],l=[];return{data:{item:o,collection:r,suggestions:l},query:i,get:n,add:a,querySuggestions:s}}e.$inject=["$resource","$cacheFactory"],t.$inject=["DrugsResource","$cacheFactory"],angular.module("civic.services").factory("DrugsResource",e).factory("Drugs",t)}(),function(){"use strict";function e(e){return e("/api/drugs/suggestions",{},{query:{method:"GET",isArray:!0,cache:!1},localQuery:{url:"/api/drugs/local_suggestions",method:"GET",isArray:!0}})}function t(e){return{query:function(t){var i={q:t};return e.query(i).$promise.then(function(e){return e.$promise})},localQuery:function(t){var i={q:t};return e.localQuery(i).$promise.then(function(e){return e.$promise})}}}e.$inject=["$resource"],t.$inject=["DrugSuggestionsResource"],angular.module("civic.services").factory("DrugSuggestionsResource",e).factory("DrugSuggestions",t)}(),function(){"use strict";function e(e){return e("/api/events",{count:"@count",page:"@page"},{querySiteEvents:{method:"GET",isArray:!1,cache:!1},queryUserEvents:{url:"/api/users/:id/events",params:{id:"@id"},method:"GET",isArray:!1,cache:!1},queryOrganizationEvents:{url:"/api/organizations/:id/events",params:{id:"@id"},method:"GET",isArray:!1,cache:!1}})}function t(e){function t(t){return e.querySiteEvents(t).$promise.then(function(e){return angular.copy(e.result,a),e.$promise})}function i(t){return e.queryUserEvents(t).$promise.then(function(e){return angular.copy(e.result,a),e.$promise})}function n(t){return e.queryOrganizationEvents(t).$promise.then(function(e){return angular.copy(e.records,a),e.$promise})}var a=[];return{data:{collection:a},query:t,queryOrganizationEvents:n,queryUserEvents:i}}e.$inject=["$resource"],t.$inject=["EventsResource"],angular.module("civic.services").factory("EventsResource",e).factory("Events",t)}(),function(){"use strict";function e(e,t){var i=t.get("$http");return e("/api/evidence_items/:evidenceId/revisions",{evidenceId:"@evidenceId"},{query:{method:"GET",isArray:!0,cache:i},last:{method:"GET",isArray:!1,cache:i},queryFresh:{method:"GET",isArray:!0,cache:!1},lastFresh:{method:"GET",isArray:!1,cache:!1}})}function t(e,t){function i(e){return t.all([n(e)])}function n(t){return e.query({evidenceId:t}).$promise.then(function(e){return angular.copy(e,l),e.$promise})}function a(t){return e.last({evidenceId:t}).$promise.then(function(e){return angular.copy(e,r),e.$promise})}function s(t){return e.queryFresh({evidenceId:t}).$promise.then(function(e){return angular.copy(e,l),e.$promise})}function o(t){return e.lastFresh({evidenceId:t}).$promise.then(function(e){return angular.copy(e,r),e.$promise})}var r={},l=[];return{initBase:i,data:{item:r,collection:l},query:n,last:a,queryFresh:s,lastFresh:o}}e.$inject=["$resource","$cacheFactory"],t.$inject=["EvidenceHistoryResource","$q"],angular.module("civic.services").factory("EvidenceHistoryResource",e).factory("EvidenceHistory",t)}(),function(){"use strict";function e(e,t){var i=t.get("$http");return e("/api/evidence_items/:evidenceId/suggested_changes/:revisionId",{evidenceId:"@evidenceId",revisionId:"@revisionId"},{query:{method:"GET",isArray:!0,cache:i},get:{method:"GET",isArray:!1,cache:i},getPendingFields:{method:"GET",url:"/api/evidence_items/:evidenceId/fields_with_pending_changes",params:{evidenceId:"@evidenceId"},cache:!1},submitRevision:{method:"POST",cache:!1},acceptRevision:{method:"POST",url:"/api/evidence_items/:evidenceId/suggested_changes/:revisionId/accept",params:{force:!0},cache:!1},rejectRevision:{method:"POST",url:"/api/evidence_items/:evidenceId/suggested_changes/:revisionId/reject",params:{force:!0},cache:i},queryFresh:{method:"GET",isArray:!0,cache:!1},getFresh:{method:"GET",isArray:!1,cache:!1},submitComment:{method:"POST",url:"/api/evidence_items/:evidenceId/suggested_changes/:revisionId/comments",params:{evidenceId:"@evidenceId",revisionId:"@revisionId"},cache:!1},updateComment:{method:"PATCH",url:"/api/evidence_items/:evidenceId/suggested_changes/:revisionId/comments/:commentId",params:{evidenceId:"@evidenceId",revisionId:"@revisionId",commentId:"@commentId"},interceptor:{response:function(e){return i.remove(e.config.url),e.$promise}}},queryComments:{method:"GET",url:"/api/evidence_items/:evidenceId/suggested_changes/:revisionId/comments",params:{evidenceId:"@evidenceId",revisionId:"@revisionId"},isArray:!0,cache:i},getComment:{method:"GET",url:"/api/evidence_items/:evidenceId/suggested_changes/:revisionId/comments/:commentId",params:{evidenceId:"@evidenceId",revisionId:"@revisionId",commentId:"@commentId"},isArray:!1,cache:i},deleteComment:{method:"DELETE",url:"/api/evidence_items/:evidenceId/suggested_changes/:revisionId/comments/:commentId",params:{evidenceId:"@evidenceId",revisionId:"@revisionId",commentId:"@commentId"},cache:!1},queryCommentsFresh:{method:"GET",url:"/api/evidence_items/:evidenceId/suggested_changes/:revisionId/comments",params:{evidenceId:"@evidenceId",revisionId:"@revisionId"},isArray:!0,cache:!1},getCommentFresh:{method:"GET",url:"/api/evidence_items/:evidenceId/suggested_changes/:revisionId/comments/:commentId",params:{evidenceId:"@evidenceId",revisionId:"@revisionId",commentId:"@commentId"},isArray:!1,cache:!1}})}function t(e,t,i,n,a,s,o){function r(e,i){return t.all([d(e,i)])}function l(e){return t.all([d(e)])}function c(e,i){return t.all([d(e,i)])}function d(e){return a.query({evidenceId:e}).$promise.then(function(e){return angular.copy(e,T),e.$promise})}function u(e,t){return a.get({evidenceId:e,revisionId:t}).$promise.then(function(e){return angular.copy(e,S),e.$promise})}function p(e){return a.getPendingFields({evidenceId:e}).$promise.then(function(e){return angular.copy(e.toJSON(),O),e.$promise})}function m(e){return a.submitRevision(e).$promise.then(function(a){return k.remove("/api/variants/"+e.variant_id),n.get(e.variant_id),k.remove("/api/variants/"+e.variant_id+"/evidence_items"),n.queryEvidence(e.variant_id),k.remove("/api/evidence_items/"+e.id+"/suggested_changes/"),d(e.id),k.remove("/api/genes/"+e.gene_id+"/variants_status"),o.getVariantsStatus(e.gene_id),k.remove("/api/subscriptions?count=999"),i.query(),t.when(a)},function(e){return t.reject(e)})}function v(e,r,l,c){return a.acceptRevision({evidenceId:e,revisionId:r,variantId:l,organization:c}).$promise.then(function(a){return k.remove("/api/variants/"+l),n.get(l),k.remove("/api/variants/"+l+"/evidence_items"),n.queryEvidence(l),k.remove("/api/evidence_items/"+e+"/suggested_changes/"),d(e),k.remove("/api/evidence_items/"+e+"/suggested_changes/"+r),u(e,r),k.remove("/api/evidence_items/"+e),s.get(e),k.remove("/api/genes/"+a.gene_id+"/variants_status"),o.getVariantsStatus(a.gene_id),k.remove("/api/subscriptions?count=999"),i.query(),t.when(a)},function(e){return t.reject(e)})}function g(e,s,r,l){return a.rejectRevision({evidenceId:e,revisionId:s,variantId:r,organization:l}).$promise.then(function(a){return k.remove("/api/variants/"+r),n.get(r),k.remove("/api/variants/"+r+"/evidence_items"),n.queryEvidence(r),k.remove("/api/evidence_items/"+a.id+"/suggested_changes/"),d(e),k.remove("/api/evidence_items/"+a.id+"/suggested_changes/"+s),u(e,s),k.remove("/api/genes/"+a.gene_id+"/variants_status"),o.getVariantsStatus(a.gene_id),k.remove("/api/subscriptions?count=999"),i.query(),t.when(a)},function(e){return t.reject(e)})}function h(e){return a.queryFresh({evidenceId:e}).$promise.then(function(e){return angular.copy(e,T),e.$promise})}function f(e,t){return a.getFresh({evidenceId:e,revisionId:t}).$promise.then(function(e){return angular.copy(e,S),e.$promise})}function y(e,t){return a.queryComments({evidenceId:e,revisionId:t}).$promise.then(function(e){return angular.copy(e,A),e.$promise})}function b(e,t,i){return a.getComment({evidenceId:e,revisionId:t,commentId:i}).$promise.then(function(e){return angular.copy(e,$),e.$promise})}function w(e){return a.submitComment(e).$promise.then(function(t){return x(e.evidenceId,e.revisionId),k.remove("/api/subscriptions?count=999"),i.query(),t.$promise})}function _(e){return a.updateComment(e).$promise.then(function(t){return angular.copy(t,$),I(e),t.$promise})}function C(e){return a.deleteComment({evidenceId:E.id,revisionId:S.id,commentId:e}).$promise.then(function(e){return k.remove("/api/evidence_items/"+E.id+"/suggested_changes/"+S.id+"/comments"),y(E.id,S.id),e.$promise})}function x(e,t){return a.queryCommentsFresh({evidenceId:e,revisionId:t}).$promise.then(function(e){return angular.copy(e,A),e.$promise})}function I(e,t,i){return a.getCommentFresh({evidenceId:e,revisionId:t,commentId:i}).$promise.then(function(e){return angular.copy(e,$),e.$promise})}var k=e.get("$http"),S={},E=s.data.item,T=[],$={},A=[],O={};return{initBase:r,initRevisions:l,initComments:c,data:{item:S,parent:E,collection:T,comment:$,comments:A,pendingFields:O},query:d,get:u,getPendingFields:p,submitRevision:m,acceptRevision:v,rejectRevision:g,queryFresh:h,getFresh:f,queryComments:y,getComment:b,submitComment:w,updateComment:_,deleteComment:C,queryCommentsFresh:x,getCommentFresh:I}}e.$inject=["$resource","$cacheFactory"],t.$inject=["$cacheFactory","$q","Subscriptions","Variants","EvidenceRevisionsResource","Evidence","Genes"],angular.module("civic.services").factory("EvidenceRevisionsResource",e).factory("EvidenceRevisions",t)}(),function(){"use strict";function e(e,t){var i=t.get("$http"),n=function(e){return i.remove(e.config.url),e.$promise};return e("/api/evidence_items/:evidenceId",{evidenceId:"@evidenceId"},{query:{method:"GET",isArray:!0,cache:i},get:{method:"GET",isArray:!1,cache:i},update:{method:"PATCH",interceptor:{response:n}},delete:{method:"DELETE",interceptor:{response:n}},add:{method:"POST",cache:!1},apply:{method:"PATCH",cache:!1},accept:{url:"/api/evidence_items/:evidenceId/accept",method:"POST",cache:!1},revert:{url:"/api/evidence_items/:evidenceId/revert",method:"POST",cache:!1},reject:{url:"/api/evidence_items/:evidenceId/reject",method:"POST",cache:!1},queryFlags:{method:"GET",url:"/api/evidence_items/:evidenceId/flags",isArray:!1,cache:i},submitFlag:{method:"POST",url:"/api/evidence_items/:evidenceId/flags",cache:!1},resolveFlag:{method:"PATCH",url:"/api/evidence_items/:evidenceId/flags/:flagId",params:{evidenceId:"@evidenceId",flagId:"@flagId"},cache:!1},queryComments:{method:"GET",url:"/api/evidence_items/:evidenceId/comments",isArray:!0,cache:i},getComment:{method:"GET",url:"/api/evidence_items/:evidenceId/comments/:commentId",params:{evidenceId:"@evidenceId",commentId:"@commentId"},isArray:!1,cache:i},submitComment:{method:"POST",url:"/api/evidence_items/:evidenceId/comments",params:{evidenceId:"@evidenceId"},cache:!1},updateComment:{method:"PATCH",url:"/api/evidence_items/:evidenceId/comments/:commentId",params:{evidenceId:"@evidenceId",commentId:"@commentId"},cache:!1},deleteComment:{method:"DELETE",url:"/api/evidence_items/:evidenceId/comments/:commentId",params:{evidenceId:"@evidenceId",commentId:"@commentId"},cache:!1}})}function t(e,t,i,n,a,s){function o(e){return a.all([p(e),f(e)])}function r(e){return a.all([w(e)])}function l(t){return e.add(t).$promise.then(function(e){return S.remove("/api/variants/"+e.variant.id),S.remove("/api/variants/"+e.variant.id+"/evidence_items"),S.remove("/api/genes/"+e.gene.id+"/variant_groups"),
S.remove("/api/genes/"+t.gene.id+"/variants?count=999"),i.queryVariants(t.gene.id),i.queryVariantGroups(t.gene.id),e.$promise})}function c(n,a,s){return e.accept({evidenceId:n,organization:s}).$promise.then(function(e){return S.remove("/api/evidence_items/"+e.id),S.remove("/api/variants/"+a),S.remove("/api/variants/"+a+"/evidence_items"),S.remove("/api/genes/"+e.gene_id+"/variant_groups"),p(e.id),t.get(a),S.remove("/api/genes/"+e.gene_id+"/variants?count=999"),i.queryVariants(e.gene_id),i.queryVariantGroups(e.gene_id),e.$promise})}function d(n,a,s){return e.reject({evidenceId:n,organization:s}).$promise.then(function(e){return S.remove("/api/evidence_items/"+e.id),S.remove("/api/variants/"+a),S.remove("/api/variants/"+a+"/evidence_items"),S.remove("/api/genes/"+e.gene_id+"/variant_groups"),p(e.id),t.get(a),S.remove("/api/genes/"+e.gene_id+"/variants?count=999"),i.queryVariants(e.gene_id),i.queryVariantGroups(e.gene_id),e.$promise})}function u(){return e.query().$promise.then(function(e){return angular.copy(e,T),e.$promise})}function p(t){return e.get({evidenceId:t}).$promise.then(function(e){return angular.copy(e,E),e.$promise})}function m(t){return e.update(t).$promise.then(function(e){return angular.copy(e,E),e.$promise})}function v(t){return e.delete({evidenceId:t}).$promise.then(function(e){return E=null,e.$promise})}function g(t){return e.apply(t).$promise.then(function(e){return S.remove("/api/evidence_items/"+e.id),p(t.evidenceId),a.when(e)},function(e){return a.reject(e)})}function h(n){return e.revert(n).$promise.then(function(e){return S.remove("/api/evidence_items/"+e.id),S.remove("/api/variants/"+e.variant_id),S.remove("/api/variants/"+e.variant_id+"/evidence_items"),S.remove("/api/genes/"+e.gene_id+"/variant_groups"),p(e.id),t.get(e.variant_id),t.queryEvidence(e.variant_id),S.remove("/api/genes/"+e.gene_id+"/variants?count=999"),i.queryVariants(e.gene_id),i.queryVariantGroups(e.gene_id),_.each(e.assertions,function(e){S.remove("/api/assertions/"+e.id)}),a.when(e)},function(e){return a.reject(e)})}function f(t){return e.queryFlags({evidenceId:t}).$promise.then(function(e){return angular.copy(e.records,A),e.$promise})}function y(i){return i.evidenceId=i.entityId,e.submitFlag(i).$promise.then(function(e){var i=e.state_params.evidence_item.id,a=e.state_params.variant.id;return S.remove("/api/evidence_items/"+i+"/flags"),f(i),S.remove("/api/subscriptions?count=999"),n.query(),S.remove("/api/evidence_items/"+i),S.remove("/api/variants/"+a),S.remove("/api/variants/"+a+"/evidence_items"),p(i),t.get(a),t.queryEvidence(a),e.$promise})}function b(i){return i.evidenceId=i.entityId,i.state="resolved",e.resolveFlag(i).$promise.then(function(e){var a=e.state_params.evidence_item.id,s=e.state_params.variant.id;return S.remove("/api/evidence_items/"+i.evidenceId+"/flags"),f(i.evidenceId),S.remove("/api/subscriptions?count=999"),n.query(),S.remove("/api/evidence_items/"+a),S.remove("/api/variants/"+s),S.remove("/api/variants/"+s+"/evidence_items"),p(a),t.get(s),t.queryEvidence(s),e.$promise})}function w(t){return e.queryComments({evidenceId:t}).$promise.then(function(e){return angular.copy(e,$),e.$promise})}function C(t,i){return e.getComment({evidenceId:t,commentId:i}).$promise.then(function(e){return e.$promise})}function x(t){return e.submitComment(t).$promise.then(function(e){return S.remove("/api/evidence_items/"+t.evidenceId+"/comments"),w(t.evidenceId),S.remove("/api/subscriptions?count=999"),n.query(),e.$promise})}function I(t){return e.updateComment(t).$promise.then(function(e){return S.remove("/api/evidence_items/"+t.evidenceId+"/comments/"+t.commentId),w(t.evidenceId),e.$promise})}function k(t){return e.deleteComment({evidenceId:E.id,commentId:t}).$promise.then(function(e){return S.remove("/api/evidence_items/"+E.id+"/comments"),w(E.id),e.$promise})}var S=s.get("$http"),E={},T=[],$=[],A=[];return{initBase:o,initComments:r,data:{item:E,collection:T,comments:$,flags:A},add:l,query:u,get:p,update:m,delete:v,apply:g,accept:c,revert:h,reject:d,queryComments:w,getComment:C,submitComment:x,updateComment:I,deleteComment:k,queryFlags:f,submitFlag:y,resolveFlag:b}}e.$inject=["$resource","$cacheFactory"],t.$inject=["EvidenceResource","Variants","Genes","Subscriptions","$q","$cacheFactory"],angular.module("civic.services").factory("EvidenceResource",e).factory("Evidence",t)}(),function(){"use strict";function e(e){return e("/api/curation/open_flags",{},{queryOpen:{method:"GET",isArray:!1,cache:!0}})}function t(e){function t(t){return e.queryOpen(t).$promise.then(function(e){return angular.copy(e.records,i),e.$promise})}var i=[];return{data:{collection:i},queryOpen:t}}e.$inject=["$resource"],t.$inject=["FlagsResource"],angular.module("civic.services").factory("FlagsResource",e).factory("Flags",t)}(),function(){"use strict";function e(e,t){var i=t.get("$http");return e("/api/genes/:geneId/revisions",{geneId:"@geneId"},{query:{method:"GET",isArray:!0,cache:i},last:{method:"GET",isArray:!1,cache:i},queryFresh:{method:"GET",isArray:!0,cache:!1},lastFresh:{method:"GET",isArray:!1,cache:!1}})}function t(e,t){function i(e){return t.all([n(e)])}function n(t){return e.query({geneId:t}).$promise.then(function(e){return angular.copy(e,l),e.$promise})}function a(t){return e.last({geneId:t}).$promise.then(function(e){return angular.copy(e,r),e.$promise})}function s(t){return e.queryFresh({geneId:t}).$promise.then(function(e){return angular.copy(e,l),e.$promise})}function o(t){return e.lastFresh({geneId:t}).$promise.then(function(e){return angular.copy(e,r),e.$promise})}var r={},l=[];return{initBase:i,data:{item:r,collection:l},query:n,last:a,queryFresh:s,lastFresh:o}}e.$inject=["$resource","$cacheFactory"],t.$inject=["GeneHistoryResource","$q"],angular.module("civic.services").factory("GeneHistoryResource",e).factory("GeneHistory",t)}(),function(){"use strict";function e(e,t){var i=t.get("$http");return e("/api/genes/:geneId/suggested_changes/:revisionId",{geneId:"@geneId",revisionId:"@revisionId"},{query:{method:"GET",isArray:!0,cache:i},get:{method:"GET",isArray:!1,cache:i},submitRevision:{method:"POST",cache:!1},getPendingFields:{method:"GET",url:"/api/genes/:geneId/fields_with_pending_changes",params:{geneId:"@geneId"},cache:!1},acceptRevision:{method:"POST",url:"/api/genes/:geneId/suggested_changes/:revisionId/accept",params:{force:!0},cache:!1},rejectRevision:{method:"POST",url:"/api/genes/:geneId/suggested_changes/:revisionId/reject",params:{force:!0},cache:!1},submitComment:{method:"POST",url:"/api/genes/:geneId/suggested_changes/:revisionId/comments",params:{geneId:"@geneId",revisionId:"@revisionId"},cache:!1},updateComment:{method:"PATCH",url:"/api/genes/:geneId/suggested_changes/:revisionId/comments/:commentId",params:{geneId:"@geneId",revisionId:"@revisionId",commentId:"@commentId"},interceptor:{response:function(e){return i.remove(e.config.url),e.$promise}}},queryComments:{method:"GET",url:"/api/genes/:geneId/suggested_changes/:revisionId/comments",params:{geneId:"@geneId",revisionId:"@revisionId"},isArray:!0,cache:i},getComment:{method:"GET",url:"/api/genes/:geneId/suggested_changes/:revisionId/comments/:commentId",params:{geneId:"@geneId",revisionId:"@revisionId",commentId:"@commentId"},isArray:!1,cache:i},deleteComment:{method:"DELETE",url:"/api/genes/:geneId/suggested_changes/:revisionId/comments/:commentId",params:{geneId:"@geneId",revisionId:"@revisionId",commentId:"@commentId"},cache:!1}})}function t(e,t,i,n,a){function s(e,t){return a.all([l(e,t)])}function o(e){return a.all([l(e)])}function r(e,t){return a.all([l(e,t)])}function l(t){return e.query({geneId:t}).$promise.then(function(e){return angular.copy(e,C),e.$promise})}function c(t,i){return e.get({geneId:t,revisionId:i}).$promise.then(function(e){return angular.copy(e,w),e.$promise})}function d(t){return e.getPendingFields({geneId:t}).$promise.then(function(e){return angular.copy(e.toJSON(),k),e.$promise})}function u(t){return e.submitRevision(t).$promise.then(function(e){return b.remove("/api/genes/"+t.id+"/suggested_changes/"),b.remove("/api/subscriptions?count=999"),i.query(),a.when(e)},function(e){return a.reject(e)})}function p(n,s,o){return e.acceptRevision({geneId:n,revisionId:s,organization:o}).$promise.then(function(e){return b.remove("/api/genes/"+n+"/suggested_changes/"),l(n),b.remove("/api/genes/"+n+"/suggested_changes/"+s),c(n,s),b.remove("/api/genes/"+n),t.get(n),b.remove("/api/subscriptions?count=999"),i.query(),a.when(e)},function(e){return a.reject(e)})}function m(t,n,s){return e.rejectRevision({geneId:t,revisionId:n,organization:s}).$promise.then(function(e){return b.remove("/api/genes/"+e.id+"/suggested_changes/"),l(t),b.remove("/api/genes/"+e.id+"/suggested_changes/"+n),c(t,n),b.remove("/api/subscriptions?count=999"),i.query(),a.when(e)},function(e){return a.reject(e)})}function v(t,i){return e.queryComments({geneId:t,revisionId:i}).$promise.then(function(e){return angular.copy(e,I),e.$promise})}function g(t,i,n){return e.getComment({geneId:t,revisionId:i,commentId:n}).$promise.then(function(e){return angular.copy(e,x),e.$promise})}function h(t){return e.submitComment(t).$promise.then(function(e){return b.remove("/api/genes/"+t.geneId+"/suggested_changes/"+t.revisionId+"/comments"),v(t.geneId,t.revisionId),b.remove("/api/subscriptions?count=999"),i.query(),e.$promise})}function f(t){return e.updateComment(t).$promise.then(function(e){return angular.copy(e,x),b.remove("/api/genes/"+t.geneId+"/suggested_changes/"+t.revisionId+"/comments"),b.remove("/api/genes/"+t.geneId+"/suggested_changes/"+t.revisionId+"/comments/"+t.commentId),v(t.geneId,t.revisionId),e.$promise})}function y(t){return e.deleteComment({geneId:_.id,revisionId:w.id,commentId:t}).$promise.then(function(e){return b.remove("/api/genes/"+_.id+"/suggested_changes/"+w.id+"/comments"),v(_.id,w.id),e.$promise})}var b=n.get("$http"),w={},_=t.data.item,C=[],x={},I=[],k={};return{initBase:s,initRevisions:o,initComments:r,data:{item:w,parent:_,collection:C,comment:x,comments:I,pendingFields:k},query:l,get:c,getPendingFields:d,submitRevision:u,acceptRevision:p,rejectRevision:m,queryComments:v,getComment:g,submitComment:h,updateComment:f,deleteComment:y}}e.$inject=["$resource","$cacheFactory"],t.$inject=["GeneRevisionsResource","Genes","Subscriptions","$cacheFactory","$q"],angular.module("civic.services").factory("GeneRevisionsResource",e).factory("GeneRevisions",t)}(),function(){"use strict";function e(e,t,i){var n=t.get("$http"),a=function(e){return n.remove(e.config.url),e.$promise};return e("/api/genes/:geneId",{geneId:"@geneId"},{query:{method:"GET",isArray:!1,cache:n},queryLocal:{url:"/api/genes/local_suggestions/:q",method:"GET",isArray:!0},get:{method:"GET",isArray:!1,cache:n},getName:{url:"/api/genes/:geneId",params:{detailed:"false"},method:"GET",isArray:!1,cache:n},update:{method:"PATCH",interceptor:{response:a}},delete:{method:"DELETE",interceptor:{response:a}},apply:{method:"PATCH",cache:!1},verify:{method:"GET",url:"/api/genes/existence/:geneId",isArray:!1,cache:n},search:{},beginsWith:{method:"GET",url:"/api/genes?name=:name&detailed=false",isArray:!0,cache:n},exactMatch:{method:"GET",url:"/api/genes?name=:name&exact_match=true&detailed=false",isArray:!0,cache:n},getMyGeneInfo:{url:"/api/genes/:geneId/mygene_info_proxy",params:{geneId:"@geneId"},cache:n,transformResponse:function(e){"string"==typeof e&&(e=JSON.parse(e));var t,n={kegg:"http://www.genome.jp/kegg-bin/show_pathway?",reactome:"http://www.reactome.org/cgi-bin/control_panel_st_id?ST_ID=",pharmgkb:"https://www.pharmgkb.org/pathway/",humancyc:"http://humancyc.org/HUMAN/NEW-IMAGE?type=PATHWAY&object=",smpdb:"http://www.smpdb.ca/view/",pid:"http://pid.nci.nih.gov/search/pathway_landing.shtml?what=graphic&jpg=on&pathway_id=",wikipathways:"http://wikipathways.org/index.php/Pathway:",netpath:null,biocarta:null,inoh:null,signalink:null,ehmn:null},a=e.pathway||[],s=[];for(var o in a){angular.isArray(a[o])||(a[o]=[a[o]]);for(var r in a[o])t=n[o]+a[o][r].id,null===n[o]&&(t=null),s.push({name:a[o][r].name,link:t,src:o})}return e.pathway=s,!i.isArray(e.alias)&&e.alias&&(e.alias=[e.alias]),!i.isArray(e.interpro)&&e.interpro&&(e.interpro=[e.interpro]),e}},getVariantsStatus:{url:"/api/genes/:geneId/variants_status",method:"GET",isArray:!1,cache:n},queryVariants:{method:"GET",url:"/api/genes/:geneId/variants",isArray:!1,cache:n},queryVariantGroups:{method:"GET",url:"/api/genes/:geneId/variant_groups",isArray:!1,cache:n},queryFlags:{method:"GET",url:"/api/genes/:geneId/flags",isArray:!1,cache:n},submitFlag:{method:"POST",url:"/api/genes/:geneId/flags",cache:!1},resolveFlag:{method:"PATCH",url:"/api/genes/:geneId/flags/:flagId",params:{geneId:"@geneId",flagId:"@flagId"},cache:!1},queryComments:{method:"GET",url:"/api/genes/:geneId/comments",isArray:!0,cache:n},getComment:{method:"GET",url:"/api/genes/:geneId/comments/:commentId",params:{geneId:"@geneId",commentId:"@commentId"},isArray:!1,cache:n},submitComment:{method:"POST",url:"/api/genes/:geneId/comments",params:{geneId:"@geneId"},cache:!1},updateComment:{method:"PATCH",url:"/api/genes/:geneId/comments/:commentId",params:{geneId:"@geneId",commentId:"@commentId"},cache:!1},deleteComment:{method:"DELETE",url:"/api/genes/:geneId/comments/:commentId",params:{geneId:"@geneId",commentId:"@commentId"},cache:!1}})}function t(e,t,i,n){function a(e){return i.all([l(e),h(e),b(e),w(e)])}function s(e){return i.all([x(e)])}function o(){return e.query().$promise.then(function(e){return angular.copy(e.records,A),e.$promise})}function r(t){var i={q:t};return e.queryLocal(i).$promise.then(function(e){return angular.copy(e.records,O),e.$promise})}function l(t){return e.get({geneId:t}).$promise.then(function(e){return angular.copy(e,$),e.$promise})}function c(t){return e.getName({geneId:t}).$promise.then(function(e){return e.$promise})}function d(t){return e.update(t).$promise.then(function(e){return angular.copy(e,$),e.$promise})}function u(t){return e.delete({geneId:t}).$promise.then(function(e){return $=null,e.$promise})}function p(t){return e.apply(t).$promise.then(function(e){return T.remove("/api/genes/"+e.id),l(t.geneId),i.when(e)},function(e){return i.reject(e)})}function m(t){return e.verify({geneId:t}).$promise.then(function(e){return e.$promise})}function v(t){return e.beginsWith({name:t}).$promise.then(function(e){return e.$promise})}function g(t){return e.exactMatch({name:t}).$promise.then(function(e){return e.$promise})}function h(t){return e.getMyGeneInfo({geneId:t}).$promise.then(function(e){return angular.copy(e,G),e.$promise})}function f(t){return e.queryVariants({geneId:t,count:999}).$promise.then(function(e){return angular.copy(e.records,V),e.$promise})}function y(t){return e.queryVariantGroups({geneId:t}).$promise.then(function(e){return angular.copy(e.records,q),e.$promise})}function b(t){return e.getVariantsStatus({geneId:t}).$promise.then(function(e){return angular.copy(e,N),e.$promise})}function w(t){return e.queryFlags({geneId:t}).$promise.then(function(e){return angular.copy(e.records,R),e.$promise})}function _(i){return i.geneId=i.entityId,e.submitFlag(i).$promise.then(function(e){return T.remove("/api/genes/"+i.geneId+"/flags"),w(i.geneId),T.remove("/api/subscriptions?count=999"),t.query(),e.$promise})}function C(i){return i.geneId=i.entityId,i.state="resolved",e.resolveFlag(i).$promise.then(function(e){return T.remove("/api/genes/"+i.geneId+"/flags"),w(i.geneId),T.remove("/api/subscriptions?count=999"),t.query(),e.$promise})}function x(t){return e.queryComments({geneId:t}).$promise.then(function(e){return angular.copy(e,P),e.$promise})}function I(t,i){return e.getComment({geneId:t,commentId:i}).$promise.then(function(e){return e.$promise})}function k(i){return e.submitComment(i).$promise.then(function(e){return T.remove("/api/genes/"+i.geneId+"/comments"),x(i.geneId),T.remove("/api/subscriptions?count=999"),t.query(),e.$promise})}function S(t){return e.updateComment(t).$promise.then(function(e){return T.remove("/api/genes/"+t.geneId+"/comments"),x(t.geneId),e.$promise})}function E(t){return e.deleteComment({geneId:$.id,commentId:t}).$promise.then(function(e){return T.remove("/api/genes/"+$.id+"/comments"),x($.id),e.$promise})}var T=n.get("$http"),$={},A=[],O=[],G={},N=[],V=[],q=[],P=[],R=[];return{initBase:a,initComments:s,data:{item:$,collection:A,suggestions:O,myGeneInfo:G,variants:V,variantGroups:q,variantsStatus:N,comments:P,flags:R},query:o,queryLocal:r,get:l,getName:c,update:d,delete:u,apply:p,getMyGeneInfo:h,getVariantsStatus:b,verify:m,queryVariants:f,queryVariantGroups:y,queryFlags:w,submitFlag:_,resolveFlag:C,queryComments:x,getComment:I,submitComment:k,updateComment:S,deleteComment:E,beginsWith:v,exactMatch:g}}e.$inject=["$resource","$cacheFactory","_"],t.$inject=["GenesResource","Subscriptions","$q","$cacheFactory"],angular.module("civic.services").factory("GenesResource",e).factory("Genes",t)}(),function(){"use strict";function e(e,t){var i=t("glossaryCache");return e("/api/text/:term",{},{query:{method:"GET",isArray:!1,cache:i},get:{method:"GET",isArray:!1,cache:i}})}e.$inject=["$resource","$cacheFactory"],angular.module("civic.services").factory("Glossary",e)}(),function(){"use strict";angular.module("civic.services").factory("_",["$window",function(e){return e._}])}(),function(){"use strict";function e(e,t,i){return e("/api/genes/mygene_info_proxy/:geneId",{geneId:"@geneId"},{get:{cache:t("MyGeneInfo"),transformResponse:function(e){"string"==typeof e&&(e=JSON.parse(e));var t,n={kegg:"http://www.genome.jp/kegg-bin/show_pathway?",reactome:"http://www.reactome.org/cgi-bin/control_panel_st_id?ST_ID=",pharmgkb:"https://www.pharmgkb.org/pathway/",humancyc:"http://humancyc.org/HUMAN/NEW-IMAGE?type=PATHWAY&object=",smpdb:"http://www.smpdb.ca/view/",pid:"http://pid.nci.nih.gov/search/pathway_landing.shtml?what=graphic&jpg=on&pathway_id=",wikipathways:"http://wikipathways.org/index.php/Pathway:",netpath:null,biocarta:null,inoh:null,signalink:null,ehmn:null},a=e.pathway||[],s=[];for(var o in a){angular.isArray(a[o])||(a[o]=[a[o]]);for(var r in a[o])t=n[o]+a[o][r].id,null===n[o]&&(t=null),s.push({name:a[o][r].name,link:t,src:o})}return e.pathway=s,!i.isArray(e.alias)&&e.alias&&(e.alias=[e.alias]),!i.isArray(e.interpro)&&e.interpro&&(e.interpro=[e.interpro]),e}}})}function t(e){return{get:function(t){return e.get({geneId:t}).$promise.then(function(e){return e})}}}e.$inject=["$resource","$cacheFactory","_"],t.$inject=["MyGeneInfoResource"],angular.module("civic.services").factory("MyGeneInfoResource",e).factory("MyGeneInfo",t)}(),function(){"use strict";function e(e){return e("/api/nccn_guidelines",{},{contains:{method:"GET",url:"/api/nccn_guidelines?query=:query",isArray:!0,cache:!0},exactMatch:{method:"GET",url:"/api/nccn_guidelines?query=:query&exact_match=true",isArray:!0,cache:!0}})}function t(e){function t(t){return e.contains({query:t}).$promise.then(function(e){return e.$promise})}function i(t){return e.exactMatch({query:t}).$promise.then(function(e){return e.$promise})}return{data:{item:{},collection:[]},contains:t,exactMatch:i}}e.$inject=["$resource"],t.$inject=["NccnGuidelinesResource"],angular.module("civic.services").factory("NccnGuidelinesResource",e).factory("NccnGuidelines",t)}(),function(){"use strict";function e(e){return e("/api/organizations",{},{query:{method:"GET",isArray:!1,cache:!0},get:{url:"/api/organizations/:organizationId",params:{organizationId:"@organizationId"},method:"GET",isArray:!1,cache:!0},queryEvidence:{method:"GET",url:"/api/organizations/:organizationId/evidence_items",isArray:!1,cache:!1}})}function t(e,t){function i(e){return e.members&&(e.members=e.members.map(function(e){var i={};return i.data=e,t(i)})),e}function n(t){return e.query(t).$promise.then(function(e){return e.records=e.result.map(function(e){return i(e)}),angular.copy(e.records,r),e.$promise})}function a(t){return e.get({organizationId:t}).$promise.then(function(e){return e=i(e),angular.copy(e,o),e.$promise})}function s(t){return e.queryEvidence({organizationId:t,count:999}).$promise.then(function(e){return angular.copy(e.records,l),e.$promise})}var o={},r=[],l=[];return{data:{item:o,collection:r,evidence_items:l},query:n,get:a,queryEvidence:s}}e.$inject=["$resource"],t.$inject=["OrganizationsResource","UserOrgsInterceptor"],angular.module("civic.services").factory("OrganizationsResource",e).factory("Organizations",t)}(),function(){"use strict";function e(e){return e("/api/phenotypes",{},{query:{method:"GET",isArray:!0,cache:!1}})}function t(e){return{query:function(t){var i={query:t,count:25};return e.query(i).$promise.then(function(e){return e.$promise})}}}e.$inject=["$resource"],t.$inject=["PhenotypesResource"],angular.module("civic.services").factory("PhenotypesResource",e).factory("Phenotypes",t)}(),function(){"use strict";function e(e){return e("/api/sources",{},{query:{method:"GET",isArray:!0,cache:!0},get:{method:"GET",url:"/api/sources/existence/:citationId",isArray:!1,cache:!0},verify:{method:"GET",url:"/api/sources/existence/:citationId?source_type=:sourceType",isArray:!1,cache:!0}})}function t(e){function t(){return e.query().$promise.then(function(e){return angular.copy(e,s),e.$promise})}function i(t){return e.get({citationId:t}).$promise.then(function(e){return angular.copy(e,a),e.$promise})}function n(t){return e.verify(t).$promise.then(function(e){return e.$promise})}var a={},s=[];return{data:{item:a,collection:s},query:t,get:i,verify:n}}e.$inject=["$resource"],t.$inject=["PublicationsResource"],angular.module("civic.services").factory("PublicationsResource",e).factory("Publications",t)}(),function(){"use strict";function e(e,t){t.get("$http");return e("/api/releases?count=999",{},{query:{method:"GET",isArray:!0,cache:!1}})}function t(e,t){function i(){return t.all([n()])}function n(){return e.query().$promise.then(function(e){return angular.copy(e,a),e.$promise})}var a=[];return{initBase:i,data:{collection:a},query:n}}e.$inject=["$resource","$cacheFactory"],t.$inject=["ReleasesResource","$q"],angular.module("civic.services").factory("ReleasesResource",e).factory("Releases",t)}(),function(){"use strict";function e(e,t){return e("/api/:entity/search/:token",{token:"@token",entity:"@entity"},{post:{method:"POST",isArray:!1,cache:!1,cancellable:!0,interceptor:{response:function(e){return e.resource.results.length>0?t.resolve(e.resource):t.reject("No results returned. Please try using less-specific search parameters.")}}}},{get:{method:"GET",isArray:!1,cache:!1}})}function t(e){function t(){a={}}function i(t){return e.post(t).$promise.then(function(e){return angular.copy(e,a),e.$promise})}function n(t){return e.get(t).$promise.then(function(e){return angular.copy(e,a),e.$promise})}i.$inject=["reqObj"],n.$inject=["reqObj"];var a={};return{results:a,post:i,get:n,reset:t}}e.$inject=["$resource","$q"],t.$inject=["SearchResource"],angular.module("civic.services").factory("SearchResource",e).factory("Search",t)}(),function(){"use strict";function e(e,t){var i=t.get("$http");return e("/api/sources",{},{query:{method:"GET",isArray:!0,cache:!0},get:{method:"GET",url:"/api/sources/:sourceId",isArray:!1,cache:!1},suggest:{method:"POST",url:"/api/sources",isArray:!1,cache:!1},setStatus:{method:"PATCH",url:"/api/source_suggestions/:suggestionId",params:{suggestionId:"@suggestionId",reason:"@reason"},isArray:!1,cache:!1},querySuggested:{method:"GET",url:"/api/datatables/source_suggestions",params:{count:"@count",page:"@page"},isArray:!1,cache:!1},queryComments:{method:"GET",url:"/api/sources/:sourceId/comments",params:{sourceId:"@sourceId"},isArray:!0,cache:i},getComment:{method:"GET",url:"/api/sources/:sourceId/comments/:commentId",params:{sourceId:"@sourceId",commentId:"@commentId"},isArray:!1,cache:i},submitComment:{method:"POST",url:"/api/sources/:sourceId/comments",params:{sourceId:"@sourceId"},cache:!1},updateComment:{method:"PATCH",url:"/api/sources/:sourceId/comments/:commentId",params:{sourceId:"@sourceId",commentId:"@commentId"},cache:!1},deleteComment:{method:"DELETE",url:"/api/sources/:sourceId/comments/:commentId",params:{sourceId:"@sourceId",commentId:"@commentId"},cache:!1}})}function t(e,t){function i(){return t.query().$promise.then(function(e){return angular.copy(e,v),e.$promise})}function n(e){return t.get({sourceId:e}).$promise.then(function(e){return angular.copy(e,m),e.$promise})}function a(e){return t.suggest(e).$promise.then(function(e){return e.$promise})}function s(e){return t.querySuggested(e).$promise.then(function(e){return angular.copy(e.result,g),e.$promise})}function o(e){return t.setStatus(e).$promise.then(function(e){return e.$promise})}function r(e){return t.queryComments({sourceId:e}).$promise.then(function(e){return angular.copy(e,h),e.$promise})}function l(e,i){return t.getComment({sourceId:e,commentId:i}).$promise.then(function(e){return e.$promise})}function c(e){return t.submitComment(e).$promise.then(function(t){return p.remove("/api/sources/"+e.sourceId+"/comments"),r(e.sourceId),t.$promise})}function d(e){return t.updateComment(e).$promise.then(function(t){return p.remove("/api/sources/"+e.sourceId+"/comments"),r(e.sourceId),t.$promise})}function u(e){return t.deleteComment({sourceId:m.id,commentId:e}).$promise.then(function(e){return p.remove("/api/sources/"+m.id+"/comments"),r(m.id),e.$promise})}var p=e.get("$http"),m={},v=[],g=[],h=[];return{data:{item:m,collection:v,suggested:g,comments:h},query:i,get:n,suggest:a,getSuggested:s,setStatus:o,queryComments:r,submitComment:c,getComment:l,updateComment:d,deleteComment:u}}e.$inject=["$resource","$cacheFactory"],t.$inject=["$cacheFactory","SourcesResource"],angular.module("civic.services").factory("SourcesResource",e).factory("Sources",t)}(),function(){"use strict";function e(e){return e("",{},{site:{url:"/api/stats/site",method:"GET",isArray:!1,cache:!1},user:{url:"/api/users/:userId/stats",params:{userId:"@userId"},method:"GET",isArray:!1,cache:!1},organization:{url:"/api/organizations/:organizationId/stats",params:{organizationId:"@organizationId"},method:"GET",isArray:!1,cache:!1},dashboard:{url:"/api/stats/dashboard",method:"GET",isArray:!1,cache:!1}})}function t(e){function t(){return e.site().$promise.then(function(e){return angular.copy(e,s),e.$promise})}function i(t){return e.user({userId:t}).$promise.then(function(e){return angular.copy(e,o),e.$promise})}function n(t){return e.organization({organizationId:t}).$promise.then(function(e){return angular.copy(e,r),e.$promise})}function a(t){return e.dashboard(t).$promise.then(function(e){return angular.copy(e,l),e.$promise})}var s={},o={},r={},l={};return{data:{site:s,user:o,organization:r,dashboard:l},getSite:t,getUser:i,getOrganization:n,getDashboard:a}}e.$inject=["$resource"],t.$inject=["StatsResource"],angular.module("civic.services").factory("StatsResource",e).factory("Stats",t)}(),function(){"use strict";function e(e){return e("",{},{query:{url:"/api/subscriptions",params:{count:999},method:"GET",isArray:!1,cache:!1},get:{url:"/api/subscriptions/:subscriptionId",params:{subscriptionId:"@subscriptionId"},method:"GET",isArray:!1,cache:!1},unsubscribe:{url:"/api/subscriptions/:subscriptionId",method:"DELETE",isArray:!1,cache:!1},subscribe:{url:"/api/subscriptions",method:"POST",cache:!1}})}function t(e){function t(){return e.query().$promise.then(function(e){return angular.copy(e.records,s),e.$promise})}function i(t){return e.get({subscriptionId:t}).$promise.then(function(e){return angular.copy(e.records,o),e.$promise})}function n(i){return e.unsubscribe({subscriptionId:i}).$promise.then(function(e){return t(),e.$promise})}function a(i){return e.subscribe(i).$promise.then(function(e){return t(),e.$promise})}var s=[],o={};return{data:{item:o,collection:s},query:t,get:i,unsubscribe:n,subscribe:a}}e.$inject=["$resource"],t.$inject=["SubscriptionsResource"],angular.module("civic.services").factory("SubscriptionsResource",e).factory("Subscriptions",t)}(),function(){"use strict";function e(e,t,i,n,a,s,o,r,l,c){e.$on("$stateChangeSuccess",function(d,u,p){var m,v,g,h,f,y,b="",w={assertion:{},gene:{},variant:{},evidence:{},variantGroup:{},user:{}};r.has(p,"geneId")&&"undefined"!==p.geneId&&w.gene.entrez_id!==p.geneId&&(v=i.get(p.geneId)),r.has(p,"variantId")&&"undefined"!==p.variantId&&w.variant.id!==p.variantId&&(g=n.get(p.variantId)),r.has(p,"variantGroupId")&&"undefined"!==p.variantGroupId&&w.variantGroup.id!==p.variantGroupId&&(h=s.get(p.variantGroupId)),r.has(p,"evidenceId")&&"undefined"!==p.evidenceId&&w.evidence.id!==p.evidenceId&&(f=a.get(p.evidenceId)),r.has(p,"userId")&&"undefined"!==p.userId&&w.user.id!==p.userId&&(y=o.get(p.userId)),r.has(p,"assertionId")&&"undefined"!==p.assertionId&&w.assertion.id!==p.assertionId&&(m=t.get(p.assertionId)),l.all({assertion:m,gene:v,variant:g,evidence:f,variantGroup:h,user:y}).then(function(t){w.gene=t.gene,w.variant=t.variant,w.evidence=t.evidence,w.variantGroup=t.variantGroup,w.user=t.user,w.assertion=t.assertion,b=c(u.data.titleExp)(w),e.$broadcast("title:update",{newTitle:b})})})}e.$inject=["$rootScope","Assertions","Genes","Variants","Evidence","VariantGroups","Users","_","$q","$parse"],angular.module("civic.services").service("TitleService",e)}(),function(){"use strict";function e(e){return e("/api/variants/typeahead_results",{query:"@query",limit:"@limit"},{query:{method:"GET",isArray:!1,cache:!0},variants:{url:"/api/typeahead_searches/variants",method:"GET",params:{query:"@query",count:"@count"},isArray:!1,cache:!0}})}e.$inject=["$resource"],angular.module("civic.services").factory("TypeAheadResults",e)}(),function(){function e(e){var t=e.data;if(_.isNull(t.most_recent_organization))_.isEmpty(t.organizations)||(t.most_recent_organization=t.organizations[0]);else{var i=t.most_recent_organization.id;_.some(t.organizations,{id:i})||(_.isEmpty(t.organizations)?t.most_recent_organization=null:t.most_recent_organization=t.organizations[0])}return t}angular.module("civic.services").constant("UserOrgsInterceptor",e)}(),function(){"use strict";function e(e,t){return e("/api/users/:userId",{userId:"@userId"},{get:{method:"GET",isArray:!1,cache:!1},query:{method:"GET",isArray:!1,cache:!1},update:{method:"PATCH",params:{userId:"@id"},cache:!1},queryEvents:{url:"/api/users/:userId/events",method:"GET",isArray:!1,cache:!1}})}function t(e,t,i){function n(e){var t={};return t.data=e,i(t)}function a(e){return t.get({userId:e}).$promise.then(function(e){return angular.copy(n(e),l),e.$promise})}function s(e){return t.query(e).$promise.then(function(e){return e.result=e.result.map(function(e){return n(e)}),angular.copy(e,c),e.$promise})}function o(e){return t.queryEvents({userId:e}).$promise.then(function(e){return angular.copy(e,d),e.$promise})}function r(e){return t.update(e).$promise.then(function(e){return e.$promise})}var l={},c=[],d=[];return{data:{item:l,collection:c,events:d},get:a,query:s,queryEvents:o,update:r}}e.$inject=["$resource","UserOrgsInterceptor"],t.$inject=["$q","UsersResource","UserOrgsInterceptor"],angular.module("civic.services").factory("UsersResource",e).factory("Users",t)}(),function(){"use strict";function e(e,t){var i=t.get("$http");return e("/api/variants/:variantId/revisions",{variantId:"@variantId"},{query:{method:"GET",isArray:!0,cache:i},last:{method:"GET",isArray:!1,cache:i},queryFresh:{method:"GET",isArray:!0,cache:!1},lastFresh:{method:"GET",isArray:!1,cache:!1}})}function t(e,t){function i(e){return t.all([n(e)])}function n(t){return e.query({variantId:t}).$promise.then(function(e){return angular.copy(e,l),e.$promise})}function a(t){return e.last({variantId:t}).$promise.then(function(e){return angular.copy(e,r),e.$promise})}function s(t){return e.queryFresh({variantId:t}).$promise.then(function(e){return angular.copy(e,l),e.$promise})}function o(t){return e.lastFresh({variantId:t}).$promise.then(function(e){return angular.copy(e,r),e.$promise})}var r={},l=[];return{initBase:i,data:{item:r,collection:l},query:n,last:a,queryFresh:s,lastFresh:o}}e.$inject=["$resource","$cacheFactory"],
t.$inject=["VariantGroupHistoryResource","$q"],angular.module("civic.services").factory("VariantGroupHistoryResource",e).factory("VariantGroupHistory",t)}(),function(){"use strict";function e(e,t){var i=t.get("$http");return e("/api/variant_groups/:variantGroupId/suggested_changes/:revisionId",{variantGroupId:"@variantGroupId",revisionId:"@revisionId"},{query:{method:"GET",isArray:!0,cache:i},get:{method:"GET",isArray:!1,cache:i},getPendingFields:{method:"GET",url:"/api/variant_groups/:variantGroupId/fields_with_pending_changes",params:{variantGroupId:"@variantGroupId"},cache:!1},submitRevision:{method:"POST",cache:!1},acceptRevision:{method:"POST",url:"/api/variant_groups/:variantGroupId/suggested_changes/:revisionId/accept",params:{variantGroupId:"@variantGroupId",revisionId:"@revisionId",organization:"@organization",force:!0},cache:!1},rejectRevision:{method:"POST",url:"/api/variant_groups/:variantGroupId/suggested_changes/:revisionId/reject",params:{variantGroupId:"@variantGroupId",revisionId:"@revisionId",organization:"@organization",force:!0},cache:i},submitComment:{method:"POST",url:"/api/variant_groups/:variantGroupId/suggested_changes/:revisionId/comments",params:{variantGroupId:"@variantGroupId",revisionId:"@revisionId"},cache:!1},updateComment:{method:"PATCH",url:"/api/variant_groups/:variantGroupId/suggested_changes/:revisionId/comments/:commentId",params:{variantGroupId:"@variantGroupId",revisionId:"@revisionId",commentId:"@commentId"},interceptor:{response:function(e){return i.remove(e.config.url),e.$promise}}},queryComments:{method:"GET",url:"/api/variant_groups/:variantGroupId/suggested_changes/:revisionId/comments",params:{variantGroupId:"@variantGroupId",revisionId:"@revisionId"},isArray:!0,cache:i},getComment:{method:"GET",url:"/api/variant_groups/:variantGroupId/suggested_changes/:revisionId/comments/:commentId",params:{variantGroupId:"@variantGroupId",revisionId:"@revisionId",commentId:"@commentId"},isArray:!1,cache:i},deleteComment:{method:"DELETE",url:"/api/variant_groups/:variantGroupId/suggested_changes/:revisionId/comments/:commentId",params:{variantGroupId:"@variantGroupId",revisionId:"@revisionId",commentId:"@commentId"},cache:!1}})}function t(e,t,i,n,a,s,o){function r(e,t){return s.all([d(e,t)])}function l(e){return s.all([d(e)])}function c(e,t){return s.all([d(e,t)])}function d(t){return e.query({variantGroupId:t}).$promise.then(function(e){return angular.copy(e,I),e.$promise})}function u(t,i){return e.get({variantGroupId:t,revisionId:i}).$promise.then(function(e){return angular.copy(e,C),e.$promise})}function p(t){return e.getPendingFields({variantGroupId:t}).$promise.then(function(e){return angular.copy(e.toJSON(),E),e.$promise})}function m(t){return e.submitRevision(t).$promise.then(function(e){return _.remove("/api/variant_groups/"+t.id+"/suggested_changes/"),_.remove("/api/subscriptions?count=999"),n.query(),s.when(e)},function(e){return s.reject(e)})}function v(a,r,l){return e.acceptRevision({variantGroupId:a,revisionId:r,organization:l}).$promise.then(function(e){return _.remove("/api/variant_groups/"+a+"/suggested_changes/"),d(a),_.remove("/api/variant_groups/"+a+"/suggested_changes/"+r),u(a,r),_.remove("/api/variant_groups/"+a),t.get(a),o.each(e.gene_ids,function(e){_.remove("/api/genes/"+e+"/variant_groups"),i.queryVariantGroups(e)}),_.remove("/api/subscriptions?count=999"),n.query(),s.when(e)},function(e){return s.reject(e)})}function g(t,i,a){return e.rejectRevision({variantGroupId:t,revisionId:i,organization:a}).$promise.then(function(e){return _.remove("/api/variant_groups/"+e.id+"/suggested_changes/"),d(t),_.remove("/api/variant_groups/"+e.id+"/suggested_changes/"+i),u(t,i),_.remove("/api/subscriptions?count=999"),n.query(),s.when(e)},function(e){return s.reject(e)})}function h(t,i){return e.queryComments({variantGroupId:t,revisionId:i}).$promise.then(function(e){return angular.copy(e,S),e.$promise})}function f(t,i,n){return e.getComment({variantGroupId:t,revisionId:i,commentId:n}).$promise.then(function(e){return angular.copy(e,k),e.$promise})}function y(t){return e.submitComment(t).$promise.then(function(e){return _.remove("/api/variant_groups/"+t.variantGroupId+"/suggested_changes/"+t.revisionId+"/comments"),h(t.variantGroupId,t.revisionId),_.remove("/api/subscriptions?count=999"),n.query(),e.$promise})}function b(t){return e.updateComment(t).$promise.then(function(e){return _.remove("/api/variant_groups/"+t.variantGroupId+"/suggested_changes/"+t.revisionId+"/comments"),e.$promise})}function w(t){return e.deleteComment({variantGroupId:x.id,revisionId:C.id,commentId:t}).$promise.then(function(e){return _.remove("/api/variant_groups/"+x.id+"/suggested_changes/"+C.id+"/comments"),h(x.id,C.id),e.$promise})}var _=a.get("$http"),C={},x=t.data.item,I=[],k={},S=[],E={};return{initBase:r,initRevisions:l,initComments:c,data:{item:C,parent:x,collection:I,comment:k,comments:S,pendingFields:E},query:d,get:u,getPendingFields:p,submitRevision:m,acceptRevision:v,rejectRevision:g,queryComments:h,getComment:f,submitComment:y,updateComment:b,deleteComment:w}}e.$inject=["$resource","$cacheFactory"],t.$inject=["VariantGroupRevisionsResource","VariantGroups","Genes","Subscriptions","$cacheFactory","$q","_"],angular.module("civic.services").factory("VariantGroupRevisionsResource",e).factory("VariantGroupRevisions",t)}(),function(){"use strict";function e(e,t){var i=t.get("$http"),n=function(e){return i.remove(e.config.url),e};return e("/api/variant_groups/:variantGroupId",{variantGroupId:"@variantGroupId"},{query:{method:"GET",isArray:!0,cache:i},get:{method:"GET",isArray:!1,cache:i},update:{method:"PATCH",interceptor:{response:n}},delete:{method:"DELETE",interceptor:{response:n}},apply:{method:"PATCH"},add:{method:"POST",cache:!1},queryVariants:{method:"GET",url:"/api/variant_groups/:variantGroupId/variants",isArray:!0,cache:!1},queryEvidence:{method:"GET",url:"/api/variant_groups/:variantGroupId/evidence_items",isArray:!1,cache:!1},queryFlags:{method:"GET",url:"/api/variant_groups/:variantGroupId/flags",isArray:!1,cache:i},submitFlag:{method:"POST",url:"/api/variant_groups/:variantGroupId/flags",cache:!1},resolveFlag:{method:"PATCH",url:"/api/variant_groups/:variantGroupId/flags/:flagId",params:{variantGroupId:"@variantGroupId",flagId:"@flagId"},cache:!1},queryComments:{method:"GET",url:"/api/variant_groups/:variantGroupId/comments",isArray:!0,cache:i},getComment:{method:"GET",url:"/api/variant_groups/:variantGroupId/comments/:commentId",params:{variantGroupId:"@variantGroupId",commentId:"@commentId"},isArray:!1,cache:i},submitComment:{method:"POST",url:"/api/variant_groups/:variantGroupId/comments",params:{variantGroupId:"@variantGroupId"},cache:!1},updateComment:{method:"PATCH",url:"/api/variant_groups/:variantGroupId/comments/:commentId",params:{variantGroupId:"@variantGroupId",commentId:"@commentId"},cache:!1},deleteComment:{method:"DELETE",url:"/api/variant_groups/:variantGroupId/comments/:commentId",params:{variantGroupId:"@variantGroupId",commentId:"@commentId"},cache:!1}})}function t(e,t,i,n){function a(e){return i.all([r(e),p(),m(e),v(e)])}function s(e){return i.all([f(e)])}function o(){return e.query().$promise.then(function(e){return angular.copy(e,I),e.$promise})}function r(t){return e.get({variantGroupId:t}).$promise.then(function(e){return angular.copy(e,x),angular.copy(e.variants,k),e.$promise})}function l(t){return e.update(t).$promise.then(function(e){return angular.copy(e,x),e.$promise})}function c(t){return e.delete({variantGroupId:t}).$promise.then(function(e){return x=null,e.$promise})}function d(t){return e.apply(t).$promise.then(function(e){return C.remove("/api/variant_groups/"+e.id),r(t.variantGroupId),i.when(e)},function(e){return i.reject(e)})}function u(t){return e.add(t).$promise.then(function(e){return e.$promise})}function p(){return i.when(k)}function m(t){return e.queryEvidence({variantGroupId:t}).$promise.then(function(e){return angular.copy(e.records,E),e.$promise})}function v(t){return e.queryFlags({variantGroupId:t}).$promise.then(function(e){return angular.copy(e.records,T),e.$promise})}function g(i){return i.variantGroupId=i.entityId,e.submitFlag(i).$promise.then(function(e){return C.remove("/api/variant_groups/"+i.variantGroupId+"/flags"),v(i.variantGroupId),C.remove("/api/subscriptions?count=999"),t.query(),e.$promise})}function h(i){return i.variantGroupId=i.entityId,i.state="resolved",e.resolveFlag(i).$promise.then(function(e){return C.remove("/api/variant_groups/"+i.variantGroupId+"/flags"),v(i.variantGroupId),C.remove("/api/subscriptions?count=999"),t.query(),e.$promise})}function f(t){return e.queryComments({variantGroupId:t}).$promise.then(function(e){return angular.copy(e,S),e.$promise})}function y(t,i){return e.getComment({variantGroupId:t,commentId:i}).$promise.then(function(e){return e.$promise})}function b(i){return e.submitComment(i).$promise.then(function(e){return C.remove("/api/variant_groups/"+i.variantGroupId+"/comments"),f(i.variantGroupId),C.remove("/api/subscriptions?count=999"),t.query(),e.$promise})}function w(t){return e.updateComment(t).$promise.then(function(e){return e.$promise})}function _(t){return e.deleteComment({variantGroupId:x.id,commentId:t}).$promise.then(function(e){return C.remove("/api/variant_groups/"+x.id+"/comments"),f(x.id),e.$promise})}var C=n.get("$http"),x={},I=[],k=[],S=[],E=[],T=[];return{initBase:a,initComments:s,data:{item:x,collection:I,variants:k,evidence:E,comments:S,flags:T},query:o,get:r,update:l,delete:c,apply:d,add:u,queryEvidence:m,queryVariants:p,queryFlags:v,submitFlag:g,resolveFlag:h,queryComments:f,getComment:y,submitComment:b,updateComment:w,deleteComment:_}}e.$inject=["$resource","$cacheFactory"],t.$inject=["VariantGroupsResource","Subscriptions","$q","$cacheFactory"],angular.module("civic.services").factory("VariantGroupsResource",e).factory("VariantGroups",t)}(),function(){"use strict";function e(e,t){var i=t.get("$http");return e("/api/variants/:variantId/revisions",{variantId:"@variantId"},{query:{method:"GET",isArray:!0,cache:i},last:{method:"GET",isArray:!1,cache:i},queryFresh:{method:"GET",isArray:!0,cache:!1},lastFresh:{method:"GET",isArray:!1,cache:!1}})}function t(e,t){function i(e){return t.all([n(e)])}function n(t){return e.query({variantId:t}).$promise.then(function(e){return angular.copy(e,l),e.$promise})}function a(t){return e.last({variantId:t}).$promise.then(function(e){return angular.copy(e,r),e.$promise})}function s(t){return e.queryFresh({variantId:t}).$promise.then(function(e){return angular.copy(e,l),e.$promise})}function o(t){return e.lastFresh({variantId:t}).$promise.then(function(e){return angular.copy(e,r),e.$promise})}var r={},l=[];return{initBase:i,data:{item:r,collection:l},query:n,last:a,queryFresh:s,lastFresh:o}}e.$inject=["$resource","$cacheFactory"],t.$inject=["VariantHistoryResource","$q"],angular.module("civic.services").factory("VariantHistoryResource",e).factory("VariantHistory",t)}(),function(){"use strict";function e(e,t){var i=t.get("$http");return e("/api/variants/:variantId/suggested_changes/:revisionId",{variantId:"@variantId",revisionId:"@revisionId"},{query:{method:"GET",isArray:!0,cache:i},get:{method:"GET",isArray:!1,cache:i},getPendingFields:{method:"GET",url:"/api/variants/:variantId/fields_with_pending_changes",params:{variantId:"@variantId"},cache:!1},submitRevision:{method:"POST",cache:!1},acceptRevision:{method:"POST",url:"/api/variants/:variantId/suggested_changes/:revisionId/accept",params:{variantId:"@variantId",revisionId:"@revisionId",force:!0},cache:!1},rejectRevision:{method:"POST",url:"/api/variants/:variantId/suggested_changes/:revisionId/reject",params:{variantId:"@variantId",revisionId:"@revisionId",force:!0},cache:i},submitComment:{method:"POST",url:"/api/variants/:variantId/suggested_changes/:revisionId/comments",params:{variantId:"@variantId",revisionId:"@revisionId"},cache:!1},updateComment:{method:"PATCH",url:"/api/variants/:variantId/suggested_changes/:revisionId/comments/:commentId",params:{variantId:"@variantId",revisionId:"@revisionId",commentId:"@commentId"},interceptor:{response:function(e){return i.remove(e.config.url),e.$promise}}},queryComments:{method:"GET",url:"/api/variants/:variantId/suggested_changes/:revisionId/comments",params:{variantId:"@variantId",revisionId:"@revisionId"},isArray:!0,cache:i},getComment:{method:"GET",url:"/api/variants/:variantId/suggested_changes/:revisionId/comments/:commentId",params:{variantId:"@variantId",revisionId:"@revisionId",commentId:"@commentId"},isArray:!1,cache:i},deleteComment:{method:"DELETE",url:"/api/variants/:variantId/suggested_changes/:revisionId/comments/:commentId",params:{variantId:"@variantId",revisionId:"@revisionId",commentId:"@commentId"},cache:!1}})}function t(e,t,i,n,a,s){function o(e,t){return s.all([c(e,t)])}function r(e){return s.all([c(e)])}function l(e,t){return s.all([c(e,t)])}function c(t){return e.query({variantId:t}).$promise.then(function(e){return angular.copy(e,x),e.$promise})}function d(t,i){return e.get({variantId:t,revisionId:i}).$promise.then(function(e){return angular.copy(e,_),e.$promise})}function u(t){return e.getPendingFields({variantId:t}).$promise.then(function(e){return angular.copy(e.toJSON(),S),e.$promise})}function p(t){return e.submitRevision(t).$promise.then(function(e){return w.remove("/api/variants/"+t.id+"/suggested_changes/"),w.remove("/api/genes/"+t.gene_id+"/variants_status"),i.getVariantsStatus(t.gene_id),w.remove("/api/subscriptions?count=999"),n.query(),s.when(e)},function(e){return s.reject(e)})}function m(a,o,r){return e.acceptRevision({variantId:a,revisionId:o,organization:r}).$promise.then(function(e){return w.remove("/api/variants/"+a),t.get(a),w.remove("/api/variants/"+a+"/suggested_changes/"),c(a),w.remove("/api/variants/"+a+"/suggested_changes/"+o),d(a,o),w.remove("/api/genes/"+e.gene_id+"/variants_status"),i.getVariantsStatus(e.gene_id),w.remove("/api/subscriptions?count=999"),n.query(),s.when(e)},function(e){return s.reject(e)})}function v(t,a,o){return e.rejectRevision({variantId:t,revisionId:a,organization:o}).$promise.then(function(e){return w.remove("/api/variants/"+t+"/suggested_changes/"),c(t),w.remove("/api/variants/"+t+"/suggested_changes/"+a),d(t,a),w.remove("/api/genes/"+e.gene_id+"/variants_status"),i.getVariantsStatus(e.gene_id),w.remove("/api/subscriptions?count=999"),n.query(),s.when(e)},function(e){return s.reject(e)})}function g(t,i){return e.queryComments({variantId:t,revisionId:i}).$promise.then(function(e){return angular.copy(e,k),e.$promise})}function h(t,i,n){return e.getComment({variantId:t,revisionId:i,commentId:n}).$promise.then(function(e){return e.$promise})}function f(t){return e.submitComment(t).$promise.then(function(e){return w.remove("/api/variants/"+t.variantId+"/suggested_changes/"+t.revisionId+"/comments"),g(t.variantId,t.revisionId),w.remove("/api/subscriptions?count=999"),n.query(),e.$promise})}function y(t){return e.updateComment(t).$promise.then(function(e){return w.remove("/api/variants/"+t.variantId+"/suggested_changes/"+t.revisionId+"/comments/"+t.commentId),g(t.variantId,t.revisionId),e.$promise})}function b(t){return e.deleteComment({variantId:C.id,revisionId:_.id,commentId:t}).$promise.then(function(e){return w.remove("/api/variants/"+C.id+"/suggested_changes/"+_.id+"/comments"),g(C.id,_.id),e.$promise})}var w=a.get("$http"),_={},C=t.data.item,x=[],I={},k=[],S={};return{initBase:o,initRevisions:r,initComments:l,data:{item:_,parent:C,collection:x,comment:I,comments:k,pendingFields:S},query:c,get:d,getPendingFields:u,submitRevision:p,acceptRevision:m,rejectRevision:v,queryComments:g,getComment:h,submitComment:f,updateComment:y,deleteComment:b}}e.$inject=["$resource","$cacheFactory"],t.$inject=["VariantRevisionsResource","Variants","Genes","Subscriptions","$cacheFactory","$q"],angular.module("civic.services").factory("VariantRevisionsResource",e).factory("VariantRevisions",t)}(),function(){"use strict";function e(e,t){var i=t.get("$http"),n=function(e){return i.remove(e.config.url),e.$promise};return e("/api/variants/:variantId",{variantId:"@variantId"},{query:{method:"GET",isArray:!1,cache:i},get:{method:"GET",isArray:!1,cache:i},update:{method:"PATCH",interceptor:{response:n}},delete:{method:"DELETE",interceptor:{response:n}},apply:{method:"PATCH",cache:!1},getMyVariantInfo:{url:"/api/variants/:variantId/myvariant_info_proxy",params:{variantId:"@variantId"},cache:i},queryEvidence:{method:"GET",url:"/api/variants/:variantId/evidence_items",isArray:!1,cache:i},queryFlags:{method:"GET",url:"/api/variants/:variantId/flags",isArray:!1,cache:i},submitFlag:{method:"POST",url:"/api/variants/:variantId/flags",cache:!1},resolveFlag:{method:"PATCH",url:"/api/variants/:variantId/flags/:flagId",params:{geneId:"@variantId",flagId:"@flagId"},cache:!1},queryComments:{method:"GET",url:"/api/variants/:variantId/comments",isArray:!0,cache:i},getComment:{method:"GET",url:"/api/variants/:variantId/comments/:commentId",params:{variantId:"@variantId",commentId:"@commentId"},isArray:!1,cache:i},submitComment:{method:"POST",url:"/api/variants/:variantId/comments",params:{variantId:"@variantId"},cache:!1},updateComment:{method:"PATCH",url:"/api/variants/:variantId/comments/:commentId",params:{variantId:"@variantId",commentId:"@commentId"},cache:!1},deleteComment:{method:"DELETE",url:"/api/variants/:variantId/comments/:commentId",params:{variantId:"@variantId",commentId:"@commentId"},cache:!1},queryVariantTypes:{method:"GET",url:"/api/variant_types",params:{name:"@name",count:"@count",page:"@page"},cache:!1},queryVariantTypeRelationships:{method:"GET",url:"/api/variant_types/relationships",params:{new_variant_type_id:"@new_variant_type_id",existing_variant_type_ids:"@existing_variant_type_ids"},paramSerializer:"$httpParamSerializerJQLike",isArray:!0}})}function t(e,t,i,n){function a(e){return i.all([r(e),p(e),m(e),u(e)])}function s(e){return i.all([h(e)])}function o(){return e.query().$promise.then(function(e){return angular.copy(e.records,k),e.$promise})}function r(t){return e.get({variantId:t}).$promise.then(function(e){return angular.copy(e,I),e.$promise})}function l(t){return e.update(t).$promise.then(function(e){return angular.copy(e,I),e.$promise})}function c(t){return e.delete({variantId:t}).$promise.then(function(e){return I=null,e.$promise})}function d(n){return e.apply(n).$promise.then(function(e){return x.remove("/api/variants/"+e.id),r(n.variantId),x.remove("/api/subscriptions?count=999"),t.query(),i.when(e)},function(e){return i.reject(e)})}function u(t){return e.getMyVariantInfo({variantId:t}).$promise.then(function(e){return angular.copy(e,S),e.$promise})}function p(t){return e.queryEvidence({variantId:t}).$promise.then(function(e){return angular.copy(e.records,E),e.$promise})}function m(t){return e.queryFlags({variantId:t}).$promise.then(function(e){return angular.copy(e.records,$),e.$promise})}function v(i){return i.variantId=i.entityId,e.submitFlag(i).$promise.then(function(e){return x.remove("/api/variants/"+i.variantId+"/flags"),m(i.variantId),x.remove("/api/subscriptions?count=999"),t.query(),e.$promise})}function g(i){return i.variantId=i.entityId,i.state="resolved",e.resolveFlag(i).$promise.then(function(e){return x.remove("/api/variants/"+i.variantId+"/flags"),m(i.variantId),x.remove("/api/subscriptions?count=999"),t.query(),e.$promise})}function h(t){return e.queryComments({variantId:t}).$promise.then(function(e){return angular.copy(e,T),e.$promise})}function f(t,i){return e.getComment({variantId:t,commentId:i}).$promise.then(function(e){return e.$promise})}function y(i){return e.submitComment(i).$promise.then(function(e){return x.remove("/api/variants/"+i.variantId+"/comments"),h(i.variantId),x.remove("/api/subscriptions?count=999"),t.query(),e.$promise})}function b(t){return e.updateComment(t).$promise.then(function(e){return x.remove("/api/variants/"+t.variantId+"/comments/"+t.id),x.remove("/api/variants/"+t.variantId+"/comments"),h(t.variantId),e.$promise})}function w(t){return e.deleteComment({variantId:I.id,commentId:t}).$promise.then(function(e){return x.remove("/api/variants/"+I.id+"/comments"),h(I.id),e.$promise})}function _(t){return e.queryVariantTypes(t).$promise.then(function(e){return e.$promise})}function C(t){return e.queryVariantTypeRelationships(t).$promise.then(function(e){return e.$promise})}var x=n.get("$http"),I={},k=[],S={},E=[],T=[],$=[];return{initBase:a,initComments:s,data:{item:I,collection:k,myVariantInfo:S,evidence:E,comments:T,flags:$},query:o,get:r,update:l,delete:c,apply:d,getMyVariantInfo:u,queryEvidence:p,queryFlags:m,submitFlag:v,resolveFlag:g,queryComments:h,getComment:f,submitComment:y,updateComment:b,deleteComment:w,queryVariantTypes:_,queryVariantTypeRelationships:C}}e.$inject=["$resource","$cacheFactory"],t.$inject=["VariantsResource","Subscriptions","$q","$cacheFactory"],angular.module("civic.services").factory("VariantsResource",e).factory("Variants",t)}(),function(){"use strict";angular.module("civic.services").factory("d3",["$window",function(e){return e.d3}])}(),function(){"use strict";angular.module("civic.services").factory("dimple",["$window",function(e){return e.dimple}])}(),function(){"use strict";angular.module("civic.security.authorization",["civic.security.service"]).provider("Authorization",{requireAdminUser:["Authorization",function(e){return e.requireAdminUser()}],requireAuthenticatedUser:["Authorization",function(e){return e.requireAuthenticatedUser()}],$get:["Security","RetryQueue",function(e,t){var i={requireAuthenticatedUser:function(){return e.requestCurrentUser().then(function(){if(!e.isAuthenticated())return t.pushRetryFn("unauthenticated-client",i.requireAuthenticatedUser)})},requireAdminUser:function(){return e.requestCurrentUser().then(function(){if(!e.isAdmin())return t.pushRetryFn("unauthorized-client",i.requireAdminUser)})}};return i}]})}(),function(){"use strict";function e(e,t,i,n,a,s,o,r,l){function c(e){e=e||"/",i.url(e),n.reload()}function d(){if(m)throw new Error("Trying to open a dialog that is already open!");m=r.create("components/security/login/LoginForm.tpl.html","LoginFormController",{},{backdrop:"static"}),m.result.then(p)}function u(e){l.info("Security.closeLoginDialog() called."),m&&m.close(e)}function p(e){m=null,e?a.retryAll():a.cancelAll()}var m=null;a.onItemAddedCallbacks.push(function(){a.hasMore()&&v.showLogin()});var v={getLoginReason:function(){return a.retryReason()},showLogin:function(){d()},cancelLogin:function(e){u(!1),c(e)},logout:function(){e.get("/api/sign_out").then(function(){v.currentUser=null,n.go("home")},function(e){l.warn("COULD NOT LOG OUT"+JSON.stringify(e))})},requestCurrentUser:function(){return v.isAuthenticated()?t.when(v.currentUser):e.get("/api/current_user.json").then(function(e){return Object.keys(e.data).length>0?(v.currentUser=o(e),s.query()):v.currentUser=null,v.currentUser})},reloadCurrentUser:function(){return s.query(),e.get("/api/current_user.json").then(function(e){return Object.keys(e.data).length>0?(v.currentUser=o(e),s.query()):v.currentUser=null,v.currentUser})},currentUser:null,isAuthenticated:function(){return!!v.currentUser},isAdmin:function(){return!(!v.currentUser||"admin"!==v.currentUser.role)},isEditor:function(){return!(!v.currentUser||"editor"!==v.currentUser.role)},isCurator:function(){return!(!v.currentUser||"curator"!==v.currentUser.role)}};return v}e.$inject=["$http","$q","$location","$state","RetryQueue","Subscriptions","UserOrgsInterceptor","dialogs","$log"],angular.module("civic.security.service",["civic.security.retryQueue","civic.security.login","dialogs.main"]).factory("Security",e)}(),function(){"use strict";function e(e,t){var i=[],n={onItemAddedCallbacks:[],hasMore:function(){return i.length>0},push:function(e){t.info("retryQueue.push() called with item: "+e),i.push(e),angular.forEach(n.onItemAddedCallbacks,function(i){try{i(e)}catch(e){t.error("securityRetryQueue.push(retryItem): callback threw an error"+e)}})},pushRetryFn:function(t,i){1===arguments.length&&(i=t,t=void 0);var a=e.defer(),s={reason:t,retry:function(){e.when(i()).then(function(e){a.resolve(e)},function(e){a.reject(e)})},cancel:function(){a.reject()}};return n.push(s),a.promise},retryReason:function(){return n.hasMore()&&i[0].reason},cancelAll:function(){for(;n.hasMore();)i.shift().cancel()},retryAll:function(){for(t.info("RetryQueue.retryall() called.");n.hasMore();)i.shift().retry()}};return n}e.$inject=["$q","$log"],angular.module("civic.security.retryQueue",[]).factory("RetryQueue",e)}(),angular.module("civic.security.login",["civic.security.login.form","civic.security.login.toolbar"]),function(){"use strict";function e(e,t,i){e.location=i.absUrl();var n=i.url();e.cancelLogin=function(){t.cancelLogin(n)}}e.$inject=["$scope","Security","$location"],angular.module("civic.security.login.form",[]).controller("LoginFormController",e)}(),function(){"use strict";function e(){return{templateUrl:"components/directives/loginToolbar.tpl.html",restrict:"E",replace:!0,scope:!0,controller:["$scope","$rootScope","$location","Security","ConfigService",function(e,t,i,n,a){e.isEditor=n.isEditor,e.isAdmin=n.isAdmin,e.isAuthenticated=n.isAuthenticated,e.login=n.showLogin,e.logout=n.logout,e.adminUrl=a.serverUrl+"admin",e.$watch(function(){return n.currentUser},function(t){e.currentUser=t}),e.status={isopen:!1},e.toggleDropdown=function(t){t.preventDefault(),t.stopPropagation(),e.status.isopen=!e.status.isopen},e.currentUrl||(e.currentUrl=i.url()),t.$on("$stateChangeSuccess",function(){e.currentUrl=i.url()})}]}}angular.module("civic.security.login.toolbar",[]).directive("loginToolbar",e)}(),function(){"use strict";function e(){return{templateUrl:"components/directives/loginButton.tpl.html",restrict:"E",replace:!0,scope:!0,controller:["$scope","$rootScope","$location","_","Security","ConfigService",function(e,t,i,n,a,s){e.adminUrl=s.serverUrl+"admin",e.queuesUrl=s.serverUrl+"api/jobs/",e.isAdmin=a.isAdmin,e.isEditor=a.isEditor,e.logout=a.logout,e.showLogin=a.showLogin,e.$watch(function(){return a.currentUser},function(t){n.isNull(t)||(e.currentUser=t,e.totalNotifications=n.reduce(t.unread_notifications,function(e,t){return e+t}),e.hasNotifications=e.totalNotifications>0,e.showCoiNotice=(a.isAdmin()||a.isEditor())&&("missing"===t.conflict_of_interest.coi_valid||"expired"===t.conflict_of_interest.coi_valid))}),e.status={isopen:!1},e.toggleDropdown=function(t){t.preventDefault(),t.stopPropagation(),e.status.isopen=!e.status.isopen},e.currentUrl||(e.currentUrl=i.url()),t.$on("$stateChangeSuccess",function(){e.currentUrl=i.url()})}]}}angular.module("civic.security.login.toolbar").directive("loginButton",e)}(),function(){"use strict";function e(){return function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").toLowerCase()}}function t(){return function(e){return e=e.replace(/_/g," "),e.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})}}function i(e){return function(t,i){return"string"==typeof t&&"string"==typeof i&&i.length>0?t.toString().replace(new RegExp("("+e.escapeRegExp(i)+")","gi"),"<strong>$1</strong>"):t}}function n(){return function(e,t){if(isNaN(t))return e;if(t<=0)return"";if(e){var i=e.split(/\s+/);i.length>t&&(e=i.slice(0,t).join(" ")+"…")}return e}}function a(e){return function(t,i,n,a){if(i=parseInt(i,10),n=n||"",e.isArray(t)&&parseInt(i,10)){var s=t.slice(0,i).join(", ").concat(n);return a&&t.length>i&&(s=s+'<span class="more"> ('+String(t.length-i)+" more)</span>"),s}return e.isArray(t)?t.join(", "):t}}function s(e){return function(t){return e.encodeURIComponent(t)}}function o(e){return function(t){return e.decodeURIComponent(t)}}function r(e){return function(t){return e.isNull(t)||e.isUndefined(t)?void 0:(t=t.replace(/_/g," "),t.substring(0,1).toUpperCase()+t.substring(1))}}function l(e){return function(t){return e.isNull(t)||e.isUndefined(t)?void 0:(t=t.toLowerCase(),t.substring(0,1).toUpperCase()+t.substring(1))}}function c(){return function(e,t){return angular.isUndefined(e)||null===e||""===e?t:e}}function d(e){return e.trustAsHtml}function u(){function e(e){return 1===Math.floor(e/10)?"th":e%10==1?"st":e%10==2?"nd":e%10==3?"rd":"th"}return function(t){var i=parseInt(t,10);return isNaN(i)?t:i+e(i)}}i.$inject=["_"],a.$inject=["_"],s.$inject=["$window"],o.$inject=["$window"],r.$inject=["_"],l.$inject=["_"],d.$inject=["$sce"],angular.module("civic.common").filter("kebabCase",e).filter("labelify",t).filter("arrayToList",a).filter("encodeUri",s).filter("capitalize",l).filter("decodeUri",o).filter("ifEmpty",c).filter("unsafe",d).filter("ordinal",u).filter("keyToLabel",r).filter("highlightSearch",i).filter("words",n)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"components/directives/addDrugForm.tpl.html",replace:!0,controller:t}}function t(e,t,i,n,a,s){var o=t.vm={};o.parentField=s.find(t.fields,{key:t.options.key}),o.index=t.$index,o.replaceItem=t.replaceItem,o.suggestions=[],o.showForm=!0,o.showSuccess=!1,o.showConflict=!1,o.newDrug={drug_name:""},o.newDrugFields=[{key:"drug_name",type:"typeahead",wrapper:null,templateOptions:{label:"New Drug Name",typeahead:"item.name for item in options.data.typeaheadSearch($viewValue)",templateUrl:"components/forms/fieldTypes/drugTypeahead.tpl.html",editable:!0},data:{typeaheadSearch:function(e){return n.query(e).then(function(e){return s.map(e,function(e){return e.aliases.length>0?(e.alias_list=e.aliases.join(", "),e.alias_list.length>100&&(e.alias_list=s.truncate(e.alias_list,100))):e.alias_list="--",e})})}}}],o.close=function(){t.$parent.addFormIsOpen=!1},o.submit=function(){i.add(this.newDrug).then(function(e){o.createdDrug=e,o.showForm=!1,o.showSuccess=!0},function(e){var t=o.errorStatus=e.status;switch(o.showForm=!1,o.showConflict=!0,t){case 409:o.conflictDrug=e.data}})},o.addDrug=function(){var e=o.createdDrug?o.createdDrug.name:o.conflictDrug.name;o.replaceItem(this.parentField.value(),this.index,e)}}t.$inject=["$rootScope","$scope","Drugs","DrugSuggestions","ConfigService","_"],angular.module("civic.common").directive("addDrugForm",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{assertion:"="},templateUrl:"components/directives/assertionTag.tpl.html"}}angular.module("civic.common").directive("assertionTag",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{badge:"="},templateUrl:"components/directives/badge.tpl.html",controller:t}}function t(e){(e.vm={}).badge=e.badge}t.$inject=["$scope"],angular.module("civic.common").directive("trophyBadge",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{},templateUrl:"components/directives/cancelButton.tpl.html",controller:t}}function t(e,t,i,n){e.cancel=function(){i.get()?n.history.back():t.go("home")}}t.$inject=["$scope","$state","$previousState","$window"],angular.module("civic.common").directive("cancelButton",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"components/directives/civicLogo.tpl.html",controller:t}}function t(e,t){e.navMode=t.navMode,e.pageTitle=t.pageTitle}t.$inject=["$scope","$rootScope"],angular.module("civic.common").directive("civicLogo",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{event:"=",theme:"="},templateUrl:"components/directives/eventItem.tpl.html",controller:t}}function t(e,t,i){var n=e.vm={},a=e.event.state_params;n.seen=e.event.seen,n.entityNames=[],i.has(a,"assertion")&&n.entityNames.push(a.assertion.name),i.has(a,"gene")&&n.entityNames.push(a.gene.name),i.has(a,"variant")&&n.entityNames.push(a.variant.name),i.has(a,"evidence_item")&&n.entityNames.push(a.evidence_item.name),i.has(a,"source")&&n.entityNames.push(a.source.name),n.entityName=i.compact(n.entityNames).join(" / "),n.eventClick=function(e){var n={genes:"events.genes",assertions:"events.assertions",variants:"events.genes.summary.variants",variantgroups:"events.genes.summary.variantGroups",evidenceitems:"events.genes.summary.variants.summary.evidence",sources:"sources"}
;if("suggestedchanges"===e.subject_type){var a,s=e.state_params.suggested_change.subject_type;"evidenceitems"===s?a="events.genes.summary.variants.summary.evidence":"variantgroups"===s?a="events.genes.summary.variantGroups":"variants"===s?a="events.genes.summary.variants":"genes"===s&&(a="events.genes"),n.suggestedchanges=a}var o={commented:".talk.comments",flagged:".summary","flag resolved":".summary",submitted:".summary",accepted:".summary","assertion submitted":".summary","assertion accepted":".summary","assertion rejected":".summary",rejected:".summary","publication suggested":".summary","change suggested":".talk.revisions.list.summary","change accepted":".talk.revisions.list.summary","change rejected":".talk.revisions.list.summary",reverted:".summary"};"suggestedchanges"===e.subject_type&&(o.commented=".talk.revisions.list.summary"),"sources"===e.subject_type&&(o.commented=".summary");var r={};i.each(e.state_params,function(e,t){var i;i="suggested_change"===t?"revisionId":"evidence_item"===t?"evidenceId":"variant_group"===t?"variantGroupId":"source"===t?"sourceId":t+"Id",r[i]=e.id}),!1===e.unlinkable&&t.go(n[e.subject_type]+o[e.event_type],r)}}t.$inject=["$scope","$state","_"],angular.module("civic.common").directive("eventItem",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{item:"=",removeFn:"="},templateUrl:"components/directives/evidenceSelectorItem.tpl.html",controller:t}}function t(e,t,i,n,a,s){var o=e.ctrl={};o.item=e.item,o.removeItem=e.removeFn;var r=i.isUndefined(o.item.gene_id)?o.item.state_params.gene.id:o.item.gene_id,l=i.isUndefined(o.item.variant_id)?o.item.state_params.variant.id:o.item.variant_id;e.ctrl.item.phenotypes.length>0?e.ctrl.item.phenotypesStr=i.chain(e.ctrl.item.phenotypes).sortBy("hpo_class").map(function(e){return'<a href="'+e.url+'" target="_blank">'+e.hpo_class+"</a>"}).value().join(", "):e.ctrl.item.phenotypesStr="--",n.get(r).then(function(e){o.item.gene=e}),a.get(l).then(function(e){o.item.variant=e})}t.$inject=["$scope","$state","_","Genes","Variants","ConfigService"],angular.module("civic.common").directive("evidenceSelectorItem",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"components/directives/footerMenu.tpl.html",replace:!0,scope:!0,controller:t}}function t(e,t){e.menuItems=t.footerMenuItems}t.$inject=["$scope","ConfigService"],angular.module("civic.common").directive("footerMenu",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"components/directives/headerSearch.tpl.html",controller:t}}function t(e,t){var i=e.vm={};i.isAuthenticated=t.isAuthenticated,i.isEditor=t.isEditor}t.$inject=["$scope","Security"],angular.module("civic.common").directive("headerSearch",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"components/directives/mainMenu.tpl.html",replace:!0,scope:!0,controller:t}}function t(e,t){e.menuItems=t.mainMenuItems}t.$inject=["$scope","ConfigService"],angular.module("civic.common").directive("mainMenu",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{mention:"=",theme:"="},templateUrl:"components/directives/mentionItem.tpl.html",controller:t}}function t(e,t,i){var n=e.vm={},a=e.mention.event.state_params;n.seen=e.mention.seen,n.entityNames=[],i.has(a,"gene")&&n.entityNames.push(a.gene.name),i.has(a,"variant")&&n.entityNames.push(a.variant.name),i.has(a,"evidence_item")&&n.entityNames.push(a.evidence_item.name),n.entityName=i.compact(n.entityNames).join(" / "),n.eventClick=function(e){var n={genes:"events.genes",variants:"events.genes.summary.variants",variantgroups:"events.genes.summary.variantGroups",evidenceitems:"events.genes.summary.variants.summary.evidence"};if("suggestedchanges"===e.subject_type){var a,s=e.state_params.suggested_change.subject_type;"evidenceitems"===s?a="events.genes.summary.variants.summary.evidence":"variantgroups"===s?a="events.genes.summary.variantGroups":"variants"===s?a="events.genes.summary.variants":"genes"===s&&(a="events.genes"),n.suggestedchanges=a}var o={commented:".talk.comments",submitted:".summary",accepted:".summary",rejected:".summary","change suggested":".talk.revisions.list.summary","change accepted":".talk.revisions.list.summary","change rejected":".talk.revisions.list.summary"};"suggestedchanges"===e.subject_type&&(o.commented=".talk.revisions.list.summary");var r={};i.each(e.state_params,function(e,t){var i;i="suggested_change"===t?"revisionId":"evidence_item"===t?"evidenceId":"variant_group"===t?"variantGroupId":t+"Id",r[i]=e.id}),t.go(n[e.subject_type]+o[e.event_type],r)}}t.$inject=["$scope","$state","_"],angular.module("civic.common").directive("mentionItem",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{organization:"=",highlight:"=?"},templateUrl:"components/directives/organizationBlock.tpl.html"}}angular.module("civic.common").directive("organizationBlock",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{organization:"="},controller:"OrganizationCardController as vm",bindToController:!0,templateUrl:"components/directives/organizationCard.tpl.html"}}function t(e,t,i){var n=this;t.$watch("vm.organization",function(e){n.hasSocialProfile=!i.isEmpty(e.twitter_handle)||!i.isEmpty(e.linkedin_profile)||!i.isEmpty(e.facebook_profile)},!0),n.organizationClick=function(t){e.go("organizations.summary",{organizationId:t})}}t.$inject=["$state","$scope","_"],angular.module("civic.common").directive("organizationCard",e).controller("OrganizationCardController",t)}(),function(){"use strict";function e(){return{restrict:"E",scope:{options:"="},controller:"OrganizationCardGridController as vm",bindToController:!0,templateUrl:"components/directives/organizationCardGrid.tpl.html"}}function t(e,t,i){function n(e,n,a,s,o){var r;return r={count:e,page:n},r["limit["+a[0].field+"]"]=o,s.length>0&&t.each(s,function(e){t.isUndefined(e.term)||(r["filter["+e.field+"]"]=e.term)}),a.length>0&&t.each(a,function(e){r["sorting["+e.field+"]"]=e.direction}),i.query(r)}var a=this;a.organizations=[],a.page=1,a.count=24,a.totalItems=Number(),a.totalPages=Number(),e.$watch(function(){return a.totalItems},function(){a.totalPages=Math.ceil(a.totalItems/a.count)}),a.model={};var s=t.debounce(function(){var e=[{field:"name",term:a.model.name}],t=[{field:a.model.sort_by,direction:a.model.sort_order}],i=a.model.limit;n(a.count,a.page,t,e,i,a.model.name).then(function(e){angular.copy(e.result,a.organizations),a.totalItems=e.total})},250);a.formFields=[{key:"name",type:"input",className:"col-xs-6 col-sm-4",templateOptions:{label:"Filter Name",required:!1},watcher:{listener:function(){s()}}},{key:"sort_by",type:"select",className:"col-xs-6 col-sm-4",defaultValue:"most_active",templateOptions:{label:"Sort By",required:!1,options:[{name:"Last seen",value:"last_seen",sort_order:"desc"},{name:"Recent activity",value:"recent_activity",sort_order:"desc"},{name:"Join date",value:"join_date",sort_order:"asc"},{name:"Most active",value:"most_active",sort_order:"desc"}]},watcher:{listener:function(e,i){t.isUndefined(i)||(a.model.sort_order=t.find(e.templateOptions.options,{value:i}).sort_order),s()}}},{key:"sort_order",type:"select",className:"col-xs-3 col-sm-2",defaultValue:"desc",templateOptions:{label:"Sort",required:!1,options:[{name:"Asc",value:"asc"},{name:"Desc",value:"desc"}]},watcher:{listener:function(){s()}}},{key:"limit",type:"select",className:"col-xs-3 col-sm-2",defaultValue:"all_time",templateOptions:{label:"Limit To",required:!1,options:[{name:"All",value:"all_time"},{name:"Week",value:"this_week"},{name:"Month",value:"this_month"},{name:"Year",value:"this_year"}]},watcher:{listener:function(){s()}}}],s(),a.pageChanged=function(){s()}}t.$inject=["$scope","_","Organizations"],angular.module("civic.common").directive("organizationCardGrid",e).controller("OrganizationCardGridController",t)}(),function(){"use strict";function e(){return{templateUrl:"components/directives/quickSearch.tpl.html",restrict:"E",scope:!0,controller:t}}function t(e,t,i,n,a){var s={};e.getVariants=function(e){return n.query({query:e,limit:12}).$promise.then(function(e){return a.map(e.result,function(e,t){var i,n=e.entrez_gene+" / "+e.variant;if(a.includes(e.terms,"gene_aliases")){n=n+" -- "+(e.gene_aliases.length>1?"Aliases":"Alias")+": "+e.gene_aliases.join(", ")}if(a.includes(e.terms,"drug_names")){n=n+" -- "+(e.drug_names.length>1?"Drugs":"Drug")+": "+e.drug_names.join(", ")}if(a.includes(e.terms,"disease_names")){n=n+" -- "+(e.disease_names.length>1?"Diseases":"Disease")+": "+e.disease_names.join(", ")}if(a.includes(e.terms,"variant_aliases")){n=n+" -- "+(e.variant_aliases.length>1?"Variant Aliases":"Variant Alias")+": "+e.variant_aliases.join(", ")}return n.length>75&&(n=a.truncate(n,75)),i={gene:e.entrez_name,geneId:e.gene_id,label:n,variant:e.variant,variantId:e.variant_id},0===t&&(s=i),i})})},e.onSelect=function(i){t.go("events.genes.summary.variants.summary",{geneId:i.geneId,variantId:i.variantId}),e.asyncSelected.model=""},e.onGo=function(){a.isEmpty(s)||t.go("events.genes.summary.variants.summary",{geneId:s.geneId,variantId:s.variantId})}}t.$inject=["$scope","$state","$log","TypeAheadResults","_"],angular.module("civic.common").directive("quickSearch",e).controller("quickSearchCtrl",t)}(),function(){"use strict";function e(){return{restrict:"A",templateUrl:"components/directives/searchHighlighting.tpl.html",controller:"searchHighlightingCtrl",scope:{content:"=highlightContent",query:"=searchHighlighting"}}}function t(){}angular.module("civic.common").directive("searchHighlighting",e).controller("searchHighlightingCtrl",t)}(),angular.module("civic.common").directive("sessionInfo",sessionInfo),function(){"use strict";function e(){return{restrict:"E",scope:{tabs:"="},templateUrl:"components/directives/simpleTabs.tpl.html"}}angular.module("civic.common").directive("simpleTabs",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{stats:"=",title:"@",iconUrl:"@",cols:"@"},templateUrl:"components/directives/statsBlock.tpl.html",controller:"StatsBlockController"}}function t(e){var t=e.vm={};t.stats=e.stats,t.title=e.title,t.icon=e.icon,t.cols=e.cols,e.$watchCollection("stats",function(e){t.stats=e})}t.$inject=["$scope"],angular.module("civic.common").directive("statsBlock",e).controller("StatsBlockController",t)}(),function(){"use strict";function e(e){return{restrict:"E",scope:!0,templateUrl:"components/directives/subheader.tpl.html",controller:t,link:["$scope",function(t){t.isAuthenticated=e.isAuthenticated,t.isEditor=e.isEditor,t.isAdmin=e.isAdmin}]}}function t(e,t,i,n){e.isAuthenticated=n.isAuthenticated,e.isEditor=n.isAuthenticated,e.$rootScope=t,e.addEvidenceUrlBase=e.addEvidenceUrl="add/evidence/basic",e.addAssertionUrlBase=e.addAssertionUrl="add/assertion",e.addVariantGroupUrlBase=e.addVariantGroupUrl="add/variantGroup",e.$watchCollection("$rootScope.stateParams",function(t){i.has(t,"geneId")&&(e.addEvidenceUrl=e.addEvidenceUrlBase+"?geneId="+t.geneId,e.addAssertionUrl=e.addAssertionUrlBase+"?geneId="+t.geneId,e.addVariantGroupUrl=e.addVariantGroupUrlBase+"?geneId="+t.geneId,i.has(t,"variantId")&&(e.addEvidenceUrl=e.addEvidenceUrl+"&variantId="+t.variantId,e.addAssertionUrl=e.addAssertionUrl+"&variantId="+t.variantId))}),t.$on("title:update",function(t,i){e.view.stateTitle=i.newTitle})}e.$inject=["Security"],t.$inject=["$scope","$rootScope","_","Security"],angular.module("civic.common").directive("subheader",e).controller("SubheaderCtrl",t)}(),function(){"use strict";function e(e,t,i){return{restrict:"E",link:function(){var i=function(i,n){t(function(){e.title=void 0!==n.newTitle?"CIViC: "+n.newTitle:"CIViC - Clinical Interpretation of Variants in Cancer"})};e.$on("title:update",i)}}}e.$inject=["$rootScope","$timeout","TitleService"],angular.module("civic.common").directive("title",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{user:"="},templateUrl:"components/directives/userBlock.tpl.html"}}angular.module("civic.common").directive("userBlock",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{user:"="},controller:"UserCardController as vm",bindToController:!0,templateUrl:"components/directives/userCard.tpl.html"}}function t(e,t,i){var n=this;t.$watch("vm.user",function(e){n.hasSocialProfile=!(i.isEmpty(e.url)&&i.isEmpty(e.twitter_handle)&&i.isEmpty(e.linkedin_profile)&&i.isEmpty(e.facebook_profile)),e.organizations.length>1&&(n.multiple_orgs_tooltip="User is a member of multiple organizations: "+e.organizations.map(function(e,t){return e.name}).join(", "))},!0),n.userClick=function(t){e.go("users.profile",{userId:t})}}t.$inject=["$state","$scope","_"],angular.module("civic.common").directive("userCard",e).controller("UserCardController",t)}(),function(){"use strict";function e(){return{restrict:"E",scope:{options:"="},controller:"UserCardGridController as vm",bindToController:!0,templateUrl:"components/directives/userCardGrid.tpl.html"}}function t(e,t,i){function n(e,n,a,s,o,r,l){var c;return c={count:e,page:n},r&&(c["filter[role]"]=r),l&&(c["filter[area_of_expertise]"]=l),c["limit["+a[0].field+"]"]=o,s.length>0&&t.each(s,function(e){c["filter["+e.field+"]"]=e.term}),a.length>0&&t.each(a,function(e){c["sorting["+e.field+"]"]=e.direction}),i.query(c)}var a=this;a.users=[],a.page=1,a.count=24,a.totalItems=Number(),a.totalPages=Number(),e.$watch(function(){return a.totalItems},function(){a.totalPages=Math.ceil(a.totalItems/a.count)}),a.model={};var s=t.debounce(function(){var e=[{field:"display_name",term:a.model.filter},{field:"organization",term:a.model.org_filter}],t=[{field:a.model.sort_by,direction:a.model.sort_order}],i=a.model.limit;n(a.count,a.page,t,e,i,a.model.role,a.model.area_of_expertise).then(function(e){angular.copy(e.result,a.users),a.totalItems=e.total})},250);a.formFields=[{key:"filter",type:"input",className:"col-xs-6 col-sm-4",templateOptions:{label:"Filter Display Name",required:!1},watcher:{listener:function(){s()}}},{key:"org_filter",type:"input",className:"col-xs-6 col-sm-4",templateOptions:{label:"Filter Organization",required:!1},watcher:{listener:function(){s()}}},{key:"role",type:"select",className:"col-xs-6 col-sm-4",defaultValue:void 0,templateOptions:{label:"Role",required:!1,options:[{value:void 0,name:"--"},{value:"curator",name:"Curator"},{value:"editor",name:"Editor"},{value:"admin",name:"Administrator"}]},watcher:{listener:function(){s()}}},{key:"area_of_expertise",type:"select",className:"col-xs-6 col-sm-4",defaultValue:void 0,templateOptions:{label:"Area of Expertise",required:!1,options:[{value:void 0,name:"--"},{value:"Patient Advocate",name:"Patient Advocate"},{value:"Clinical Scientist",name:"Clinical Scientist"},{value:"Research Scientist",name:"Research Scientist"}]},watcher:{listener:function(){s()}}},{key:"sort_by",type:"select",className:"col-xs-6 col-sm-4",defaultValue:"most_active",templateOptions:{label:"Sort By",required:!1,options:[{name:"Last seen",value:"last_seen",sort_order:"desc"},{name:"Recent activity",value:"recent_activity",sort_order:"desc"},{name:"Join date",value:"join_date",sort_order:"asc"},{name:"Most active",value:"most_active",sort_order:"desc"}]},watcher:{listener:function(e,i){t.isUndefined(i)||(a.model.sort_order=t.find(e.templateOptions.options,{value:i}).sort_order),s()}}},{key:"sort_order",type:"select",className:"col-xs-3 col-sm-2",defaultValue:"desc",templateOptions:{label:"Sort",required:!1,options:[{name:"Asc",value:"asc"},{name:"Desc",value:"desc"}]},watcher:{listener:function(){s()}}},{key:"limit",type:"select",className:"col-xs-3 col-sm-2",defaultValue:"this_month",templateOptions:{label:"Limit To",required:!1,options:[{name:"All",value:"all_time"},{name:"Week",value:"this_week"},{name:"Month",value:"this_month"},{name:"Year",value:"this_year"}]},watcher:{listener:function(){s()}}}],s(),a.pageChanged=function(){s()}}t.$inject=["$scope","_","Users"],angular.module("civic.common").directive("userCardGrid",e).controller("UserCardGridController",t)}(),function(){"use strict";function e(){return{restrict:"E",scope:{height:"@",width:"@",user:"="},templateUrl:"components/directives/userImage.tpl.html",controller:"UserImageController"}}function t(e,t){var i=e.ctrl={};i.height=e.height,i.width=e.width,i.user=e.user,i.hasAvatar=t.has(i.user,"avatar_url")}t.$inject=["$scope","_"],angular.module("civic.common").directive("userImage",e).controller("UserImageController",t)}(),function(){"use strict";function e(){return{restrict:"E",scope:{notification:"=",theme:"=",fetch:"="},templateUrl:"app/views/account/notifications/components/notification.tpl.html",controller:t}}function t(e,t,i,n,a){var s=e.vm={},o=e.notification.event.state_params;s.seen=e.notification.seen,s.entityNames=[],a.has(o,"assertion")&&s.entityNames.push(o.assertion.name),a.has(o,"gene")&&s.entityNames.push(o.gene.name),a.has(o,"variant")&&s.entityNames.push(o.variant.name),a.has(o,"evidence_item")&&s.entityNames.push(o.evidence_item.name),a.has(o,"source")&&s.entityNames.push(o.source.name),s.entityName=a.compact(s.entityNames).join(" / "),s.eventClick=function(e){var i={genes:"events.genes",assertions:"events.assertions",variants:"events.genes.summary.variants",variantgroups:"events.genes.summary.variantGroups",evidenceitems:"events.genes.summary.variants.summary.evidence"};if("suggestedchanges"===e.event.subject_type){var n,s=e.event.state_params.suggested_change.subject_type;"evidenceitems"===s?n="events.genes.summary.variants.summary.evidence":"variantgroups"===s?n="events.genes.summary.variantGroups":"variants"===s?n="events.genes.summary.variants":"genes"===s&&(n="events.genes"),i.suggestedchanges=n}var o={commented:".talk.comments",flagged:".summary","flag resolved":".summary",submitted:".summary",accepted:".summary","assertion submitted":".summary","assertion accepted":".summary","assertion rejected":".summary",rejected:".summary","publication suggested":".summary","change suggested":".talk.revisions.list.summary","change accepted":".talk.revisions.list.summary","change rejected":".talk.revisions.list.summary"};"suggestedchanges"===e.event.subject_type&&(o.commented=".talk.revisions.list.summary");var r={};a.each(e.event.state_params,function(e,t){var i;i="suggested_change"===t?"revisionId":"evidence_item"===t?"evidenceId":"variant_group"===t?"variantGroupId":t+"Id",r[i]=e.id}),e.event.unlinkable||t.go(i[e.event.subject_type]+o[e.event.event_type],r)},s.markAsRead=function(){n.markFeed(i,[e.notification.id],!0),e.fetch()},s.markAsUnread=function(){n.markFeed(i,[e.notification.id],!1),e.fetch()}}t.$inject=["$scope","$state","$stateParams","CurrentUser","_"],angular.module("civic.common").directive("notification",e)}(),function(){"use strict";function e(){return{restrict:"E",replace:!0,scope:{assertions:"=",rows:"=",context:"="},templateUrl:"app/views/events/common/assertionGrid/assertionGrid.tpl.html",controller:"AssertionGridController"}}function t(e,t,i,n,a,s,o){var r=e.ctrl={};r.exportPopover={templateUrl:"app/views/events/common/gridExportPopover.tpl.html",title:"Save CSV",include:"all",type:"csv"},r.rowsToShow=e.rows?e.rows:10,r.assertionGridOptions={minRowsToShow:r.rowsToShow-1,enablePaging:!1,enableHorizontalScrollbar:s.scrollbars.NEVER,enableVerticalScrollbar:s.scrollbars.NEVER,enableFiltering:!0,enableColumnMenus:!1,enableSorting:!0,enableRowSelection:!0,enableRowHeaderSelection:!1,multiSelect:!1,modifierKeysToMultiSelect:!1,noUnselect:!0,columnDefs:[{name:"status",headerTooltip:"Status",displayName:"ST",type:"string",visible:!1},{name:"flag",type:"boolean",visible:!1},{name:"id",displayName:"AID",visible:!0,type:"number",enableSorting:!0,enableFiltering:!0,headerTooltip:"Assertion ID",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",cellTemplate:"app/views/events/common/assertionGrid/assertionGridIdCell.tpl.html",filter:{condition:s.filter.CONTAINS},minWidth:75,width:"5%"},{name:"gene.name",displayName:"GENE",enableFiltering:!0,allowCellFocus:!1,headerTooltip:"Gene Entrez Name",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",cellTemplate:"app/views/events/common/evidenceGridGeneCell.tpl.html",filter:{condition:s.filter.CONTAINS},width:"8%"},{name:"variant.name",displayName:"VARIANT",enableFiltering:!0,allowCellFocus:!1,headerTooltip:"Variant Name",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",cellTemplate:"app/views/events/common/evidenceGridVariantCell.tpl.html",filter:{condition:s.filter.CONTAINS},width:"12%"},{name:"disease.name",displayName:"DIS",headerTooltip:"Disease",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/evidenceGridDiseaseCell.tpl.html",filter:{condition:s.filter.CONTAINS}},{name:"druglist",displayName:"DRUGS",headerTooltip:"Drugs",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/evidenceGridDrugCell.tpl.html",filter:{condition:s.filter.CONTAINS}},{name:"summary",displayName:"SUMM",width:"6%",headerTooltip:"Summary",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/evidenceGridEvidenceCell.tpl.html",filter:{condition:s.filter.CONTAINS}},{name:"evidence_type",displayName:"AT",headerTooltip:"Assertion Type",enableFiltering:!0,allowCellFocus:!1,headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",filter:{type:s.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"Predictive",label:"Predictive"},{value:"Prognostic",label:"Prognostic"},{value:"Diagnostic",label:"Diagnostic"},{value:"Predisposing",label:"Predisposing"}]},width:"6%",minWidth:50,cellTemplate:"app/views/events/common/evidenceGridTypeCell.tpl.html"},{name:"evidence_direction",displayName:"AD",headerTooltip:"Assertion Direction",cellTemplate:"app/views/events/common/evidenceDirectionCell.tpl.html",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",allowCellFocus:!1,filter:{type:s.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"Supports",label:"Supports"},{value:"Does Not Support",label:"Does not Support"}]},width:"6%",minWidth:50},{name:"clinical_significance",displayName:"CS",headerTooltip:"Clinical Significance",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",allowCellFocus:!1,filter:{type:s.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"Sensitivity/Response",label:"Sensitivity/Response"},{value:"Resistance",label:"Resistance"},{value:"Adverse Response",label:"Adverse Response"},{value:"Reduced Sensitivity",label:"Reduced Sensitivity"},{value:"Positive",label:"Positive"},{value:"Negative",label:"Negative"},{value:"Better Outcome",label:"Better Outcome"},{value:"Poor Outcome",label:"Poor Outcome"},{value:"Pathogenic",label:"Pathogenic"},{value:"Likely Pathogenic",label:"Likely Pathogenic"},{value:"Benign",label:"Benign"},{value:"Likely Benign",label:"Likely Benign"},{value:"Uncertain Significance",label:"Uncertain Significance"}]},width:"6%",minWidth:50,cellTemplate:"app/views/events/common/evidenceGridClinicalSignificanceCell.tpl.html"},{name:"evidence_item_count",width:"5%",displayName:"EIDs",cellTemplate:"app/views/events/common/assertionGrid/assertionGridEvidenceCell.tpl.html",sort:{direction:s.DESC},enableFiltering:!1,allowCellFocus:!1,filter:{condition:s.filter.CONTAINS}}]},r.assertionGridOptions.onRegisterApi=function(s){function l(){return"CIViC_assertions_"+n("date")(new Date,"yyyy-MM-ddTHH:MM:ss")+".csv"}function c(e){return o.map(e,function(e){return o.isArray(e.drugs)&&e.drugs.length>0?e.druglist=o.chain(e.drugs).map("name").value().join(", "):e.druglist="N/A",e})}var d=e.assertions;r.gridApi=s,r.context=e.context,r.assertionGridOptions.data=c(d),e.$watchCollection("assertions",function(e){r.assertionGridOptions.minRowsToShow=e.length+1,r.assertionGridOptions.data=c(e)}),r.exportData=function(){r.assertionGridOptions.exporterCsvFilename=l(e.variant);var t="all"===r.exportPopover.include?a.ALL:a.VISIBLE;"csv"===r.exportPopover.type?s.exporter.csvExport(t,a.ALL):s.exporter.pdfExport(t,a.ALL)},s.selection.on.rowSelectionChanged(e,function(e,n){var a={assertionId:e.entity.id};if(n.metaKey){var s=t.href("events.assertions.summary",a,{absolute:!0});i.open(s,"_blank")}else t.go("events.assertions.summary",a)})}}t.$inject=["$scope","$state","$window","$filter","uiGridExporterConstants","uiGridConstants","_"],angular.module("civic.common").directive("assertionGrid",e).controller("AssertionGridController",t)}(),function(){"use strict";function e(e){e.loadedMsg="Loaded Contact!"}e.$inject=["$scope"],angular.module("civic.pages").controller("ContactCtrl",e)}(),function(){"use strict";function e(e,t){e.state("help",{external:!0,url:"https://docs.civicdb.org/"})}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("civic.pages").config(e)}(),function(){"use strict";function e(e,t,i,n,a){if(i._civicStateError){e.$on("$viewContentLoaded",function(){window.alert("Civic has encountered an error loading the requested page\nYou have been returned to the home page\nPlease try again later"),i._civicStateError=void 0})}var s=e.vm={};s.stats={},s.events=[],n.getSite().then(function(e){s.stats=e}),a.query({count:7}).then(function(e){s.events=e.result});var o=t(function(){n.getSite().then(function(e){s.stats=e}),a.query({count:7}).then(function(e){s.events=e.result})},6e4);e.$on("$destroy",function(){angular.isDefined(o)&&t.cancel(o)})}e.$inject=["$scope","$interval","$rootScope","Stats","Events"],angular.module("civic.pages").controller("HomeCtrl",e)}(),function(){"use strict";function e(e,t,i){var n=this;t.initBase().then(function(e){var t=e[0],a={GeneSummaries:null,VariantSummaries:null,ClinicalEvidenceSummaries:null,VariantGroupSummaries:null,AssertionSummaries:null,civic_accepted:null,civic_accepted_and_submitted:null},s=i.map(t,function(e){var t={note:e.note};return i.forEach(a,function(n,a){var s=i.find(e.files,function(e){return null!==e&&e.includes(a)});t[a]=i.isUndefined(s)?null:s}),t});n.summariesReleaseGridOptions.data=s,n.variantsReleaseGridOptions.data=i.filter(s,function(e){return!i.isNull(e.civic_accepted)||!i.isNull(e.civic_accepted_and_submitted)})}),n.summariesReleaseGridOptions={enablePaging:!0,minRowsToShow:7,paginationPageSizes:[5,10,25,50,75],paginationPageSize:5,enableColumnMenus:!1,enableSorting:!1,data:[],columnDefs:[{name:"note",displayName:"Date",width:"12%"},{name:"GeneSummaries",displayName:"Genes",cellTemplate:"app/pages/downloadCellTemplate.tpl.html",type:"string"},{name:"VariantSummaries",displayName:"Variants",cellTemplate:"app/pages/downloadCellTemplate.tpl.html",type:"string"},{name:"ClinicalEvidenceSummaries",displayName:"Evidence",cellTemplate:"app/pages/downloadCellTemplate.tpl.html",type:"string"},{name:"VariantGroupSummaries",displayName:"Variant Groups",cellTemplate:"app/pages/downloadCellTemplate.tpl.html",type:"string"},{name:"AssertionSummaries",displayName:"Assertions",cellTemplate:"app/pages/downloadCellTemplate.tpl.html",type:"string"}]},n.variantsReleaseGridOptions={data:[],enablePaging:!0,minRowsToShow:7,paginationPageSizes:[5,10,25,50,75],paginationPageSize:5,enableColumnMenus:!1,enableSorting:!1,columnDefs:[{name:"note",displayName:"Date",width:"12%"},{name:"civic_accepted",displayName:"Accepted Variants",width:"17%",cellTemplate:"app/pages/downloadCellTemplate.tpl.html",type:"string"},{name:"civic_accepted_and_submitted",displayName:"Accepted & Submitted Variants",cellTemplate:"app/pages/downloadCellTemplate.tpl.html",type:"string"}]}}e.$inject=["$window","Releases","_"],angular.module("civic.pages").controller("ReleasesController",e)}(),function(){"use strict";function e(e,t,i,n,a){function s(){i.getDashboard(r.model)}function o(){r.model=a.clone(u),s()}var r=e.vm={};r.stateIncludes=t.includes;var l={top:25,right:10,bottom:10,left:10},c={top:25,right:10,bottom:30,left:150},d={top:25,right:10,bottom:30,left:250};r.options={countsByEvidenceType:{width:"100%",height:360,title:"Counts by Evidence Type",margin:l,transitionDuration:1e3,data:[]},countsByEvidenceLevel:{width:"100%",height:360,title:"Counts by Evidence Level",margin:l,transitionDuration:1e3,data:[]},countsByEvidenceDirection:{width:"100%",height:360,title:"Counts by Evidence Direction",margin:l,transitionDuration:1e3,data:[]},countsByVariantOrigin:{width:"100%",height:360,title:"Counts by Variant Origin",margin:l,transitionDuration:1e3,data:[]},countsByClinicalSignificance:{width:"100%",height:360,title:"Counts by Clinical Significance",margin:l,transitionDuration:1e3,data:[]},countsByRating:{width:"100%",height:360,title:"Counts by Rating",margin:l,transitionDuration:1e3,data:[]},countsByStatus:{width:"100%",height:360,title:"Counts by Status",margin:l,transitionDuration:1e3,data:[]},countsByPending:{width:"100%",height:360,title:"Counts by Suggested Changes",margin:l,transitionDuration:1e3,data:[]},drugsWithLevels:{width:"100%",height:540,title:"Top Drugs with Levels",margin:c,transitionDuration:1e3,data:[]},drugsWithClinicalSignificance:{width:"100%",height:540,title:"Top Drugs with Clinical Significance",margin:c,transitionDuration:1e3,data:[]},diseasesWithLevels:{width:"100%",height:540,title:"Top Diseases with Levels",margin:d,transitionDuration:1e3,data:[]},diseasesWithTypes:{width:"100%",height:540,title:"Top Diseases with Types",margin:d,transitionDuration:1e3,data:[]},sourcesWithLevels:{width:"100%",height:540,title:"Top Sources with Levels",margin:c,transitionDuration:1e3,data:[]},sourcesWithTypes:{width:"100%",height:540,title:"Top Sources with Types",margin:c,transitionDuration:1e3,data:[]},organizationsByUserCount:{width:"100%",height:270,title:"User Count",margin:d,transitionDuration:1e3,data:[]},organizationsByChangeActivity:{width:"100%",height:270,title:"Suggested Changes Submitted",margin:d,transitionDuration:1e3,data:[]},organizationsByEvidenceSubmitted:{width:"100%",height:270,title:"Evidence Submitted",margin:d,transitionDuration:1e3,data:[]},organizationsByAssertionsSubmitted:{width:"100%",height:270,title:"Assertions Submitted",margin:d,transitionDuration:1e3,data:[]},organizationsByBadgeCount:{width:"100%",height:270,title:"Badge Count",margin:d,transitionDuration:1e3,data:[]}};var u={entrez_name:"",limit_by_status:""};r.model=a.clone(u),r.Stats=i,r.updateData=s,r.resetForm=o;r.formFields=[{key:"entrez_name",wrapper:"horizontalLabel",type:"typeahead",className:"col-xs-4",templateOptions:{label:"Gene Entrez Name",value:"vm.newEvidence.gene",placeholder:"Filter by Gene Entrez Name",required:!1,editable:!1,formatter:"model[options.key].name",typeahead:"item.name as item.name for item in to.data.typeaheadSearch($viewValue)",templateUrl:"components/forms/fieldTypes/geneTypeahead.tpl.html",data:{typeaheadSearch:function(e){return n.beginsWith(e).then(function(e){return a.map(e,function(e){return e.aliases.length>0&&(e.alias_list=e.aliases.join(", "),e.alias_list.length>70&&(e.alias_list=a.truncate(e.alias_list,70))),e})})}}}},{key:"limit_by_status",type:"select",className:"col-xs-4",defaultValue:void 0,templateOptions:{label:"Submitted Status",required:!1,options:[{value:"",name:"Select Status to Filter"},{value:"submitted",name:"Submitted"},{value:"accepted",name:"Accepted"},{value:"rejected",name:"Rejected"}]}}]}e.$inject=["$scope","$state","Stats","Genes","_"],angular.module("civic.pages").controller("StatisticsController",e)}(),function(){"use strict";function e(e,t){e.state("statistics",{url:"/statistics",abstract:!0,controller:"StatisticsController",templateUrl:"app/pages/statistics/statisticsView.tpl.html",resolve:{data:["Stats",function(e){return e.getDashboard()}]},data:{titleExp:'"Statistics"',
navMode:"sub"}}).state("statistics.evidence",{url:"/evidence",controller:"StatisticsController",templateUrl:"app/pages/statistics/evidence-stats.tpl.html",data:{titleExp:'"Statistics: Evidence"',navMode:"sub"}}).state("statistics.drugs",{url:"/drugs",controller:"StatisticsController",templateUrl:"app/pages/statistics/drugs-stats.tpl.html",data:{titleExp:'"Statistics: Drugs"',navMode:"sub"}}).state("statistics.diseases",{url:"/diseases",controller:"StatisticsController",templateUrl:"app/pages/statistics/diseases-stats.tpl.html",data:{titleExp:'"Statistics: Diseases"',navMode:"sub"}}).state("statistics.sources",{url:"/sources",controller:"StatisticsController",templateUrl:"app/pages/statistics/sources-stats.tpl.html",data:{titleExp:'"Statistics: Sources"',navMode:"sub"}}).state("statistics.organizations",{url:"/organizations",controller:"StatisticsController",templateUrl:"app/pages/statistics/organizations-stats.tpl.html",data:{titleExp:'"Statistics: Organizations"',navMode:"sub"}}),t.when("/statistics","/statistics/evidence")}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("civic.pages").config(e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{options:"=",palette:"="},templateUrl:"app/pages/statistics/directives/chartPie.tpl.html",controller:t}}function t(e,t,i,n,a,s,o,r){var l=e.options,c=a.select(n[0]).selectAll(".chart-pie").append("svg").attr("width",l.width).attr("height",l.height).attr("id",l.id).style("overflow","visible");c.append("text").attr("x",l.margin.left).attr("y",l.margin.top-10).style("text-anchor","left").style("font-family","sans-serif").style("font-weight","bold").text(l.title);var d=new s.chart(c).setMargins(0,25,0,25);d.addMeasureAxis("p","Count").tickFormat=a.format(",.0f"),d.addSeries("Clinical Significance",s.plot.pie);var u=d.addLegend("100%",25,90,300,"left");u._getEntries_old=u._getEntries,u._getEntries=function(){return o.sortBy(u._getEntries_old.apply(this,arguments),"key")},e.$watch(function(){return r.data.dashboard.counts_by_clinical_significance},function(e){d.data=o.map(e,function(e,t){return{"Clinical Significance":""===t?"None assigned":t,Count:e}}),0===d.data.length&&d.series.forEach(function(e){e.shapes.remove()}),d.draw()});var p=function(){d.draw(0,!0)};angular.element(t).on("resize",p),e.$on("$destroy",function(){angular.element(t).off("resize",p)}),e.chart=d}t.$inject=["$scope","$window","$rootScope","$element","d3","dimple","_","Stats"],angular.module("civic.pages").directive("countsByClinicalSignificance",e).controller("countsByClinicalSignificanceController",t)}(),function(){"use strict";function e(){return{restrict:"E",scope:{options:"=",palette:"="},templateUrl:"app/pages/statistics/directives/chartPie.tpl.html",controller:t}}function t(e,t,i,n,a,s,o,r,l){var c=e.options,d=s.select(a[0]).selectAll(".chart-pie").append("svg").attr("width",c.width).attr("height",c.height).attr("id",c.id).style("overflow","visible");d.append("text").attr("x",c.margin.left).attr("y",c.margin.top-10).style("text-anchor","left").style("font-family","sans-serif").style("font-weight","bold").text(c.title);var u=new o.chart(d).setMargins(0,25,0,25);u.addMeasureAxis("p","Count").tickFormat=s.format(",.0f"),u.addSeries("Direction",o.plot.pie);var p=u.addLegend("100%",25,90,300,"left");p._getEntries_old=p._getEntries,p._getEntries=function(){return r.sortBy(p._getEntries_old.apply(this,arguments),"key")},e.$watch(function(){return l.data.dashboard.counts_by_evidence_direction},function(e){u.data=r.map(e,function(e,t){return{Direction:""===t?"None assigned":t,Count:e}}),0===u.data.length&&u.series.forEach(function(e){e.shapes.remove()}),u.draw()});var m=function(){u.draw(0,!0)};angular.element(i).on("resize",m),e.$on("$destroy",function(){angular.element(i).off("resize",m)}),e.chart=u}t.$inject=["$scope","$attrs","$window","$rootScope","$element","d3","dimple","_","Stats"],angular.module("civic.pages").directive("countsByEvidenceDirection",e).controller("countsByEvidenceDirectionController",t)}(),function(){"use strict";function e(){return{restrict:"E",scope:{options:"=",palette:"="},templateUrl:"app/pages/statistics/directives/chartPie.tpl.html",controller:t}}function t(e,t,i,n,a,s,o,r){var l=e.options,c=a.select(n[0]).selectAll(".chart-pie").append("svg").attr("width",l.width).attr("height",l.height).attr("id",l.id).style("overflow","visible");c.append("text").attr("x",l.margin.left).attr("y",l.margin.top-10).style("text-anchor","left").style("font-family","sans-serif").style("font-weight","bold").text(l.title);var d=new s.chart(c).setMargins(0,25,0,25);d.addMeasureAxis("p","Count").tickFormat=a.format(",.0f"),d.addSeries("Level",s.plot.pie);var u=[{val:"A",color:"#33b358"},{val:"B",color:"#08b1e6"},{val:"C",color:"#616eb2"},{val:"D",color:"#f68f47"},{val:"E",color:"#e24759"},{val:"F",color:"#fce452"}];o.each(u,function(e){d.assignColor(e.val,e.color)});var p=d.addLegend("100%",25,50,300,"left");p._getEntries_old=p._getEntries,p._getEntries=function(){return o.sortBy(p._getEntries_old.apply(this,arguments),"key")},e.$watch(function(){return r.data.dashboard.counts_by_evidence_level},function(e){d.data=o.map(e,function(e,t){return{Level:o.capitalize(t),Count:e}}),0===d.data.length&&d.series.forEach(function(e){e.shapes.remove()}),d.draw()});var m=function(){d.draw(0,!0)};angular.element(t).on("resize",m),e.$on("$destroy",function(){angular.element(t).off("resize",m)}),e.chart=d}t.$inject=["$scope","$window","$rootScope","$element","d3","dimple","_","Stats"],angular.module("civic.pages").directive("countsByEvidenceLevel",e).controller("countsByEvidenceLevelController",t)}(),function(){"use strict";function e(){return{restrict:"E",scope:{options:"=",palette:"="},templateUrl:"app/pages/statistics/directives/chartPie.tpl.html",controller:t}}function t(e,t,i,n,a,s,o,r){var l=e.options,c=a.select(n[0]).selectAll(".chart-pie").append("svg").attr("width",l.width).attr("height",l.height).attr("id",l.id).style("overflow","visible");c.append("text").attr("x",l.margin.left).attr("y",l.margin.top-10).style("text-anchor","left").style("font-family","sans-serif").style("font-weight","bold").text(l.title);var d=new s.chart(c).setMargins(0,25,0,25);d.addMeasureAxis("p","Count").tickFormat=a.format(",.0f");var u=(d.addSeries("Type",s.plot.pie),d.addLegend("100%",25,90,300,"left"));u._getEntries_old=u._getEntries,u._getEntries=function(){return o.sortBy(u._getEntries_old.apply(this,arguments),"key")},e.$watch(function(){return r.data.dashboard.counts_by_evidence_type},function(e){d.data=o.map(e,function(e,t){return{Type:o.capitalize(t),Count:e}},!0),0===d.data.length&&d.series.forEach(function(e){e.shapes.remove()}),d.draw()});var p=function(){d.draw(0,!0)};angular.element(t).on("resize",p),e.$on("$destroy",function(){angular.element(t).off("resize",p)}),e.chart=d}t.$inject=["$scope","$window","$rootScope","$element","d3","dimple","_","Stats"],angular.module("civic.pages").directive("countsByEvidenceType",e).controller("countsByEvidenceTypeController",t)}(),function(){"use strict";function e(){return{restrict:"E",scope:{options:"=",palette:"="},templateUrl:"app/pages/statistics/directives/chartPie.tpl.html",controller:t}}function t(e,t,i,n,a,s,o,r){var l=e.options,c=a.select(n[0]).selectAll(".chart-pie").append("svg").attr("width",l.width).attr("height",l.height).attr("id",l.id).style("overflow","visible");c.append("text").attr("x",l.margin.left).attr("y",l.margin.top-10).style("text-anchor","left").style("font-family","sans-serif").style("font-weight","bold").text(l.title);var d=new s.chart(c).setMargins(0,25,0,25);d.addMeasureAxis("p","Count").tickFormat=a.format(",.0f"),d.addSeries("Status",s.plot.pie);var u=d.addLegend("100%",25,90,300,"left"),p=[{val:"No Pending Changes",color:"#B2D49C"},{val:"Has Pending Changes",color:"#ECA2C0"}];o.map(p,function(e){d.assignColor(e.val,e.color)}),u._getEntries_old=u._getEntries,u._getEntries=function(){return o.sortBy(u._getEntries_old.apply(this,arguments),"key")},e.$watch(function(){return r.data.dashboard.counts_by_pending_revisions},function(e){d.data=o.map(e,function(e,t){return{Status:o.capitalize(t.replace(/_/g," ")),Count:e}}),0===d.data.length&&d.series.forEach(function(e){e.shapes.remove()}),d.draw()});var m=function(){d.draw(0,!0)};angular.element(t).on("resize",m),e.$on("$destroy",function(){angular.element(t).off("resize",m)}),e.chart=d}t.$inject=["$scope","$window","$rootScope","$element","d3","dimple","_","Stats"],angular.module("civic.pages").directive("countsByPending",e).controller("countsByPendingController",t)}(),function(){"use strict";function e(){return{restrict:"E",scope:{options:"=",palette:"="},templateUrl:"app/pages/statistics/directives/chartPie.tpl.html",controller:t}}function t(e,t,i,n,a,s,o,r){var l=e.options,c=a.select(n[0]).selectAll(".chart-pie").append("svg").attr("width",l.width).attr("height",l.height).attr("id",l.id).style("overflow","visible");c.append("text").attr("x",l.margin.left).attr("y",l.margin.top-10).style("text-anchor","left").style("font-family","sans-serif").style("font-weight","bold").text(l.title);var d=new s.chart(c).setMargins(0,25,0,25);d.addMeasureAxis("p","Count").tickFormat=a.format(",.0f"),d.addSeries("Rating",s.plot.pie);var u=d.addLegend("100%",25,90,300,"left");u._getEntries_old=u._getEntries,u._getEntries=function(){return o.sortBy(u._getEntries_old.apply(this,arguments),"key")},e.$watch(function(){return r.data.dashboard.counts_by_rating},function(e){d.data=o.map(e,function(e,t){return{Rating:""===t?"None assigned":o.capitalize(t),Count:e}}),0===d.data.length&&d.series.forEach(function(e){e.shapes.remove()}),d.draw()});var p=function(){d.draw(0,!0)};angular.element(t).on("resize",p),e.$on("$destroy",function(){angular.element(t).off("resize",p)}),e.chart=d}t.$inject=["$scope","$window","$rootScope","$element","d3","dimple","_","Stats"],angular.module("civic.pages").directive("countsByRating",e).controller("countsByRatingController",t)}(),function(){"use strict";function e(){return{restrict:"E",scope:{options:"=",palette:"="},templateUrl:"app/pages/statistics/directives/chartPie.tpl.html",controller:t}}function t(e,t,i,n,a,s,o,r){var l=e.options,c=a.select(n[0]).selectAll(".chart-pie").append("svg").attr("width",l.width).attr("height",l.height).attr("id",l.id).style("overflow","visible");c.append("text").attr("x",l.margin.left).attr("y",l.margin.top-10).style("text-anchor","left").style("font-family","sans-serif").style("font-weight","bold").text(l.title);var d=new s.chart(c).setMargins(0,25,0,25);d.addMeasureAxis("p","Count").tickFormat=a.format(",.0f"),d.addSeries("Status",s.plot.pie);var u=d.addLegend("100%",25,90,300,"left"),p=[{val:"Accepted",color:"#B2D49C"},{val:"Rejected",color:"#ECA2C0"},{val:"Submitted",color:"#F3BC94"}];o.map(p,function(e){d.assignColor(e.val,e.color)}),u._getEntries_old=u._getEntries,u._getEntries=function(){return o.sortBy(u._getEntries_old.apply(this,arguments),"key")},e.$watch(function(){return r.data.dashboard.counts_by_status},function(e){d.data=o.map(e,function(e,t){return{Status:o.capitalize(t),Count:e}}),0===d.data.length&&d.series.forEach(function(e){e.shapes.remove()}),d.draw()});var m=function(){d.draw(0,!0)};angular.element(t).on("resize",m),e.$on("$destroy",function(){angular.element(t).off("resize",m)}),e.chart=d}t.$inject=["$scope","$window","$rootScope","$element","d3","dimple","_","Stats"],angular.module("civic.pages").directive("countsByStatus",e).controller("countsByStatusController",t)}(),function(){"use strict";function e(){return{restrict:"E",scope:{options:"=",palette:"="},templateUrl:"app/pages/statistics/directives/chartPie.tpl.html",controller:t}}function t(e,t,i,n,a,s,o,r){var l=e.options,c=a.select(n[0]).selectAll(".chart-pie").append("svg").attr("width",l.width).attr("height",l.height).attr("id",l.id).style("overflow","visible");c.append("text").attr("x",l.margin.left).attr("y",l.margin.top-10).style("text-anchor","left").style("font-family","sans-serif").style("font-weight","bold").text(l.title);var d=new s.chart(c).setMargins(0,25,0,25);d.addMeasureAxis("p","Count").tickFormat=a.format(",.0f"),d.addSeries("Origin",s.plot.pie);var u=d.addLegend("100%",25,90,300,"left");u._getEntries_old=u._getEntries,u._getEntries=function(){return o.sortBy(u._getEntries_old.apply(this,arguments),"key")},e.$watch(function(){return r.data.dashboard.counts_by_variant_origin},function(e){d.data=o.map(e,function(e,t){return{Origin:""===t?"None assigned":t,Count:e}}),0===d.data.length&&d.series.forEach(function(e){e.shapes.remove()}),d.draw()});var p=function(){d.draw(0,!0)};angular.element(t).on("resize",p),e.$on("$destroy",function(){angular.element(t).off("resize",p)}),e.chart=d}t.$inject=["$scope","$window","$rootScope","$element","d3","dimple","_","Stats"],angular.module("civic.pages").directive("countsByVariantOrigin",e).controller("countsByVariantOriginController",t)}(),function(){"use strict";function e(){return{restrict:"E",scope:{options:"=",palette:"="},template:'<div class="bar-chart"></div>',controller:t}}function t(e,t,i,n,a,s,o,r){var l=e.options,c=a.select(n[0]).append("svg").attr("width",l.width).attr("height",l.height).attr("id",l.id).style("overflow","visible");c.append("text").attr("x",l.margin.left).attr("y",l.margin.top-10).style("text-anchor","left").style("font-family","sans-serif").style("font-weight","bold").text(l.title);var d=new s.chart(c);d.setMargins(l.margin.left,l.margin.top,l.margin.right,l.margin.bottom),d.addMeasureAxis("x","Count").tickFormat=",.2r",d.addCategoryAxis("y","Disease").addOrderRule("Count",!1),d.addSeries("Level",s.plot.bar).addOrderRule("Level",!0);var u=[{val:"A",color:"#33b358"},{val:"B",color:"#08b1e6"},{val:"C",color:"#616eb2"},{val:"D",color:"#f68f47"},{val:"E",color:"#e24759"},{val:"F",color:"#fce452"}];o.map(u,function(e){d.assignColor(e.val,e.color)});var p=d.addLegend("50%","90%",220,20,"left");p._getEntries_old=p._getEntries,p._getEntries=function(){return o.sortBy(p._getEntries_old.apply(this,arguments),"key")},e.$watch(function(){return r.data.dashboard.top_diseases_with_levels},function(e){d.data=o.chain(e).map(function(e,t){var i=o.merge({a:0,b:0,c:0,d:0,e:0},e);return o.chain(i).map(function(e,i){return{Disease:t,Level:o.capitalize(i),Count:e}}).value()}).flatten().value(),d.draw()});var m=function(){d.draw(0,!0)};angular.element(t).on("resize",m),e.$on("$destroy",function(){angular.element(t).off("resize",m)}),e.chart=d}t.$inject=["$scope","$window","$rootScope","$element","d3","dimple","_","Stats"],angular.module("civic.pages").directive("diseasesWithLevels",e).controller("diseasesWithLevelsController",t)}(),function(){"use strict";function e(){return{restrict:"E",scope:{options:"=",palette:"="},template:'<div class="bar-chart"></div>',controller:t}}function t(e,t,i,n,a,s,o,r){var l=e.options,c=a.select(n[0]).append("svg").attr("width",l.width).attr("height",l.height).attr("id",l.id).style("overflow","visible");c.append("text").attr("x",l.margin.left).attr("y",l.margin.top-10).style("text-anchor","left").style("font-family","sans-serif").style("font-weight","bold").text(l.title);var d=new s.chart(c);d.setMargins(l.margin.left,l.margin.top,l.margin.right,l.margin.bottom),d.addMeasureAxis("x","Count").tickFormat=",.2r",d.addCategoryAxis("y","Disease").addOrderRule("Count"),d.addSeries("Type",s.plot.bar);var u=d.addLegend("60%","80%",50,200,"left");u._getEntries_old=u._getEntries,u._getEntries=function(){return o.sortBy(u._getEntries_old.apply(this,arguments),"key")},e.$watch(function(){return r.data.dashboard.top_diseases_with_types},function(e){d.data=o.chain(e).map(function(e,t){return o.chain(e).map(function(e,i){return{Disease:t,Type:o.capitalize(i),Count:e}}).value()}).flatten().value(),d.draw()});var p=function(){d.draw(0,!0)};angular.element(t).on("resize",p),e.$on("$destroy",function(){angular.element(t).off("resize",p)}),e.chart=d}t.$inject=["$scope","$window","$rootScope","$element","d3","dimple","_","Stats"],angular.module("civic.pages").directive("diseasesWithTypes",e).controller("diseasesWithTypesController",t)}(),function(){"use strict";function e(){return{restrict:"E",scope:{options:"=",palette:"="},template:'<div class="bar-chart"></div>',controller:t}}function t(e,t,i,n,a,s,o,r){var l=e.options,c=a.select(n[0]).append("svg").attr("width",l.width).attr("height",l.height).attr("id",l.id).style("overflow","visible");c.append("text").attr("x",l.margin.left).attr("y",l.margin.top-10).style("text-anchor","left").style("font-family","sans-serif").style("font-weight","bold").text(l.title);var d=new s.chart(c);d.setMargins(l.margin.left,l.margin.top,l.margin.right,l.margin.bottom),d.addMeasureAxis("x","Count"),d.addCategoryAxis("y","Drug").addOrderRule("Count"),d.addSeries("Clinical Significance",s.plot.bar);var u=d.addLegend("50%","75%",50,200,"left");u._getEntries_old=u._getEntries,u._getEntries=function(){return o.sortBy(u._getEntries_old.apply(this,arguments),"key")},e.$watch(function(){return r.data.dashboard.top_drugs_with_clinical_significance},function(e){d.data=o.chain(e).map(function(e,t){return o.chain(e).map(function(e,i){return{Drug:t,"Clinical Significance":o.capitalize(i),Count:e}}).value()}).flatten().value(),d.draw()});var p=function(){d.draw(0,!0)};angular.element(t).on("resize",p),e.$on("$destroy",function(){angular.element(t).off("resize",p)}),e.chart=d}t.$inject=["$scope","$window","$rootScope","$element","d3","dimple","_","Stats"],angular.module("civic.pages").directive("drugsWithClinicalSignificance",e).controller("drugsWithClinicalSignificanceController",t)}(),function(){"use strict";function e(){return{restrict:"E",scope:{options:"=",palette:"="},template:'<div class="bar-chart"></div>',controller:t}}function t(e,t,i,n,a,s,o,r){var l=e.options,c=a.select(n[0]).append("svg").attr("width",l.width).attr("height",l.height).attr("id",l.id).style("overflow","visible");c.append("text").attr("x",l.margin.left).attr("y",l.margin.top-10).style("text-anchor","left").style("font-family","sans-serif").style("font-weight","bold").text(l.title);var d=new s.chart(c);d.setMargins(l.margin.left,l.margin.top,l.margin.right,l.margin.bottom),d.addMeasureAxis("x","Count"),d.addCategoryAxis("y","Drug").addOrderRule("Count",!1),d.addSeries("Level",s.plot.bar).addOrderRule("Level",!0);var u=d.addLegend("50%","90%",220,20,"left");u._getEntries_old=u._getEntries,u._getEntries=function(){return o.orderBy(u._getEntries_old.apply(this,arguments),["key"],["desc"])},e.$watch(function(){return r.data.dashboard.top_drugs_with_levels},function(e){d.data=o.chain(e).map(function(e,t){var i=o.merge({a:0,b:0,c:0,d:0,e:0},e);return o.chain(i).map(function(e,i){return{Drug:t,Level:o.capitalize(i),Count:e}}).value()}).flatten().orderBy(["Drug","Level"],["asc","desc"]).value(),d.draw()});var p=function(){d.draw(0,!0)};angular.element(t).on("resize",p),e.$on("$destroy",function(){angular.element(t).off("resize",p)}),e.chart=d}t.$inject=["$scope","$window","$rootScope","$element","d3","dimple","_","Stats"],angular.module("civic.pages").directive("drugsWithLevels",e).controller("drugsWithLevelsController",t)}(),function(){"use strict";function e(){return{restrict:"E",scope:{options:"=",palette:"="},templateUrl:"app/pages/statistics/directives/chartPie.tpl.html",controller:t}}function t(e,t,i,n,a,s,o,r){var l=e.options,c=a.select(n[0]).selectAll(".chart-pie").append("svg").attr("width",l.width).attr("height",l.height).attr("id",l.id).style("overflow","visible");c.append("text").attr("x",l.margin.left).attr("y",l.margin.top-10).style("text-anchor","left").style("font-family","sans-serif").style("font-weight","bold").text(l.title);var d=new s.chart(c).setMargins(0,25,0,25);d.addMeasureAxis("p","Count").tickFormat=a.format(",.0f"),d.addSeries("Organization",s.plot.pie);var u=d.addLegend("110%",25,90,300,"left");u._getEntries_old=u._getEntries,u._getEntries=function(){return o.sortBy(u._getEntries_old.apply(this,arguments),"key")},e.$watch(function(){return r.data.dashboard.organization_activity_count},function(e){d.data=o.map(e,function(e,t){return{Organization:t,Count:o.reduce(e.assertion_count,function(e,t,i){return e+t},0)}}),0===d.data.length&&d.series.forEach(function(e){e.shapes.remove()}),d.draw()});var p=function(){d.draw(0,!0)};angular.element(t).on("resize",p),e.$on("$destroy",function(){angular.element(t).off("resize",p)}),e.chart=d}t.$inject=["$scope","$window","$rootScope","$element","d3","dimple","_","Stats"],angular.module("civic.pages").directive("organizationsByAssertionActivity",e).controller("organizationsByAssertionActivityController",t)}(),function(){"use strict";function e(){return{restrict:"E",scope:{options:"=",palette:"="},template:'<div class="bar-chart"></div>',controller:t}}function t(e,t,i,n,a,s,o,r){var l=e.options,c=a.select(n[0]).append("svg").attr("width",l.width).attr("height",l.height).attr("id",l.id).style("overflow","visible");c.append("text").attr("x",l.margin.left).attr("y",l.margin.top-10).style("text-anchor","left").style("font-family","sans-serif").style("font-weight","bold").text(l.title);var d=new s.chart(c);d.setMargins(l.margin.left,l.margin.top,l.margin.right,l.margin.bottom),d.addMeasureAxis("x","Count"),d.addCategoryAxis("y","Organization").addOrderRule("Count");var u=(d.addSeries("Activity",s.plot.bar),d.addLegend("80%","70%",220,20,"left"));u._getEntries_old=u._getEntries,u._getEntries=function(){return o.orderBy(u._getEntries_old.apply(this,arguments),["key"],["asc"])},e.$watch(function(){return r.data.dashboard.organization_activity_count},function(e){d.data=o.chain(e).map(function(e,t){return o.chain(e.assertion_count).map(function(e,i){return{Organization:t,Activity:o.capitalize(i),Count:e}}).value()}).flatten().value(),d.draw()});var p=function(){d.draw(0,!0)};angular.element(t).on("resize",p),e.$on("$destroy",function(){angular.element(t).off("resize",p)}),e.chart=d}t.$inject=["$scope","$window","$rootScope","$element","d3","dimple","_","Stats"],angular.module("civic.pages").directive("organizationsByAssertionsSubmitted",e).controller("organizationsByAssertionsSubmittedController",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{options:"=",palette:"="},template:'<div class="bar-chart"></div>',controller:t}}function t(e,t,i,n,a,s,o,r){var l=e.options,c=a.select(n[0]).append("svg").attr("width",l.width).attr("height",l.height).attr("id",l.id).style("overflow","visible");c.append("text").attr("x",l.margin.left).attr("y",l.margin.top-10).style("text-anchor","left").style("font-family","sans-serif").style("font-weight","bold").text(l.title);var d=new s.chart(c);d.setMargins(l.margin.left,l.margin.top,l.margin.right,l.margin.bottom),d.addMeasureAxis("x","Count"),d.addCategoryAxis("y","Organization").addOrderRule("Count");var u=(d.addSeries("Type",s.plot.bar),[{val:"Bronze",color:"#A77044"},{val:"Silver",color:"#A7A7AD"},{val:"Gold",color:"#D6AF36"},{val:"Platinum",color:"#D7D7D7"}]);o.each(u,function(e){d.assignColor(e.val,e.color)});var p=d.addLegend("80%","70%",220,20,"left");p._getEntries_old=p._getEntries,p._getEntries=function(){var e=["Bronze","Silver","Gold","Platinum"];return o.sortBy(p._getEntries_old.apply(this,arguments),function(t){return e.indexOf(t.Type)})},e.$watch(function(){return r.data.dashboard.organization_badge_count},function(e){d.data=o.chain(e).map(function(e,t){var i={platinum:0,gold:0,silver:0,bronze:0};return o.each(e,function(e,t){o.each(e,function(e,t){i[t]+=e})}),o.chain(i).map(function(e,i){return{Organization:t,Type:o.capitalize(i),Count:e}}).flatten().value()}).flatten().value(),d.draw()});var m=function(){d.draw(0,!0)};angular.element(t).on("resize",m),e.$on("$destroy",function(){angular.element(t).off("resize",m)}),e.chart=d}t.$inject=["$scope","$window","$rootScope","$element","d3","dimple","_","Stats"],angular.module("civic.pages").directive("organizationsByBadgeCount",e).controller("organizationsByBadgeCountController",t)}(),function(){"use strict";function e(){return{restrict:"E",scope:{options:"=",palette:"="},templateUrl:"app/pages/statistics/directives/chartPie.tpl.html",controller:t}}function t(e,t,i,n,a,s,o,r){var l=e.options,c=a.select(n[0]).selectAll(".chart-pie").append("svg").attr("width",l.width).attr("height",l.height).attr("id",l.id).style("overflow","visible");c.append("text").attr("x",l.margin.left).attr("y",l.margin.top-10).style("text-anchor","left").style("font-family","sans-serif").style("font-weight","bold").text(l.title);var d=new s.chart(c).setMargins(0,25,0,25);d.addMeasureAxis("p","Count").tickFormat=a.format(",.0f"),d.addSeries("Organization",s.plot.pie);var u=d.addLegend("110%",25,90,300,"left");u._getEntries_old=u._getEntries,u._getEntries=function(){return o.sortBy(u._getEntries_old.apply(this,arguments),"key")},e.$watch(function(){return r.data.dashboard.organization_activity_count},function(e){d.data=o.map(e,function(e,t){return{Organization:t,Count:o.reduce(e.evidence_counts,function(e,t,i){return e+t},0)}}),0===d.data.length&&d.series.forEach(function(e){e.shapes.remove()}),d.draw()});var p=function(){d.draw(0,!0)};angular.element(t).on("resize",p),e.$on("$destroy",function(){angular.element(t).off("resize",p)}),e.chart=d}t.$inject=["$scope","$window","$rootScope","$element","d3","dimple","_","Stats"],angular.module("civic.pages").directive("organizationsByEvidenceActivity",e).controller("organizationsByEvidenceActivityController",t)}(),function(){"use strict";function e(){return{restrict:"E",scope:{options:"=",palette:"="},template:'<div class="bar-chart"></div>',controller:t}}function t(e,t,i,n,a,s,o,r){var l=e.options,c=a.select(n[0]).append("svg").attr("width",l.width).attr("height",l.height).attr("id",l.id).style("overflow","visible");c.append("text").attr("x",l.margin.left).attr("y",l.margin.top-10).style("text-anchor","left").style("font-family","sans-serif").style("font-weight","bold").text(l.title);var d=new s.chart(c);d.setMargins(l.margin.left,l.margin.top,l.margin.right,l.margin.bottom),d.addMeasureAxis("x","Count"),d.addCategoryAxis("y","Organization").addOrderRule("Count");var u=(d.addSeries("Activity",s.plot.bar),d.addLegend("80%","70%",220,20,"left"));u._getEntries_old=u._getEntries,u._getEntries=function(){return o.orderBy(u._getEntries_old.apply(this,arguments),["key"],["asc"])},e.$watch(function(){return r.data.dashboard.organization_activity_count},function(e){d.data=o.chain(e).map(function(e,t){return o.chain(e.evidence_counts).map(function(e,i){return{Organization:t,Activity:o.capitalize(i),Count:e}}).value()}).flatten().value(),d.draw()});var p=function(){d.draw(0,!0)};angular.element(t).on("resize",p),e.$on("$destroy",function(){angular.element(t).off("resize",p)}),e.chart=d}t.$inject=["$scope","$window","$rootScope","$element","d3","dimple","_","Stats"],angular.module("civic.pages").directive("organizationsByEvidenceSubmitted",e).controller("organizationsByEvidenceSubmittedController",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{options:"=",palette:"="},template:'<div class="bar-chart"></div>',controller:t}}function t(e,t,i,n,a,s,o,r){var l=e.options,c=a.select(n[0]).append("svg").attr("width",l.width).attr("height",l.height).attr("id",l.id).style("overflow","visible");c.append("text").attr("x",l.margin.left).attr("y",l.margin.top-10).style("text-anchor","left").style("font-family","sans-serif").style("font-weight","bold").text(l.title);var d=new s.chart(c);d.setMargins(l.margin.left,l.margin.top,l.margin.right,l.margin.bottom),d.addMeasureAxis("x","Count"),d.addCategoryAxis("y","Organization").addOrderRule("Count");var u=(d.addSeries("Activity",s.plot.bar),d.addLegend("80%","70%",220,20,"left"));u._getEntries_old=u._getEntries,u._getEntries=function(){return o.orderBy(u._getEntries_old.apply(this,arguments),["key"],["asc"])},e.$watch(function(){return r.data.dashboard.organization_activity_count},function(e){d.data=o.chain(e).map(function(e,t){return o.chain(e.suggested_change_counts).map(function(e,i){return{Organization:t,Activity:o.capitalize(i),Count:e}}).value()}).flatten().value(),d.draw()});var p=function(){d.draw(0,!0)};angular.element(t).on("resize",p),e.$on("$destroy",function(){angular.element(t).off("resize",p)}),e.chart=d}t.$inject=["$scope","$window","$rootScope","$element","d3","dimple","_","Stats"],angular.module("civic.pages").directive("organizationsBySuggestedChanges",e).controller("organizationsBySuggestedChangesController",t)}(),function(){"use strict";function e(){return{restrict:"E",scope:{options:"=",palette:"="},template:'<div class="bar-chart"></div>',controller:t}}function t(e,t,i,n,a,s,o,r){var l=e.options,c=a.select(n[0]).append("svg").attr("width",l.width).attr("height",l.height).attr("id",l.id).style("overflow","visible");c.append("text").attr("x",l.margin.left).attr("y",l.margin.top-10).style("text-anchor","left").style("font-family","sans-serif").style("font-weight","bold").text(l.title);var d=new s.chart(c);d.setMargins(l.margin.left,l.margin.top,l.margin.right,l.margin.bottom),d.addMeasureAxis("x","Count"),d.addCategoryAxis("y","Organization").addOrderRule("Count");d.addSeries(null,s.plot.bar);e.$watch(function(){return r.data.dashboard.organization_user_count},function(e){d.data=o.map(e,function(e,t){return{Organization:t,Count:e}}),d.draw()});var u=function(){d.draw(0,!0)};angular.element(t).on("resize",u),e.$on("$destroy",function(){angular.element(t).off("resize",u)}),e.chart=d}t.$inject=["$scope","$window","$rootScope","$element","d3","dimple","_","Stats"],angular.module("civic.pages").directive("organizationsByUserCount",e).controller("organizationsByUserCountController",t)}(),function(){"use strict";function e(){return{restrict:"E",scope:{options:"=",palette:"="},template:'<div class="bar-chart"></div>',controller:t}}function t(e,t,i,n,a,s,o,r){var l=e.options,c=a.select(n[0]).append("svg").attr("width",l.width).attr("height",l.height).attr("id",l.id).style("overflow","visible");c.append("text").attr("x",l.margin.left).attr("y",l.margin.top-10).style("text-anchor","left").style("font-family","sans-serif").style("font-weight","bold").text(l.title);var d=new s.chart(c);d.setMargins(l.margin.left,l.margin.top,l.margin.right,l.margin.bottom),d.addMeasureAxis("x","Count");var u=d.addCategoryAxis("y","Source");u.addOrderRule("Count",!1),u.addOrderRule("Count"),d.addSeries("Level",s.plot.bar).addOrderRule("Level",!0);var p=d.addLegend("50%","90%",220,20,"left");p._getEntries_old=p._getEntries,p._getEntries=function(){return o.orderBy(p._getEntries_old.apply(this,arguments),["key"],["desc"])},e.$watch(function(){return r.data.dashboard.top_journals_with_levels},function(e){d.data=o.chain(e).map(function(e,t){var i=o.merge({a:0,b:0,c:0,d:0,e:0},e);return o.chain(i).map(function(e,i){return{Source:t,Level:o.capitalize(i),Count:e}}).value()}).flatten().value(),d.draw()});var m=function(){d.draw(0,!0)};angular.element(t).on("resize",m),e.$on("$destroy",function(){angular.element(t).off("resize",m)}),e.chart=d}t.$inject=["$scope","$window","$rootScope","$element","d3","dimple","_","Stats"],angular.module("civic.pages").directive("sourcesWithLevels",e).controller("sourcesWithLevelsController",t)}(),function(){"use strict";function e(){return{restrict:"E",scope:{options:"=",palette:"="},template:'<div class="bar-chart"></div>',controller:t}}function t(e,t,i,n,a,s,o,r){var l=e.options,c=a.select(n[0]).append("svg").attr("width",l.width).attr("height",l.height).attr("id",l.id).style("overflow","visible");c.append("text").attr("x",l.margin.left).attr("y",l.margin.top-10).style("text-anchor","left").style("font-family","sans-serif").style("font-weight","bold").text(l.title);var d=new s.chart(c);d.setMargins(l.margin.left,l.margin.top,l.margin.right,l.margin.bottom),d.addMeasureAxis("x","Count"),d.addCategoryAxis("y","Source").addOrderRule("Count"),d.addSeries("Type",s.plot.bar);var u=d.addLegend("60%","80%",50,200,"left");u._getEntries_old=u._getEntries,u._getEntries=function(){return o.sortBy(u._getEntries_old.apply(this,arguments),"key")},
e.$watch(function(){return r.data.dashboard.top_journals_with_types},function(e){d.data=o.chain(e).map(function(e,t){return o.chain(e).map(function(e,i){return{Source:t,Type:o.capitalize(i),Count:e}}).value()}).flatten().value(),d.draw()});var p=function(){d.draw(0,!0)};angular.element(t).on("resize",p),e.$on("$destroy",function(){angular.element(t).off("resize",p)}),e.chart=d}t.$inject=["$scope","$window","$rootScope","$element","d3","dimple","_","Stats"],angular.module("civic.pages").directive("sourcesWithTypes",e).controller("sourcesWithTypesController",t)}(),function(){"use strict";function e(){}angular.module("civic.activity").controller("ActivityController",e)}(),function(){"use strict";function e(e){e.state("activity",{url:"/activity",controller:"ActivityController",templateUrl:"app/views/activity/activity.tpl.html",data:{titleExp:'"Activity"',navMode:"sub"}})}e.$inject=["$stateProvider"],angular.module("civic.activity").config(e)}(),function(){"use strict";function e(){return{restrict:"E",replace:!0,scope:{entity:"=",id:"="},templateUrl:"app/views/activity/directives/activityGrid.tpl.html",controller:"ActivityGridController"}}function t(e,t,i,n,a,s,o){function r(e){return s.map(e,function(e){var t={assertions:"AID",genes:"GID",variants:"VID",variantgroups:"VGID",evidenceitems:"EID",sources:"SID",suggestedchanges:"SC"},i=t[e.subject_type];e.entity_id=i+e.subject_id;var n={assertions:function(e){return e.assertion.name},genes:function(e){return e.gene.name},variants:function(e){return e.variant.name},variantgroups:function(e){return e.variant_group.name},evidenceitems:function(e){return e.evidence_item.name},sources:function(e){return e.source.name},suggestedchanges:function(e){return"SC"+e.suggested_change.id}};return e.entity_id_tooltip=n[e.subject_type](e.state_params),e})}function l(){c(d.count,d.page,d.sorting,d.filters).then(function(e){s.isUndefined(e.total)&&!s.isUndefined(e._meta)?d.totalItems=e._meta.total_count:s.isUndefined(e.total)||(d.totalItems=e.total)})}function c(e,i,n,a){var r,l=t.entity;return r={count:e,page:i},t.id&&(r.id=t.id),a.length>0&&s.each(a,function(e){r["filter["+e.field+"]"]=e.term}),n.length>0&&s.each(n,function(e){r["sorting["+e.field+"]"]=e.direction}),("site"===l?o.query:"user"===l?o.queryUserEvents:"organization"===l?o.queryOrganizationEvents:o.query)(r)}var d=t.ctrl={},u=d.maxRows=20;d.events=t.events,d.totalItems=Number(),d.page=t.page||1,d.count=u,d.filters=[],d.sorting=[],d.isFiltered=d.filters.length>0,t.$watch("ctrl.totalItems",function(){d.totalPages=Math.ceil(d.totalItems/u)}),d.gridOptions={enablePaginationControls:!1,useExternalFiltering:!0,useExternalSorting:!0,useExternalPaging:!0,paginationPageSizes:[u],paginationPageSize:u,minRowsToShow:u-1,enableHorizontalScrollbar:a.scrollbars.NEVER,enableVerticalScrollbar:a.scrollbars.NEVER,enableFiltering:!1,enableColumnMenus:!1,enableSorting:!0,enableRowSelection:!0,enableRowHeaderSelection:!1,multiSelect:!1,modifierKeysToMultiSelect:!1,noUnselect:!0,columnDefs:[{name:"user",displayName:"User",type:"string",enableFiltering:!0,allowCellFocus:!1,enableSorting:!1,width:"15%",cellTemplate:'<div class="ui-grid-cell-contents"><user-block user="row.entity[col.field]"</div>',filter:{condition:a.filter.CONTAINS}},{name:"organization",displayName:"Organization",type:"string",enableFiltering:!0,allowCellFocus:!1,enableSorting:!1,width:"20%",cellTemplate:"app/views/activity/directives/activeOrgCell.tpl.html",filter:{condition:a.filter.CONTAINS}},{name:"role",field:"user_role",displayName:"Role",enableFiltering:!0,allowCellFocus:!1,enableSorting:!1,type:"string",width:"6%",filter:{condition:a.filter.CONTAINS}},{name:"event_type",displayName:"Event Type",enableFiltering:!0,allowCellFocus:!1,enableSorting:!1,type:"string",width:"15%",cellTemplate:'<div class="ui-grid-cell-contents">{{row.entity[col.field]}}<span ng-if="row.entity.unlinkable === true" style="color: #999;" class="small"> (unlinkable)</span></div>',filter:{condition:a.filter.CONTAINS}},{name:"gene",field:"state_params.gene.name",displayName:"Gene",type:"string",allowCellFocus:!1,enableFiltering:!1,enableSorting:!1,width:"8%",filter:{condition:a.filter.CONTAINS}},{name:"variant",field:"state_params.variant.name",displayName:"Variant",type:"string",width:"15%",allowCellFocus:!1,enableFiltering:!1,enableSorting:!1,filter:{condition:a.filter.CONTAINS}},{name:"entity_id",displayName:"Entity ID",type:"string",allowCellFocus:!1,enableFiltering:!1,enableSorting:!1,cellTemplate:"app/views/activity/directives/entityIdCell.tpl.html",filter:{condition:a.filter.CONTAINS}},{name:"entity_id_tooltip",type:"string",allowCellFocus:!1,enableFiltering:!1,enableSorting:!1,visible:!1},{name:"timestamp",field:"timestamp",displayName:"Timestamp",type:"date",sort:{direction:a.DESC},allowCellFocus:!1,enableFiltering:!1,enableSorting:!0,cellTemplate:'<div class="ui-grid-cell-contents"><span ng-bind="row.entity[col.field]|timeAgo"></span></div>',filter:{condition:a.filter.CONTAINS}}]},d.gridOptions.onRegisterApi=function(a){d.gridApi=a,d.pageChanged=function(){e.info("page changed: "+d.page),n.search("page",d.page),l()},a.core.on.filterChanged(t,function(){e.info("filter changed.");var t=s.filter(this.grid.columns,function(e){return s.has(e.filter,"term")&&!s.isEmpty(e.filter.term)&&s.isString(e.filter.term)});t.length>0?d.filters=s.map(t,function(e){return{field:e.field,term:e.filter.term}}):d.filters=[],d.page=1,l()}),a.core.on.sortChanged(t,function(t,i){e.info("sort changed."),i.length>0?d.sorting=s.map(i,function(e){return{field:e.field,direction:e.sort.direction}}):d.sorting=[],l()}),a.selection.on.rowSelectionChanged(t,function(e){var t=e.entity,n={assertions:"events.assertions",genes:"events.genes",variants:"events.genes.summary.variants",variantgroups:"events.genes.summary.variantGroups",evidenceitems:"events.genes.summary.variants.summary.evidence",sources:"sources"};if("suggestedchanges"===t.subject_type){var a,o=t.state_params.suggested_change.subject_type;"evidenceitems"===o?a="events.genes.summary.variants.summary.evidence":"variantgroups"===o?a="events.genes.summary.variantGroups":"variants"===o?a="events.genes.summary.variants":"genes"===o&&(a="events.genes"),n.suggestedchanges=a}var r={commented:".talk.comments",submitted:".summary",accepted:".summary","assertion submitted":".summary","assertion accepted":".summary","assertion rejected":".summary",rejected:".summary",reverted:".summary",flagged:".summary","flag resolved":".summary","publication suggested":".summary","change suggested":".talk.revisions.list.summary","change accepted":".talk.revisions.list.summary","change rejected":".talk.revisions.list.summary"};"suggestedchanges"===t.subject_type&&(r.commented=".talk.revisions.list.summary"),"sources"===t.subject_type&&(r.commented=".summary");var l={};s.each(t.state_params,function(e,t){var i;i="suggested_change"===t?"revisionId":"evidence_item"===t?"evidenceId":"variant_group"===t?"variantGroupId":"source"===t?"sourceId":t+"Id",l[i]=e.id}),!1===t.unlinkable&&i.go(n[t.subject_type]+r[t.event_type],l)})},t.$watchCollection(function(){return o.data.collection},function(e){d.gridOptions.data=r(e)}),l()}t.$inject=["$log","$scope","$state","$location","uiGridConstants","_","Events"],angular.module("civic.activity").directive("activityGrid",e).controller("ActivityGridController",t)}(),function(){"use strict";function e(e){var t=e.vm={};t.fields=e.$parent.fields,t.suggestedSearch={},t.setSearch=function(t){e.$broadcast("setSearch",t)},t.suggestedSearches={assertions:[{name:"Predictive EGFR Assertions",tooltip:"Predictive Assertions involving the gene EGFR",search:{operator:"AND",queries:[{field:"gene_name",condition:{name:"contains",parameters:["EGFR"]}},{field:"assertion_type",condition:{name:"is_equal_to",parameters:["Predictive"]}}]}},{name:"Crizotinib Assertions",tooltip:"Assertions involving the drug Crizotinib",search:{operator:"AND",queries:[{field:"drug_name",condition:{name:"contains",parameters:["Crizotinib"]}}]}}],evidence:[{name:"Pediatric Cancers",tooltip:"",search:{operator:"OR",queries:[{field:"disease_name",condition:{name:"contains",parameters:["pediatric"]}},{field:"disease_name",condition:{name:"contains",parameters:["childhood"]}},{field:"disease_name",condition:{name:"contains",parameters:["infantile"]}},{field:"disease_name",condition:{name:"contains",parameters:["juvenile"]}},{field:"disease_name",condition:{name:"contains",parameters:["teenage"]}}],entity:"evidence_items"}},{name:"High Quality ALK Evidence",tooltip:"Evidence pertaining to ALK variants with high Evidence Levels and Ratings",search:{operator:"AND",queries:[{field:"gene_name",condition:{name:"contains",parameters:["ALK"]}},{field:"rating",condition:{name:"is_greater_than_or_equal_to",parameters:[4]}},{field:"evidence_level",condition:{name:"is_above",parameters:["C"]}}]}},{name:"High Quality Predictive Evidence",tooltip:"Predictive Evidence with high Evidence Levels and Ratings",search:{operator:"AND",queries:[{field:"evidence_type",condition:{name:"is_equal_to",parameters:["Predictive"]}},{field:"evidence_level",condition:{name:"is_above",parameters:["B"]}},{field:"rating",condition:{name:"is_greater_than_or_equal_to",parameters:[4]}}]}},{name:"High Quality Drug Predictions",tooltip:"Highly rated drug predictive evidence indicating successful outcomes",search:{operator:"AND",queries:[{field:"evidence_type",condition:{name:"is_equal_to",parameters:["Predictive"]}},{field:"evidence_direction",condition:{name:"is_equal_to",parameters:["Supports"]}},{field:"evidence_level",condition:{name:"is_above",parameters:["C"]}},{field:"rating",condition:{name:"is_greater_than_or_equal_to",parameters:[3]}}],entity:"evidence_items",save:!0}},{name:"Alectinib Evidence",tooltip:"Evidence associated with the drug Alectinib",search:{operator:"AND",queries:[{field:"drug_name",condition:{name:"contains",parameters:["Alectinib"]}}],entity:"evidence_items",save:!0}}],genes:[{name:"Related to Leukemia",tooltip:'Genes mentioning "leukemia" in their descriptions',search:{operator:"AND",queries:[{field:"description",condition:{name:"contains",parameters:["leukemia"]}}]}}],variants:[{name:"CHR1 Chromosome is 2",tooltip:"Variants with a primary chromosome of 2",search:{operator:"AND",queries:[{field:"chromosome",condition:{name:"is_equal_to",parameters:["2"]}}]}},{name:"CHR1 Start between 16 and 60K",tooltip:"Variants with a variant starting between 16 and 60K in its primary chromosome",search:{operator:"AND",queries:[{field:"start",condition:{name:"is_in_the_range",parameters:["16000000","60000000"]}}]}},{name:"Variant type contains frameshift",tooltip:"Variants with a variant type that contains the world frameshift",search:{operator:"AND",queries:[{field:"variant_types",condition:{name:"contains",parameters:["frameshift"]}}]}}],sources:[{name:'Name contains "New England"',tooltip:"Sources likely from the New England Journal of Medicine",search:{operator:"AND",queries:[{field:"journal",condition:{name:"contains",parameters:["New England"]}}]}},{name:"Publication Year between 2014 and 2016",tooltip:"Source publication year between 2014 and 2016",search:{operator:"AND",queries:[{field:"publication_year",condition:{name:"is_in_the_range",parameters:["2014","2016"]}}]}}],suggested_changes:[]}}e.$inject=["$scope"],angular.module("civic.search").controller("SearchController",e)}(),function(){"use strict";function e(e,t){e.state("search",{abstract:!0,url:"/search",resolve:{acmgCodes:["Assertions",function(e){return e.queryAcmgCodes()}],organizations:["Organizations",function(e){return e.query().then(function(e){return e.result})}]},controller:"SearchViewController",templateUrl:"app/views/search/search.tpl.html"}).state("search.evidence",{url:"/evidence/:token",reloadOnSearch:!1,controller:"SearchController",templateUrl:"app/views/search/templates/searchEvidence.tpl.html",data:{titleExp:'"Search Evidence"',navMode:"sub"}}).state("search.assertions",{url:"/assertions/:token",reloadOnSearch:!1,controller:"SearchController",templateUrl:"app/views/search/templates/searchAssertions.tpl.html",data:{titleExp:'"Search Assertions"',navMode:"sub"}}).state("search.genes",{url:"/genes/:token",reloadOnSearch:!1,controller:"SearchController",templateUrl:"app/views/search/templates/searchGenes.tpl.html",data:{titleExp:'"Search Genes"',navMode:"sub"}}).state("search.suggested_changes",{url:"/suggested_changes/:token",reloadOnSearch:!1,controller:"SearchController",templateUrl:"app/views/search/templates/searchSuggestedChanges.tpl.html",data:{titleExp:'"Search Suggested Changes"',navMode:"sub"}}).state("search.variants",{url:"/variants/:token",reloadOnSearch:!1,controller:"SearchController",templateUrl:"app/views/search/templates/searchVariants.tpl.html",data:{titleExp:'"Search Variants"',navMode:"sub"}}).state("search.sources",{url:"/sources/:token",reloadOnSearch:!1,controller:"SearchController",templateUrl:"app/views/search/templates/searchSources.tpl.html",data:{titleExp:'"Search Sources"',navMode:"sub"}}).state("search.variantGroups",{url:"/variantGroups/:token",reloadOnSearch:!1,controller:"SearchController",templateUrl:"app/views/search/templates/searchVariantGroups.tpl.html",data:{titleExp:'"Search Variant Groups"',navMode:"sub"}}),t.when("/search","/search/evidence/:token")}function t(e,t,i,n,a,s,o,r,l,c,d,u){e.fields={},e.fields.evidence_items=s.getFields(n),e.fields.genes=l.getFields(),e.fields.variants=o.getFields(),e.fields.variantGroups=d.getFields(),e.fields.sources=c.getFields(),e.fields.suggested_changes=u.getFields(),e.fields.assertions=r.getFields(i,n),e.$watch(function(){return t.current.name},function(t){e.state=t})}e.$inject=["$stateProvider","$urlRouterProvider"],t.$inject=["$scope","$state","acmgCodes","organizations","ConfigService","EvidenceItemFieldConfig","VariantFieldConfig","AssertionFieldConfig","GeneFieldConfig","SourceFieldConfig","VariantGroupFieldConfig","SuggestedChangeFieldConfig"],angular.module("civic.search").controller("SearchViewController",t).config(e)}(),function(){"use strict";angular.module("civic.search").factory("AssertionFieldConfig",["_","ConfigService","Diseases",function(e,t,i){return{getFields:function(n,a){var s=t.assertionAttributeDescriptions.ampLevels,o=t.optionMethods.make_options,r=e.chain(n).map(function(e){return{value:e.code,name:e.code}}).sortBy("name").unshift({value:null,name:"Please choose an ACMG/AMP Code"}).value(),l=e.chain(a).map(function(t){var i=t.name+(e.isUndefined(t.parent.name)?"":" at "+t.parent.name);return{value:t.name,name:i}}).sortBy("name").unshift({value:null,name:"Please choose an Organization"}).value();return[{type:"queryRow",key:"queries",templateOptions:{rowFields:[{key:"field",type:"queryBuilderSelect",templateOptions:{label:"",required:!0,options:[{value:"",name:"Please select a field"},{value:"acmg_code",name:"ACMG/AMP Code"},{value:"amp_level",name:"AMP/ASCO/CAP Category"},{value:"description",name:"Assertion Description"},{value:"assertion_direction",name:"Assertion Direction"},{value:"id",name:"Assertion ID"},{value:"summary",name:"Assertion Summary"},{value:"assertion_type",name:"Assertion Type"},{value:"clinical_significance",name:"Clinical Significance"},{value:"disease_doid",name:"Disease DOID"},{value:"disease_name",name:"Disease Name"},{value:"interaction_type",name:"Drug Interaction Type"},{value:"drug_name",name:"Drug Name"},{value:"drug_ncit_id",name:"Drug NCIt ID"},{value:"flagged",name:"Flagged"},{value:"gene_alias",name:"Gene Entrez Alias"},{value:"gene_name",name:"Gene Entrez Name"},{value:"phenotype_hpo_class",name:"Phenotype HPO Class"},{value:"phenotype_hpo_id",name:"Phenotype HPO ID"},{value:"status",name:"Status"},{value:"submitter",name:"Submitter Display Name"},{value:"submitter_id",name:"Submitter ID"},{value:"submitter_organization",name:"Submitter Organization"},{value:"suggested_changes_count",name:"Suggested Revisions"},{value:"variant_alias",name:"Variant Alias"},{value:"variant_name",name:"Variant Name"},{value:"variant_origin",name:"Variant Origin"}],onChange:function(e,t,i){i.model.condition={name:void 0,parameters:[]}}}}],conditionFields:{variant_origin:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_not_equal_to",name:"is not"}]}},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"Somatic Mutation"},templateOptions:{label:"",required:!0,options:[{value:"Somatic",name:"Somatic"},{value:"Rare Germline",name:"Rare Germline"},{value:"Common Germline",name:"Common Germline"},{value:"Unknown",name:"Unknown"},{value:"N/A",name:"N/A"}]}}],amp_level:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_not_equal_to",name:"is not"}]}},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:null},templateOptions:{label:"",required:!0,options:[{value:null,label:"Please select an AMP/ASCO/CAP Category"}].concat(o(s)),valueProp:"value",labelProp:"label"}}],acmg_code:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"is_not",name:"is not"},{value:"is_empty",name:"is empty"}]}},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:null},hideExpression:'model.name =="is_empty" || model.name == "is_not_empty"',templateOptions:{label:"",required:!0,options:r}}],description:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"},{value:"is_empty",name:"is empty"}],onChange:function(t,i,n){n.model.name.match(/empty/)&&e.pullAt(n.model.parameters,0)}}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name === "is_empty"',templateOptions:{label:"",required:!0}}],summary:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"},{value:"is_empty",name:"is empty"}]}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name === "is_empty"',templateOptions:{label:"",required:!0}}],disease_name:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"},{value:"is_empty",name:"is empty"}]}},{key:"parameters[0]",type:"typeahead",className:"inline-field",hideExpression:'model.name === "is_empty"',templateOptions:{label:"",required:!0,typeahead:"item.name as item.name for item in to.data.typeaheadSearch($viewValue)",editable:!0,templateUrl:"components/forms/fieldTypes/diseaseTypeahead.tpl.html",data:{typeaheadSearch:function(t){return i.beginsWith(t).then(function(t){return e.map(t,function(e){return e.aliases.length>0?e.alias_list=e.aliases.join(", "):e.alias_list="--",e})})}}}}],disease_doid:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-small",data:{defaultValue:"is"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"is_not",name:"is not"},{value:"is_empty",name:"is empty"}]}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name === "is_empty"',templateOptions:{label:"",required:!0}}],drug_name:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],drug_ncit_id:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-small",data:{defaultValue:"is"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"is_not",name:"is not"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],interaction_type:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_not_equal_to",name:"is not"}]}},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"none"},templateOptions:{label:"",required:!0,options:[{value:"none",name:"None"},{value:"Combination",name:"Combination"},{value:"Sequential",name:"Sequential"},{value:"Substitutes",name:"Substitutes"}]}}],clinical_significance:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_not_equal_to",name:"is not"}]}},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"Sensitivity/Response"},templateOptions:{label:"",required:!0,options:[{value:"Sensitivity/Response",name:"Sensitivity/Response"},{value:"Resistance",name:"Resistance"},{value:"Adverse Response",name:"Adverse Response"},{value:"Reduced Sensitivity",name:"Reduced Sensitivity"},{value:"Positive",name:"Positive"},{value:"Negative",name:"Negative"},{value:"Better Outcome",name:"Better Outcome"},{value:"Poor Outcome",name:"Poor Outcome"},{value:"Pathogenic",name:"Pathogenic"},{value:"Likely Pathogenic",name:"Likely Pathogenic"},{value:"Benign",name:"Benign"},{value:"Likely Benign",name:"Likely Benign"},{value:"Uncertain Significance",name:"Uncertain Significance"},{value:"Gain of Function",name:"Gain of Function"},{value:"Loss of Function",name:"Loss of Function"},{value:"Unaltered Function",name:"Unaltered Function"},{value:"Neomorphic",name:"Neomorphic"},{value:"Dominant Negative",name:"Dominant Negative"},{value:"Unknown",name:"Unknown"},{value:"N/A",name:"N/A"}]}}],assertion_type:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_not_equal_to",name:"is not"}]}},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"Predictive"},templateOptions:{label:"",required:!0,options:[{value:"Predictive",name:"Predictive"},{value:"Prognostic",name:"Prognostic"},{value:"Diagnostic",name:"Diagnostic"},{value:"Predisposing",name:"Predisposing"}]}}],assertion_direction:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_not_equal_to",name:"is not"}]}},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"Supports"},templateOptions:{label:"",required:!0,options:[{value:"Supports",name:"Supports"},{value:"Does Not Support",name:"Does Not Support"}]}}],status:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-small",data:{defaultValue:"is"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"is_not",name:"is not"}]}},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"submitted"},templateOptions:{label:"",required:!0,options:[{value:"submitted",name:"Submitted"},{value:"accepted",name:"Accepted"},{value:"rejected",name:"Rejected"}]}}],phenotype_hpo_class:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],phenotype_hpo_id:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-small",data:{defaultValue:"is"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"is_not",name:"is not"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],suggested_changes_count:[{template:"with status",className:"inline-field"},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"new"},templateOptions:{required:!0,label:"",options:[{value:"new",name:"new"},{value:"applied",name:"applied"},{value:"rejected",name:"rejected"}]}},{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_greater_than_or_equal_to"},templateOptions:{required:!0,label:"",options:[{value:"is_greater_than_or_equal_to",name:"is greater than or equal to"},{value:"is_greater_than",name:"is greater than"},{value:"is_less_than",name:"is less than"},{value:"is_less_than_or_equal_to",name:"is less than or equal to"},{value:"is_equal_to",name:"is equal to"},{value:"is_in_the_range",name:"is in the range"}],onChange:function(t,i,n){e.pullAt(n.model.parameters,1,2)}}},{key:"parameters[1]",type:"input",className:"inline-field inline-field-xs",templateOptions:{label:"",required:!0}},{template:"to",className:"inline-field",hideExpression:'model.name.length > 0 && model.name !== "is_in_the_range"'},{key:"parameters[2]",type:"input",className:"inline-field inline-field-xs",hideExpression:'model.name.length > 0 && model.name !== "is_in_the_range"',templateOptions:{label:"",required:!0}}],id:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_equal_to"},templateOptions:{required:!0,label:"",options:[{value:"is_greater_than_or_equal_to",name:"is greater than or equal to"},{value:"is_greater_than",name:"is greater than"},{value:"is_less_than",name:"is less than"},{value:"is_less_than_or_equal_to",name:"is less than or equal to"},{value:"is_equal_to",name:"is equal to"},{value:"is_in_the_range",name:"is in the range"}],onChange:function(t,i,n){e.pullAt(n.model.parameters,1,2)}}},{key:"parameters[0]",type:"input",className:"inline-field inline-field-sm",templateOptions:{size:8,label:"",required:!0}},{template:"to",className:"inline-field",hideExpression:'model.name.length > 0 && model.name !== "is_in_the_range"'},{key:"parameters[1]",type:"input",className:"inline-field inline-field-xs",hideExpression:'model.name.length > 0 && model.name !== "is_in_the_range"',templateOptions:{label:"",required:!0}}],flagged:[{template:"Assertion",className:"inline-field"},{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is_true"},templateOptions:{label:"",required:!0,options:[{value:"is_true",name:"is"},{value:"is_false",name:"is not"}]}},{template:"flagged",className:"inline-field"}],gene_alias:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],gene_name:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],variant_name:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],variant_alias:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"},{value:"is_empty",name:"is empty"}]}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name === "is_empty"',templateOptions:{label:"",required:!0}}],submitter:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"contains",name:"contains"},{value:"does_not_contain",name:"does not contain"},{value:"begins_with",name:"begins with"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],submitter_id:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_not_equal_to",name:"is not"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],submitter_organization:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_not_equal_to",name:"is not"}]}},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:null},templateOptions:{label:"",required:!0,options:l}}]}}}]}}}])}(),function(){"use strict";angular.module("civic.search").factory("EvidenceItemFieldConfig",["_","Diseases",function(e,t){return{getFields:function(i){var n=e.chain(i).map(function(t){var i=t.name+(e.isUndefined(t.parent.name)?"":" at "+t.parent.name);return{value:t.name,name:i}}).sortBy("name").unshift({value:null,name:"Please choose an Organization"}).value();return[{type:"queryRow",key:"queries",templateOptions:{rowFields:[{key:"field",type:"queryBuilderSelect",templateOptions:{label:"",required:!0,options:[{value:"",name:"Please select a field"},{value:"asco_id",name:"ASCO ID"},{value:"assertion_count",name:"Assertion"},{value:"clinical_significance",name:"Clinical Significance"},{value:"clinical_trial_id",name:"Clinical Trial NCT ID"},{value:"disease_doid",name:"Disease DOID"},{value:"disease_name",name:"Disease Name"},{value:"interaction_type",name:"Drug Interaction Type"},{value:"drug_ncit_id",name:"Drug NCIt ID"},{value:"drug_name",name:"Drug Name"},{value:"evidence_direction",name:"Evidence Direction"},{value:"id",name:"Evidence ID"},{value:"evidence_level",name:"Evidence Level"},{value:"evidence_type",name:"Evidence Type"},{value:"description",name:"Evidence Statement"},{value:"flagged",name:"Flagged"},{value:"gene_alias",name:"Gene Entrez Alias"},{value:"gene_name",name:"Gene Entrez Name"},{value:"phenotype_hpo_class",name:"Phenotype HPO Term"},{value:"phenotype_hpo_id",name:"Phenotype HPO ID"},{value:"publication_year",name:"Publication Year"},{value:"pubmed_id",name:"PubMed ID"},{value:"pmc_id",name:"Pubmed Central ID (PMCID)"},{value:"rating",name:"Rating"},{value:"source_type",name:"Source Type"},{value:"status",name:"Status"},{value:"submitter",name:"Submitter Display Name"},{value:"submitter_id",
name:"Submitter ID"},{value:"submitter_organization",name:"Submitter Organization"},{value:"suggested_changes_count",name:"Suggested Revisions"},{value:"variant_alias",name:"Variant Alias"},{value:"variant_name",name:"Variant Name"},{value:"variant_origin",name:"Variant Origin"}],onChange:function(e,t,i){i.model.condition={name:void 0,parameters:[]}}}}],conditionFields:{asco_id:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"is_not",name:"is not"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],assertion_count:[{template:"Evidence item",className:"inline-field"},{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"is_not",name:"is not"}]}},{template:"associated with an assertion",className:"inline-field"}],clinical_trial_id:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"is_not",name:"is not"},{value:"is_empty",name:"is empty"},{value:"is_not_empty",name:"is not empty"}],onChange:function(t,i,n){n.model.name.match(/empty/)&&e.pullAt(n.model.parameters,0)}}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name =="is_empty" || model.name == "is_not_empty"',templateOptions:{label:"",required:!0}}],pmc_id:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"is_not",name:"is not"},{value:"is_empty",name:"is empty"},{value:"is_not_empty",name:"is not empty"}],onChange:function(t,i,n){n.model.name.match(/empty/)&&e.pullAt(n.model.parameters,0)}}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name =="is_empty" || model.name == "is_not_empty"',templateOptions:{label:"",required:!0}}],pubmed_id:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"is_not",name:"is not"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],rating:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_greater_than_or_equal_to"},templateOptions:{required:!0,label:"",options:[{value:"is_greater_than_or_equal_to",name:"is greater than or equal to"},{value:"is_greater_than",name:"is greater than"},{value:"is_less_than",name:"is less than"},{value:"is_less_than_or_equal_to",name:"is less than or equal to"},{value:"is_equal_to",name:"is equal to"},{value:"is_in_the_range",name:"is in the range"},{value:"is_undefined",name:"is undefined"}],onChange:function(t,i,n){e.pullAt(n.model.parameters,1),"is_undefined"===n.model.name&&e.pullAt(n.model.parameters,0)}}},{key:"parameters[0]",type:"rating",className:"inline-field",hideExpression:'model.name == "is_undefined"',templateOptions:{label:"",required:!0}},{template:"to",className:"inline-field",hideExpression:'model.name != "is_in_the_range"'},{key:"parameters[1]",type:"rating",className:"inline-field",hideExpression:'model.name != "is_in_the_range"',templateOptions:{label:"",required:!0}}],description:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"},{value:"is_empty",name:"is empty"}],onChange:function(t,i,n){n.model.name.match(/empty/)&&e.pullAt(n.model.parameters,0)}}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name === "is_empty"',templateOptions:{label:"",required:!0}}],flagged:[{template:"Evidence item",className:"inline-field"},{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is_true"},templateOptions:{label:"",required:!0,options:[{value:"is_true",name:"is"},{value:"is_false",name:"is not"}]}},{template:"flagged",className:"inline-field"}],disease_name:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"},{value:"is_empty",name:"is empty"}],onChange:function(t,i,n){n.model.name.match(/empty/)&&e.pullAt(n.model.parameters,0)}}},{key:"parameters[0]",type:"typeahead",className:"inline-field",hideExpression:'model.name === "is_empty"',templateOptions:{label:"",required:!0,typeahead:"item.name as item.name for item in to.data.typeaheadSearch($viewValue)",editable:!0,templateUrl:"components/forms/fieldTypes/diseaseTypeahead.tpl.html",data:{typeaheadSearch:function(i){return t.beginsWith(i).then(function(t){return e.map(t,function(e){return e.aliases.length>0?e.alias_list=e.aliases.join(", "):e.alias_list="--",e})})}}}}],disease_doid:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-small",data:{defaultValue:"is"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"is_not",name:"is not"},{value:"is_empty",name:"is empty"}],onChange:function(t,i,n){n.model.name.match(/empty/)&&e.pullAt(n.model.parameters,0)}}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name === "is_empty"',templateOptions:{label:"",required:!0}}],drug_name:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],drug_ncit_id:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-small",data:{defaultValue:"is"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"is_not",name:"is not"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],interaction_type:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_not_equal_to",name:"is not"}]}},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"none"},templateOptions:{label:"",required:!0,options:[{value:"none",name:"None"},{value:"Combination",name:"Combination"},{value:"Sequential",name:"Sequential"},{value:"Substitutes",name:"Substitutes"}]}}],clinical_significance:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_not_equal_to",name:"is not"}]}},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"Sensitivity/Response"},templateOptions:{label:"",required:!0,options:[{value:"Sensitivity/Response",name:"Sensitivity/Response"},{value:"Resistance",name:"Resistance"},{value:"Adverse Response",name:"Adverse Response"},{value:"Reduced Sensitivity",name:"Reduced Sensitivity"},{value:"Positive",name:"Positive"},{value:"Negative",name:"Negative"},{value:"Better Outcome",name:"Better Outcome"},{value:"Poor Outcome",name:"Poor Outcome"},{value:"Pathogenic",name:"Pathogenic"},{value:"Likely Pathogenic",name:"Likely Pathogenic"},{value:"Benign",name:"Benign"},{value:"Likely Benign",name:"Likely Benign"},{value:"Uncertain Significance",name:"Uncertain Significance"},{value:"Gain of Function",name:"Gain of Function"},{value:"Loss of Function",name:"Loss of Function"},{value:"Unaltered Function",name:"Unaltered Function"},{value:"Neomorphic",name:"Neomorphic"},{value:"Dominant Negative",name:"Dominant Negative"},{value:"Unknown",name:"Unknown"},{value:"N/A",name:"N/A"}]}}],evidence_type:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_not_equal_to",name:"is not"}]}},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"Predictive"},templateOptions:{label:"",required:!0,options:[{value:"Predictive",name:"Predictive"},{value:"Prognostic",name:"Prognostic"},{value:"Diagnostic",name:"Diagnostic"},{value:"Predisposing",name:"Predisposing"},{value:"Oncogenic",name:"Oncogenic"},{value:"Functional",name:"Functional"}]}}],evidence_level:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_above"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_above",name:"is above"},{value:"is_below",name:"is below"}]}},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"C"},templateOptions:{label:"",required:!0,options:[{value:"A",name:"A - Validated"},{value:"B",name:"B - Clinical"},{value:"C",name:"C - Case Study"},{value:"D",name:"D - Preclinical"},{value:"E",name:"E - Inferential"}]}}],evidence_direction:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_not_equal_to",name:"is not"}]}},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"Supports"},templateOptions:{label:"",required:!0,options:[{value:"Supports",name:"Supports"},{value:"Does Not Support",name:"Does Not Support"},{value:"N/A",name:"N/A"}]}}],source_type:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_not_equal_to",name:"is not"}]}},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"PubMed"},templateOptions:{label:"",required:!0,options:[{value:"ASCO",name:"ASCO"},{value:"PubMed",name:"PubMed"}]}}],status:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-small",data:{defaultValue:"is"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"is_not",name:"is not"}]}},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"submitted"},templateOptions:{label:"",required:!0,options:[{value:"submitted",name:"Submitted"},{value:"accepted",name:"Accepted"},{value:"rejected",name:"Rejected"}]}}],phenotype_hpo_class:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],phenotype_hpo_id:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-small",data:{defaultValue:"is"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"is_not",name:"is not"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],publication_year:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_not_equal_to",name:"is not"},{value:"is_greater_than_or_equal_to",name:"is greater than or equal to"},{value:"is_greater_than",name:"is greater than"},{value:"is_less_than",name:"is less than"},{value:"is_less_than_or_equal_to",name:"is less than or equal to"},{value:"is_in_the_range",name:"is in the range"}],onChange:function(t,i,n){e.pullAt(n.model.parameters,1,2)}}},{key:"parameters[0]",type:"input",className:"inline-field inline-field-small",templateOptions:{label:"",required:!0}},{template:"to",className:"inline-field",hideExpression:'model.name != "is_in_the_range"'},{key:"parameters[1]",type:"input",className:"inline-field inline-field-small",hideExpression:'model.name != "is_in_the_range"',templateOptions:{label:"",required:!0}}],suggested_changes_count:[{template:"with status",className:"inline-field"},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"new"},templateOptions:{required:!0,label:"",options:[{value:"new",name:"new"},{value:"applied",name:"applied"},{value:"rejected",name:"rejected"}]}},{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_greater_than_or_equal_to"},templateOptions:{required:!0,label:"",options:[{value:"is_greater_than_or_equal_to",name:"is greater than or equal to"},{value:"is_greater_than",name:"is greater than"},{value:"is_less_than",name:"is less than"},{value:"is_less_than_or_equal_to",name:"is less than or equal to"},{value:"is_equal_to",name:"is equal to"},{value:"is_in_the_range",name:"is in the range"}],onChange:function(t,i,n){e.pullAt(n.model.parameters,1,2)}}},{key:"parameters[1]",type:"input",className:"inline-field inline-field-xs",templateOptions:{label:"",required:!0}},{template:"to",className:"inline-field",hideExpression:'model.name.length > 0 && model.name !== "is_in_the_range"'},{key:"parameters[2]",type:"input",className:"inline-field inline-field-xs",hideExpression:'model.name.length > 0 && model.name !== "is_in_the_range"',templateOptions:{label:"",required:!0}}],id:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_equal_to"},templateOptions:{required:!0,label:"",options:[{value:"is_greater_than_or_equal_to",name:"is greater than or equal to"},{value:"is_greater_than",name:"is greater than"},{value:"is_less_than",name:"is less than"},{value:"is_less_than_or_equal_to",name:"is less than or equal to"},{value:"is_equal_to",name:"is equal to"},{value:"is_in_the_range",name:"is in the range"}],onChange:function(t,i,n){e.pullAt(n.model.parameters,1,2)}}},{key:"parameters[0]",type:"input",className:"inline-field inline-field-sm",templateOptions:{size:8,label:"",required:!0}},{template:"to",className:"inline-field",hideExpression:'model.name.length > 0 && model.name !== "is_in_the_range"'},{key:"parameters[1]",type:"input",className:"inline-field inline-field-xs",hideExpression:'model.name.length > 0 && model.name !== "is_in_the_range"',templateOptions:{label:"",required:!0}}],gene_name:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],gene_alias:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],variant_name:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],variant_alias:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"},{value:"is_empty",name:"is empty"}]}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name === "is_empty"',templateOptions:{label:"",required:!0}}],variant_origin:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_not_equal_to",name:"is not"}]}},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"Somatic"},templateOptions:{label:"",required:!0,options:[{value:"Somatic",name:"Somatic"},{value:"Rare Germline",name:"Rare Germline"},{value:"Common Germline",name:"Common Germline"},{value:"Unknown",name:"Unknown"},{value:"N/A",name:"N/A"}]}}],submitter:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"contains",name:"contains"},{value:"does_not_contain",name:"does not contain"},{value:"begins_with",name:"begins with"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],submitter_id:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_not_equal_to",name:"is not"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],submitter_organization:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_not_equal_to",name:"is not"}]}},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:null},templateOptions:{label:"",required:!0,options:n}}]}}}]}}}])}(),function(){angular.module("civic.search").factory("GeneFieldConfig",function(){return{getFields:function(){return[{type:"queryRow",key:"queries",templateOptions:{rowFields:[{key:"field",type:"queryBuilderSelect",templateOptions:{label:"",required:!0,options:[{value:"",name:"Please select a field"},{value:"assertion_count",name:"Assertion"},{value:"description",name:"Description"},{value:"aliases",name:"Entrez Aliases"},{value:"entrez_id",name:"Entrez ID"},{value:"name",name:"Entrez Name"},{value:"id",name:"Gene ID"},{value:"suggested_changes_count",name:"Suggested Revisions"}],onChange:function(e,t,i){i.model.condition={name:void 0,parameters:[]}}}}],conditionFields:{assertion_count:[{template:"Gene",className:"inline-field"},{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"is_not",name:"is not"}]}},{template:"associated with an assertion",className:"inline-field"}],entrez_id:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"equals"},{value:"is_not_equal_to",name:"does not equal"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],name:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"},{value:"is_empty",name:"is empty"}]}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name === "is_empty"',templateOptions:{label:"",required:!0}}],aliases:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"},{value:"is_empty",name:"is empty"}]}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name === "is_empty"',templateOptions:{label:"",required:!0}}],description:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"},{value:"is_empty",name:"is empty"}],onChange:function(e,t,i){i.model.name.match(/empty/)&&_.pullAt(i.model.parameters,0)}}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name === "is_empty"',templateOptions:{label:"",required:!0}}],suggested_changes_count:[{template:"with status",className:"inline-field"},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"new"},templateOptions:{required:!0,label:"",options:[{value:"new",name:"new"},{value:"applied",name:"applied"},{value:"rejected",name:"rejected"}]}},{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_greater_than_or_equal_to"},templateOptions:{required:!0,label:"",options:[{value:"is_greater_than_or_equal_to",name:"is greater than or equal to"},{value:"is_greater_than",name:"is greater than"},{value:"is_less_than",name:"is less than"},{value:"is_less_than_or_equal_to",name:"is less than or equal to"},{value:"is_equal_to",name:"is equal to"},{value:"is_in_the_range",name:"is in the range"}],onChange:function(e,t,i){_.pullAt(i.model.parameters,1,2)}}},{key:"parameters[1]",type:"input",className:"inline-field inline-field-xs",templateOptions:{label:"",required:!0}},{template:"to",className:"inline-field",hideExpression:'model.name.length > 0 && model.name !== "is_in_the_range"'},{key:"parameters[2]",type:"input",className:"inline-field inline-field-xs",hideExpression:'model.name.length > 0 && model.name !== "is_in_the_range"',templateOptions:{label:"",required:!0}}],id:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_equal_to"},templateOptions:{required:!0,label:"",options:[{value:"is_greater_than_or_equal_to",name:"is greater than or equal to"},{value:"is_greater_than",name:"is greater than"},{value:"is_less_than",name:"is less than"},{value:"is_less_than_or_equal_to",name:"is less than or equal to"},{value:"is_equal_to",name:"is equal to"},{value:"is_in_the_range",name:"is in the range"}],onChange:function(e,t,i){_.pullAt(i.model.parameters,1,2)}}},{key:"parameters[0]",type:"input",className:"inline-field inline-field-sm",templateOptions:{size:8,label:"",required:!0}},{template:"to",className:"inline-field",hideExpression:'model.name.length > 0 && model.name !== "is_in_the_range"'},{key:"parameters[1]",type:"input",className:"inline-field inline-field-xs",hideExpression:'model.name.length > 0 && model.name !== "is_in_the_range"',templateOptions:{label:"",required:!0}}]}}}]}}})}(),function(){angular.module("civic.search").factory("SourceFieldConfig",function(){return{getFields:function(){return[{type:"queryRow",key:"queries",templateOptions:{rowFields:[{key:"field",type:"queryBuilderSelect",templateOptions:{label:"",required:!0,options:[{value:"",name:"Please select a field"},{value:"abstract",name:"Abstract"},{value:"asco_id",name:"ASCO ID"},{value:"author",name:"Author"},{value:"evidence_item_count",name:"Evidence Items"},{value:"gene",name:"Gene"},{value:"journal",name:"Journal Name"},{value:"nct_id",name:"NCT ID"},{value:"pmc_id",name:"PMC ID"},{value:"publication_year",name:"Publication Year"},{value:"pubmed_id",name:"PubMed ID"},{value:"source_suggestion_count",name:"Source Suggestions"},{value:"id",name:"Source ID"},{value:"source_type",name:"Source Type"},{value:"title",name:"Title"},{value:"variant",name:"Variant"}],onChange:function(e,t,i){i.model.condition={name:void 0,parameters:[]}}}}],conditionFields:{asco_id:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"is_not",name:"is not"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],pubmed_id:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"is_not",name:"is not"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],journal:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"},{value:"is_empty",name:"is empty"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],abstract:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"},{value:"is_empty",name:"is empty"}]}},{key:"parameters[0]",type:"input",hideExpression:'model.name === "is_empty"',className:"inline-field",templateOptions:{label:"",required:!0}}],nct_id:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"is_not",name:"is not"},{value:"is_empty",name:"is empty"},{value:"is_not_empty",name:"is not empty"}]}},{key:"parameters[0]",type:"input",hideExpression:'model.name =="is_empty" || model.name == "is_not_empty"',className:"inline-field",templateOptions:{label:"",required:!0}}],pmc_id:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"is_not",name:"is not"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],author:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],publication_year:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_not_equal_to",name:"is not"},{value:"is_greater_than_or_equal_to",name:"is greater than or equal to"},{value:"is_less_than_or_equal_to",name:"is less than or equal to"},{value:"is_in_the_range",name:"is in the range"}],onChange:function(e,t,i){_.pullAt(i.model.parameters,1,2)}}},{key:"parameters[0]",type:"input",className:"inline-field inline-field-small",templateOptions:{label:"",required:!0}},{template:"to",className:"inline-field",hideExpression:'model.name != "is_in_the_range"'},{key:"parameters[1]",type:"input",className:"inline-field inline-field-small",hideExpression:'model.name != "is_in_the_range"',templateOptions:{label:"",required:!0}}],evidence_item_count:[{template:"with status",className:"inline-field"},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"accepted"},templateOptions:{required:!0,label:"",options:[{value:"accepted",name:"accepted"},{value:"submitted",name:"submitted"},{value:"any",name:"any"},{value:"rejected",name:"rejected"},{value:"not rejected",name:"not rejected"}]}},{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_greater_than_or_equal_to"},templateOptions:{required:!0,label:"",options:[{value:"is_greater_than_or_equal_to",name:"is greater than or equal to"},{value:"is_greater_than",name:"is greater than"},{value:"is_less_than",name:"is less than"},{value:"is_less_than_or_equal_to",name:"is less than or equal to"},{value:"is_equal_to",name:"is equal to"},{value:"is_in_the_range",name:"is in the range"}],onChange:function(e,t,i){_.pullAt(i.model.parameters,1,2)}}},{key:"parameters[1]",type:"input",className:"inline-field inline-field-xs",templateOptions:{label:"",required:!0}},{template:"to",className:"inline-field",hideExpression:'model.name.length > 0 && model.name !== "is_in_the_range"'},{key:"parameters[2]",type:"input",className:"inline-field inline-field-xs",hideExpression:'model.name.length > 0 && model.name !== "is_in_the_range"',templateOptions:{label:"",required:!0}}],source_suggestion_count:[{template:"with status",className:"inline-field"},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"new"},templateOptions:{required:!0,label:"",options:[{value:"new",name:"new"},{value:"rejected",name:"rejected"},{value:"any",name:"any"},{value:"curated",name:"curated"}]}},{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_greater_than_or_equal_to"},templateOptions:{required:!0,label:"",options:[{value:"is_greater_than_or_equal_to",name:"is greater than or equal to"},{value:"is_greater_than",name:"is greater than"},{value:"is_less_than",name:"is less than"},{value:"is_less_than_or_equal_to",name:"is less than or equal to"},{value:"is_equal_to",name:"is equal to"},{value:"is_in_the_range",name:"is in the range"}],onChange:function(e,t,i){_.pullAt(i.model.parameters,1,2)}}},{key:"parameters[1]",type:"input",className:"inline-field inline-field-xs",templateOptions:{label:"",required:!0}},{template:"to",className:"inline-field",hideExpression:'model.name.length > 0 && model.name !== "is_in_the_range"'},{key:"parameters[2]",type:"input",className:"inline-field inline-field-xs",hideExpression:'model.name.length > 0 && model.name !== "is_in_the_range"',templateOptions:{label:"",required:!0}}],source_type:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_not_equal_to",name:"is not"}]}},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"PubMed"},templateOptions:{label:"",required:!0,options:[{value:"ASCO",name:"ASCO"},{value:"PubMed",name:"PubMed"}]}}],title:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"},{value:"is_empty",name:"is empty"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],gene:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}
}],variant:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],id:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_equal_to"},templateOptions:{required:!0,label:"",options:[{value:"is_greater_than_or_equal_to",name:"is greater than or equal to"},{value:"is_greater_than",name:"is greater than"},{value:"is_less_than",name:"is less than"},{value:"is_less_than_or_equal_to",name:"is less than or equal to"},{value:"is_equal_to",name:"is equal to"},{value:"is_in_the_range",name:"is in the range"}],onChange:function(e,t,i){_.pullAt(i.model.parameters,1,2)}}},{key:"parameters[0]",type:"input",className:"inline-field inline-field-sm",templateOptions:{size:8,label:"",required:!0}},{template:"to",className:"inline-field",hideExpression:'model.name.length > 0 && model.name !== "is_in_the_range"'},{key:"parameters[1]",type:"input",className:"inline-field inline-field-xs",hideExpression:'model.name.length > 0 && model.name !== "is_in_the_range"',templateOptions:{label:"",required:!0}}]}}}]}}})}(),function(){angular.module("civic.search").factory("SuggestedChangeFieldConfig",function(){return{getFields:function(){return[{type:"queryRow",key:"queries",templateOptions:{rowFields:[{key:"field",type:"queryBuilderSelect",templateOptions:{label:"",required:!0,options:[{value:"",name:"Please select a field"},{value:"moderated_type",name:"Entity Type"},{value:"moderated_id",name:"Entity ID"},{value:"id",name:"Revision ID"},{value:"status",name:"Status"},{value:"submitter",name:"Submitter Display Name"},{value:"submitter_id",name:"Submitter ID"}],onChange:function(e,t,i){i.model.condition={name:void 0,parameters:[]}}}}],conditionFields:{moderated_type:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_not_equal_to",name:"is not"}]}},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"Assertion"},templateOptions:{label:"",required:!0,options:[{value:"Assertion",name:"Assertion"},{value:"EvidenceItem",name:"Evidence Item"},{value:"Gene",name:"Gene"},{value:"Variant",name:"Variant"},{value:"VariantGroup",name:"Variant Group"}]}}],moderated_id:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_not_equal_to",name:"is not"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],status:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_not_equal_to",name:"is not"}]}},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"new"},templateOptions:{label:"",required:!0,options:[{value:"active",name:"Active"},{value:"applied",name:"Applied"},{value:"closed",name:"Closed"},{value:"new",name:"New"},{value:"superseded",name:"Superseded"}]}}],submitter:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"contains",name:"contains"},{value:"does_not_contain",name:"does not contain"},{value:"begins_with",name:"begins with"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],submitter_id:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_not_equal_to",name:"is not"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],id:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_equal_to"},templateOptions:{required:!0,label:"",options:[{value:"is_greater_than_or_equal_to",name:"is greater than or equal to"},{value:"is_greater_than",name:"is greater than"},{value:"is_less_than",name:"is less than"},{value:"is_less_than_or_equal_to",name:"is less than or equal to"},{value:"is_equal_to",name:"is equal to"},{value:"is_in_the_range",name:"is in the range"}],onChange:function(e,t,i){_.pullAt(i.model.parameters,1,2)}}},{key:"parameters[0]",type:"input",className:"inline-field inline-field-sm",templateOptions:{size:8,label:"",required:!0}},{template:"to",className:"inline-field",hideExpression:'model.name.length > 0 && model.name !== "is_in_the_range"'},{key:"parameters[1]",type:"input",className:"inline-field inline-field-xs",hideExpression:'model.name.length > 0 && model.name !== "is_in_the_range"',templateOptions:{label:"",required:!0}}]}}}]}}})}(),function(){"use strict";angular.module("civic.search").factory("VariantFieldConfig",["ConfigService","Diseases",function(e,t){e.optionMethods.make_options;return{getFields:function(){return[{type:"queryRow",key:"queries",templateOptions:{rowFields:[{key:"field",type:"queryBuilderSelect",templateOptions:{label:"",required:!0,options:[{value:"",name:"Please select a field"},{value:"chromosome",name:"CHR1 Chromosome"},{value:"start",name:"CHR1 Start"},{value:"stop",name:"CHR1 Stop"},{value:"representative_transcript",name:"CHR1 Representative Transcript"},{value:"chromosome2",name:"CHR2 Chromosome"},{value:"start2",name:"CHR2 Start"},{value:"stop2",name:"CHR2 Stop"},{value:"representative_transcript2",name:"CHR2 Representative Transcript"},{value:"allele_registry_id",name:"Allele Registry ID"},{value:"assertion_count",name:"Assertion"},{value:"civic_actionability_score",name:"CIViC Variant Evidence Score"},{value:"description",name:"Description"},{value:"disease_name",name:"Disease Implicated (Name)"},{value:"disease_doid",name:"Disease Implicated (DOID)"},{value:"ensembl_version",name:"Ensembl Version"},{value:"evidence_item_count",name:"Evidence Items"},{value:"gene",name:"Gene Entrez Name"},{value:"hgvs_expressions",name:"HGVS Description(s)"},{value:"name",name:"Name"},{value:"pipeline_type",name:"Pipeline Type"},{value:"reference_bases",name:"Reference Base(s)"},{value:"reference_build",name:"Reference Build"},{value:"suggested_changes_count",name:"Suggested Revisions"},{value:"variant_alias",name:"Variant Alias"},{value:"variant_bases",name:"Variant Base(s)"},{value:"variant_group",name:"Variant Group"},{value:"id",name:"Variant ID"},{value:"variant_types",name:"Variant Type(s)"},{value:"variant_types_soids",name:"Variant Type(s) Sequence Ontology IDs"}],onChange:function(e,t,i){i.model.condition={name:void 0,parameters:[]}}}}],conditionFields:{assertion_count:[{template:"Variant",className:"inline-field"},{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"is_not",name:"is not"}]}},{template:"associated with an assertion",className:"inline-field"}],allele_registry_id:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"contains",name:"contains"},{value:"is_empty",name:"is empty"},{value:"is_not_empty",name:"is not empty"}]}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name =="is_empty" || model.name == "is_not_empty"',templateOptions:{label:"",required:!0}}],civic_actionability_score:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_above"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_above",name:"is above"},{value:"is_below",name:"is below"}]}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}}],name:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"},{value:"is_empty",name:"is empty"}],onChange:function(e,t,i){i.model.name.match(/empty/)&&_.pullAt(i.model.parameters,0)}}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name === "is_empty"',templateOptions:{label:"",required:!0}}],pipeline_type:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_not_equal_to",name:"is not"}]}},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"Proteint-Based"},templateOptions:{label:"",required:!0,options:[{value:"Protein-Based",name:"Protein-Based"},{value:"DNA-Based",name:"DNA-Based"},{value:"RNA-Based",name:"RNA-Based"}]}}],description:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"},{value:"is_empty",name:"is empty"}],onChange:function(e,t,i){i.model.name.match(/empty/)&&_.pullAt(i.model.parameters,0)}}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name === "is_empty"',templateOptions:{label:"",required:!0}}],disease_name:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"is_not",name:"is not"}],onChange:function(e,t,i){i.model.name.match(/empty/)&&_.pullAt(i.model.parameters,0)}}},{key:"parameters[0]",type:"typeahead",className:"inline-field",hideExpression:'model.name === "is_empty"',templateOptions:{label:"",required:!0,typeahead:"item.name as item.name for item in to.data.typeaheadSearch($viewValue)",editable:!0,templateUrl:"components/forms/fieldTypes/diseaseTypeahead.tpl.html",data:{typeaheadSearch:function(e){return t.beginsWith(e).then(function(e){return _.map(e,function(e){return e.aliases.length>0?e.alias_list=e.aliases.join(", "):e.alias_list="--",e})})}}}}],disease_doid:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-small",data:{defaultValue:"is"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"is_not",name:"is not"}],onChange:function(e,t,i){i.model.name.match(/empty/)&&_.pullAt(i.model.parameters,0)}}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name === "is_empty"',templateOptions:{label:"",required:!0}}],variant_types_soids:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"is_not",name:"is not"},{value:"is_empty",name:"is empty"}],onChange:function(e,t,i){i.model.name.match(/empty/)&&_.pullAt(i.model.parameters,0)}}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name === "is_empty"',templateOptions:{label:"",required:!0}}],variant_types:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"contains",name:"contains"},{value:"does_not_contain",name:"does not contain"},{value:"is_empty",name:"is empty"}],onChange:function(e,t,i){i.model.name.match(/empty/)&&_.pullAt(i.model.parameters,0)}}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name === "is_empty"',templateOptions:{label:"",required:!0}}],variant_group:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"is_not",name:"is not"},{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"},{value:"is_undefined",name:"is undefined"}]}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name === "is_undefined"',templateOptions:{label:"",required:!0}}],variant_alias:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"},{value:"is_empty",name:"is empty"}],onChange:function(e,t,i){i.model.name.match(/empty/)&&_.pullAt(i.model.parameters,0)}}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name === "is_empty"',templateOptions:{label:"",required:!0}}],hgvs_expressions:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"is_not",name:"is not"},{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"},{value:"is_undefined",name:"is undefined"}]}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name === "is_undefined"',templateOptions:{label:"",required:!0}}],gene:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is"},templateOptions:{label:"",required:!0,options:[{value:"is",name:"is"},{value:"is_not",name:"is not"},{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"},{value:"is_undefined",name:"is undefined"}]}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name === "is_undefined"',templateOptions:{label:"",required:!0}}],reference_build:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_not_equal_to",name:"is not"}]}},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"GRCh38"},templateOptions:{label:"",required:!0,options:[{value:"GRCh38",name:"GRCh38 (hg20)"},{value:"GRCh37",name:"GRCh37 (hg19)"},{value:"NCBI36",name:"NCBI36 (hg18)"}]}}],ensembl_version:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_not_equal_to",name:"is not"}]}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name === "is_empty"',templateOptions:{label:"",required:!0}}],reference_bases:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"},{value:"is_empty",name:"is empty"}],onChange:function(e,t,i){i.model.name.match(/empty/)&&_.pullAt(i.model.parameters,0)}}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name === "is_empty"',templateOptions:{label:"",required:!0}}],variant_bases:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"},{value:"is_empty",name:"is empty"}]}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name === "is_empty"',templateOptions:{label:"",required:!0}}],chromosome:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is_equal_to"},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_not_equal_to",name:"is not"},{value:"is_empty",name:"is empty"}],onChange:function(e,t,i){i.model.name.match(/empty/)&&_.pullAt(i.model.parameters,0)}}},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:null},hideExpression:'model.name == "is_empty"',templateOptions:{label:"",required:!0,options:[{value:null,name:"Please choose a chromosome"}].concat(e.valid_chromosomes)}}],start:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_greater_than_or_equal_to"},templateOptions:{required:!0,label:"",options:[{value:"is_greater_than_or_equal_to",name:"is greater than or equal to"},{value:"is_greater_than",name:"is greater than"},{value:"is_less_than",name:"is less than"},{value:"is_less_than_or_equal_to",name:"is less than or equal to"},{value:"is_equal_to",name:"is equal to"},{value:"is_in_the_range",name:"is in the range"}],onChange:function(e,t,i){_.pullAt(i.model.parameters,1,2)}}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}},{template:"to",className:"inline-field",hideExpression:'model.name != "is_in_the_range"'},{key:"parameters[1]",type:"input",className:"inline-field",hideExpression:'model.name != "is_in_the_range"',templateOptions:{label:"",required:!0}}],stop:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_greater_than_or_equal_to"},templateOptions:{required:!0,label:"",options:[{value:"is_greater_than_or_equal_to",name:"is greater than or equal to"},{value:"is_greater_than",name:"is greater than"},{value:"is_less_than",name:"is less than"},{value:"is_less_than_or_equal_to",name:"is less than or equal to"},{value:"is_equal_to",name:"is equal to"},{value:"is_in_the_range",name:"is in the range"}],onChange:function(e,t,i){_.pullAt(i.model.parameters,1,2)}}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}},{template:"to",className:"inline-field",hideExpression:'model.name != "is_in_the_range"'},{key:"parameters[1]",type:"input",className:"inline-field",hideExpression:'model.name != "is_in_the_range"',templateOptions:{label:"",required:!0}}],representative_transcript:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"},{value:"is_empty",name:"is empty"}]}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name === "is_empty"',templateOptions:{label:"",required:!0}}],chromosome2:[{key:"name",type:"queryBuilderSelect",className:"inline-field inline-field-md",data:{defaultValue:"is_equal_to"},onChange:function(e,t,i){i.model.name.match(/empty/)&&_.pullAt(i.model.parameters,0)},templateOptions:{label:"",required:!0,options:[{value:"is_equal_to",name:"is"},{value:"is_not_equal_to",name:"is not"},{value:"is_empty",name:"is empty"}]}},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"1"},hideExpression:'model.name =="is_empty" || model.name == "is_not_empty"',templateOptions:{label:"",required:!0,options:e.valid_chromosomes}}],start2:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_greater_than_or_equal_to"},templateOptions:{required:!0,label:"",options:[{value:"is_greater_than_or_equal_to",name:"is greater than or equal to"},{value:"is_greater_than",name:"is greater than"},{value:"is_less_than",name:"is less than"},{value:"is_less_than_or_equal_to",name:"is less than or equal to"},{value:"is_equal_to",name:"is equal to"},{value:"is_in_the_range",name:"is in the range"}],onChange:function(e,t,i){_.pullAt(i.model.parameters,1,2)}}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}},{template:"to",className:"inline-field",hideExpression:'model.name != "is_in_the_range"'},{key:"parameters[1]",type:"input",className:"inline-field",hideExpression:'model.name != "is_in_the_range"',templateOptions:{label:"",required:!0}}],stop2:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_greater_than_or_equal_to"},templateOptions:{required:!0,label:"",options:[{value:"is_greater_than_or_equal_to",name:"is greater than or equal to"},{value:"is_greater_than",name:"is greater than"},{value:"is_less_than",name:"is less than"},{value:"is_less_than_or_equal_to",name:"is less than or equal to"},{value:"is_equal_to",name:"is equal to"},{value:"is_in_the_range",name:"is in the range"}],onChange:function(e,t,i){_.pullAt(i.model.parameters,1,2)}}},{key:"parameters[0]",type:"input",className:"inline-field",templateOptions:{label:"",required:!0}},{template:"to",className:"inline-field",hideExpression:'model.name != "is_in_the_range"'},{key:"parameters[1]",type:"input",className:"inline-field",hideExpression:'model.name != "is_in_the_range"',templateOptions:{label:"",required:!0}}],representative_transcript2:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"},{value:"is_empty",name:"is empty"}]}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name === "is_empty"',templateOptions:{label:"",required:!0}}],suggested_changes_count:[{template:"with status",className:"inline-field"},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"new"},templateOptions:{required:!0,label:"",options:[{value:"new",name:"new"},{value:"applied",name:"applied"},{value:"rejected",name:"rejected"}]}},{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_greater_than_or_equal_to"},templateOptions:{required:!0,label:"",options:[{value:"is_greater_than_or_equal_to",name:"is greater than or equal to"},{value:"is_greater_than",name:"is greater than"},{value:"is_less_than",name:"is less than"},{value:"is_less_than_or_equal_to",name:"is less than or equal to"},{value:"is_equal_to",name:"is equal to"},{value:"is_in_the_range",name:"is in the range"}],onChange:function(e,t,i){_.pullAt(i.model.parameters,1,2)}}},{key:"parameters[1]",type:"input",className:"inline-field inline-field-xs",templateOptions:{label:"",required:!0}},{template:"to",className:"inline-field",hideExpression:'model.name.length > 0 && model.name !== "is_in_the_range"'},{key:"parameters[2]",type:"input",className:"inline-field inline-field-xs",hideExpression:'model.name.length > 0 && model.name !== "is_in_the_range"',templateOptions:{label:"",required:!0}}],evidence_item_count:[{template:"with status",className:"inline-field"},{key:"parameters[0]",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"accepted"},templateOptions:{required:!0,label:"",options:[{value:"accepted",name:"accepted"},{value:"submitted",name:"submitted"},{value:"any",name:"any"},{value:"rejected",name:"rejected"},{value:"not rejected",name:"not rejected"}]}},{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_greater_than_or_equal_to"},templateOptions:{required:!0,label:"",options:[{value:"is_greater_than_or_equal_to",name:"is greater than or equal to"},{value:"is_greater_than",name:"is greater than"},{value:"is_less_than",name:"is less than"},{value:"is_less_than_or_equal_to",name:"is less than or equal to"},{value:"is_equal_to",name:"is equal to"},{value:"is_in_the_range",name:"is in the range"}],onChange:function(e,t,i){_.pullAt(i.model.parameters,1,2)}}},{key:"parameters[1]",type:"input",className:"inline-field inline-field-xs",templateOptions:{label:"",required:!0}},{template:"to",className:"inline-field",hideExpression:'model.name.length > 0 && model.name !== "is_in_the_range"'},{key:"parameters[2]",type:"input",className:"inline-field inline-field-xs",hideExpression:'model.name.length > 0 && model.name !== "is_in_the_range"',templateOptions:{label:"",required:!0}}],id:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_equal_to"},templateOptions:{required:!0,label:"",options:[{value:"is_greater_than_or_equal_to",name:"is greater than or equal to"},{value:"is_greater_than",name:"is greater than"},{value:"is_less_than",name:"is less than"},{value:"is_less_than_or_equal_to",name:"is less than or equal to"},{value:"is_equal_to",name:"is equal to"},{value:"is_in_the_range",name:"is in the range"}],onChange:function(e,t,i){_.pullAt(i.model.parameters,1,2)}}},{key:"parameters[0]",type:"input",className:"inline-field inline-field-sm",templateOptions:{size:8,label:"",required:!0}},{template:"to",className:"inline-field",hideExpression:'model.name.length > 0 && model.name !== "is_in_the_range"'},{key:"parameters[1]",type:"input",className:"inline-field inline-field-xs",hideExpression:'model.name.length > 0 && model.name !== "is_in_the_range"',templateOptions:{label:"",required:!0}}]}}}]}}}])}(),function(){angular.module("civic.search").factory("VariantGroupFieldConfig",function(){return{getFields:function(){return[{type:"queryRow",key:"queries",templateOptions:{rowFields:[{key:"field",type:"queryBuilderSelect",templateOptions:{label:"",required:!0,options:[{value:"",name:"Please select a field"},{value:"name",name:"Name"},{value:"description",name:"Description"},{value:"contains_variant",name:"Contains Variant"},{value:"variant_count",name:"Variant Count"}],onChange:function(e,t,i){i.model.condition={name:void 0,parameters:[]}}}}],conditionFields:{name:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"},{value:"is_empty",name:"is empty"}]}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name === "is_empty"',templateOptions:{label:"",required:!0}}],contains_variant:[{template:"with name",className:"inline-field"},{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"contains",name:"containing"},{value:"begins_with",name:"that begins with"},{value:"does_not_contain",name:"does not begin with"},{value:"is_empty",name:"is empty"}]}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name === "is_empty"',templateOptions:{label:"",required:!0}}],description:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"contains"},templateOptions:{label:"",required:!0,options:[{value:"contains",name:"contains"},{value:"begins_with",name:"begins with"},{value:"does_not_contain",name:"does not contain"},{value:"is_empty",name:"is empty"}],onChange:function(e,t,i){i.model.name.match(/empty/)&&_.pullAt(i.model.parameters,0)}}},{key:"parameters[0]",type:"input",className:"inline-field",hideExpression:'model.name === "is_empty"',templateOptions:{label:"",required:!0}}],variant_count:[{key:"name",type:"queryBuilderSelect",className:"inline-field",data:{defaultValue:"is_greater_than_or_equal_to"},templateOptions:{required:!0,label:"",options:[{value:"is_greater_than_or_equal_to",name:"is greater than or equal to"},{value:"is_greater_than",name:"is greater than"},{value:"is_less_than",name:"is less than"},{value:"is_less_than_or_equal_to",name:"is less than or equal to"},{value:"is_equal_to",name:"is equal to"},{value:"is_in_the_range",name:"is in the range"}],onChange:function(e,t,i){_.pullAt(i.model.parameters,1,2)}}},{key:"parameters[0]",type:"input",className:"inline-field inline-field-xs",templateOptions:{label:"",required:!0}},{template:"to",className:"inline-field",hideExpression:'model.name.length > 0 && model.name !== "is_in_the_range"'},{key:"parameters[1]",type:"input",className:"inline-field inline-field-xs",hideExpression:'model.name.length > 0 && model.name !== "is_in_the_range"',templateOptions:{label:"",required:!0}}]}}}]}}})}(),function(){"use strict";function e(e){var t=1;e.setType({name:"queryBuilderSelect",extends:"select",controller:["$scope","$parse",function(e,t){var i=t(e.options.key),n=i.assign;void 0===i(e.model)&&n(e.model,e.options.data.defaultValue)}]}),e.setType({name:"queryRow",templateUrl:"app/views/search/forms/queryBuilder.type.tpl.html",controller:["$scope",function(e){function i(e){return e=angular.copy(e),a(e),e}function n(){e.model[e.options.key]=e.model[e.options.key]||[];var t=e.model[e.options.key],i={field:"",condition:{name:void 0,parameters:[]}};t.push(i)}function a(e){t++,angular.forEach(e,function(e,i){if(e.fieldGroup)return void a(e.fieldGroup);e.templateOptions&&e.templateOptions.fields&&a(e.templateOptions.fields),e.id=e.id||e.key+"_"+i+"_"+t+s(0,9999)})}function s(e,t){return Math.floor(Math.random()*(t-e))+e}e.formOptions={formState:e.formState},e.addNew=n,e.copyFields=i}]})}e.$inject=["formlyConfigProvider"],angular.module("civic.search").config(e)}(),function(){"use strict";function e(){return{restrict:"E",replace:!0,scope:{entity:"=",fields:"="},controller:"QueryBuilderController",templateUrl:"app/views/search/directives/queryBuilder.tpl.html"}}function t(e,t,i,n,a,s){function o(){n.debug(angular.toJson(r.model)),r.model.entity=l,r.model.save=!0,r.model.gridView=!0,r.formError=!1,s.post(r.model).then(function(e){if(r.searchResults=e.results,r.showGrid=!0,a.has(e,"token")&&!a.isNull(e.token)){var i="evidence_items"===l?"search.evidence":"search."+l;t.transitionTo(i,{token:e.token},{notify:!1})}},function(e){angular.copy([],r.searchResults),r.showGrid=!0,r.formError=e})}var r=e.vm={},l=r.entity=e.entity;r.onSubmit=o,r.options={},r.searchResults=[],r.showGrid=!0,r.model={operator:"",queries:[{}]},function(){a.has(i,"token")&&!a.isEmpty(i.token)?s.get({entity:l,token:i.token}).then(function(e){r.model.operator=e.params.operator,r.model.queries=e.params.queries,r.searchResults=e.results,r.showGrid=!0}):(s.reset(),r.model={operator:"AND",queries:[{field:"",condition:{name:void 0,parameters:[]}}]})}(),e.$watch("vm.model",function(){r.formError=!1},!0),e.$on("setSearch",function(e,t){a.isUndefined(t)||(r.model.operator=t.operator,r.model.queries=t.queries,o())}),r.buttonLabel="Search",r.operatorField=[{key:"operator",type:"queryBuilderSelect",data:{defaultValue:"AND"},templateOptions:{label:"",options:[{value:"AND",name:"all"},{value:"OR",name:"any"}]}}],r.fields=e.fields}t.$inject=["$scope","$state","$stateParams","$log","_","Search"],angular.module("civic.search").directive("queryBuilder",e).controller("QueryBuilderController",t)}(),function(){"use strict";function e(e){e.state("account",{abstract:!0,url:"/account",templateUrl:"app/views/account/account.tpl.html",data:{titleExp:'"My Account"',navMode:"sub"}})}e.$inject=["$stateProvider"],angular.module("civic.account").config(e)}(),function(){"use strict";function e(e,t,i,n){var a=e.vm={};a.isAdmin=t.isAdmin,a.isEditor=t.isEditor,a.user=n.data.user,a.statements=n.data.statements,a.userEdit=angular.copy(a.user),a.userEdit.country_id=null===a.userEdit.country?null:a.userEdit.country.id,a.coiEdit={coi_present:!1,coi_statement:""},a.submitSuccess=!1,a.submitFail=!1,a.submitCoiSuccess=!1,a.submitCoiFail=!1,e.$watch(function(){return n.data.user
},function(e){a.user=e},!0),e.$watchCollection(function(){return n.data.statements},function(e){a.coi_statements=e}),a.userEditFields=[{key:"name",type:"horizontalInputHelp",templateOptions:{label:"Name",minLength:8,value:"vm.userEdit.name",helpText:"Name"}},{key:"username",type:"horizontalInputHelp",templateOptions:{label:"User Name",minLength:8,value:"vm.userEdit.user",helpText:"Username"}},{key:"email",type:"horizontalInputHelp",templateOptions:{label:"Email Address",minLength:5,value:"vm.userEdit.email",helpText:"Email address will not be visible to others or shared and will only be used for sending CIViC notifications, news, and updates."},expressionProperties:{"templateOptions.required":'model.role === "admin" || model.role === "editor"'}},{key:"area_of_expertise",type:"horizontalSelectHelp",templateOptions:{label:"Areas of Expertise",options:[{value:null,label:"Please select an Area of Expertise"},{value:"Patient Advocate",label:"Patient Advocate"},{value:"Clinical Scientist",label:"Clinical Scientist"},{value:"Research Scientist",label:"Research Scientist"}],valueProp:"value",labelProp:"label",value:"vm.userEdit.area_of_expertise",helpText:"Area of Expertise"}},{key:"orcid",type:"horizontalInputHelp",templateOptions:{label:"ORCID",minLength:5,value:"vm.userEdit.orcid",helpText:"Your Open Research and Contributor ID. Please only include the ID."}},{key:"url",type:"horizontalInputHelp",templateOptions:{label:"Personal Website",minLength:5,value:"vm.userEdit.url",helpText:"Your personal website/blog. Please only include the domain and path, omitting the 'https://' protocol part."}},{key:"bio",type:"horizontalTextareaHelp",templateOptions:{label:"Biography",rows:4,value:"vm.userEdit.bio",helpText:"A short bio describing your interests, accomplishments, associations, and/or anything else about yourself you would like to share with the CIViC community."}},{key:"country_id",type:"horizontalSelectHelp",templateOptions:{label:"Country",options:[{value:null,label:"Choose Your Country"},{value:1,label:"Afghanistan"},{value:2,label:"Albania"},{value:3,label:"Algeria"},{value:4,label:"American Samoa"},{value:5,label:"Andorra"},{value:6,label:"Angola"},{value:7,label:"Anguilla"},{value:8,label:"Antigua and Barbuda"},{value:9,label:"Argentina"},{value:10,label:"Armenia"},{value:11,label:"Aruba"},{value:12,label:"Australia"},{value:13,label:"Austria"},{value:14,label:"Azerbaijan"},{value:15,label:"Bahamas"},{value:16,label:"Bahrain"},{value:17,label:"Bangladesh"},{value:18,label:"Barbados"},{value:19,label:"Belarus"},{value:20,label:"Belgium"},{value:21,label:"Belize"},{value:22,label:"Benin"},{value:23,label:"Bermuda"},{value:24,label:"Bhutan"},{value:25,label:"Bolivia"},{value:26,label:"Bosnia and Herzegovina"},{value:27,label:"Botswana"},{value:28,label:"Brazil"},{value:29,label:"Brunei Darussalam"},{value:30,label:"Bulgaria"},{value:31,label:"Burkina Faso"},{value:32,label:"Burundi"},{value:33,label:"Cambodia"},{value:34,label:"Cameroon"},{value:35,label:"Canada"},{value:36,label:"Cape Verde"},{value:37,label:"Cayman Islands"},{value:38,label:"Central African Republic"},{value:39,label:"Chad"},{value:40,label:"Chile"},{value:41,label:"China"},{value:42,label:"Colombia"},{value:43,label:"Comoros"},{value:44,label:"Congo"},{value:45,label:"Congo, the Democratic Republic of the"},{value:46,label:"Cook Islands"},{value:47,label:"Costa Rica"},{value:48,label:"Cote D'Ivoire"},{value:49,label:"Croatia"},{value:50,label:"Cuba"},{value:51,label:"Cyprus"},{value:52,label:"Czech Republic"},{value:53,label:"Denmark"},{value:54,label:"Djibouti"},{value:55,label:"Dominica"},{value:56,label:"Dominican Republic"},{value:57,label:"Ecuador"},{value:58,label:"Egypt"},{value:59,label:"El Salvador"},{value:60,label:"Equatorial Guinea"},{value:61,label:"Eritrea"},{value:62,label:"Estonia"},{value:63,label:"Ethiopia"},{value:64,label:"Falkland Islands (Malvinas)"},{value:65,label:"Faroe Islands"},{value:66,label:"Fiji"},{value:67,label:"Finland"},{value:68,label:"France"},{value:69,label:"French Guiana"},{value:70,label:"French Polynesia"},{value:71,label:"Gabon"},{value:72,label:"Gambia"},{value:73,label:"Georgia"},{value:74,label:"Germany"},{value:75,label:"Ghana"},{value:76,label:"Gibraltar"},{value:77,label:"Greece"},{value:78,label:"Greenland"},{value:79,label:"Grenada"},{value:80,label:"Guadeloupe"},{value:81,label:"Guam"},{value:82,label:"Guatemala"},{value:83,label:"Guinea"},{value:84,label:"Guinea-Bissau"},{value:85,label:"Guyana"},{value:86,label:"Haiti"},{value:87,label:"Holy See (Vatican City State)"},{value:88,label:"Honduras"},{value:89,label:"Hong Kong"},{value:90,label:"Hungary"},{value:91,label:"Iceland"},{value:92,label:"India"},{value:93,label:"Indonesia"},{value:94,label:"Iran, Islamic Republic of"},{value:95,label:"Iraq"},{value:96,label:"Ireland"},{value:97,label:"Israel"},{value:98,label:"Italy"},{value:99,label:"Jamaica"},{value:100,label:"Japan"},{value:101,label:"Jordan"},{value:102,label:"Kazakhstan"},{value:103,label:"Kenya"},{value:104,label:"Kiribati"},{value:105,label:"Korea, Democratic People's Republic of"},{value:106,label:"Korea, Republic of"},{value:107,label:"Kuwait"},{value:108,label:"Kyrgyzstan"},{value:109,label:"Lao People's Democratic Republic"},{value:110,label:"Latvia"},{value:111,label:"Lebanon"},{value:112,label:"Lesotho"},{value:113,label:"Liberia"},{value:114,label:"Libyan Arab Jamahiriya"},{value:115,label:"Liechtenstein"},{value:116,label:"Lithuania"},{value:117,label:"Luxembourg"},{value:118,label:"Macao"},{value:119,label:"Macedonia, the Former Yugoslav Republic of"},{value:120,label:"Madagascar"},{value:121,label:"Malawi"},{value:122,label:"Malaysia"},{value:123,label:"Maldives"},{value:124,label:"Mali"},{value:125,label:"Malta"},{value:126,label:"Marshall Islands"},{value:127,label:"Martinique"},{value:128,label:"Mauritania"},{value:129,label:"Mauritius"},{value:130,label:"Mexico"},{value:131,label:"Micronesia, Federated States of"},{value:132,label:"Moldova, Republic of"},{value:133,label:"Monaco"},{value:134,label:"Mongolia"},{value:135,label:"Montserrat"},{value:136,label:"Morocco"},{value:137,label:"Mozambique"},{value:138,label:"Myanmar"},{value:139,label:"Namibia"},{value:140,label:"Nauru"},{value:141,label:"Nepal"},{value:142,label:"Netherlands"},{value:143,label:"Netherlands Antilles"},{value:144,label:"New Caledonia"},{value:145,label:"New Zealand"},{value:146,label:"Nicaragua"},{value:147,label:"Niger"},{value:148,label:"Nigeria"},{value:149,label:"Niue"},{value:150,label:"Norfolk Island"},{value:151,label:"Northern Mariana Islands"},{value:152,label:"Norway"},{value:153,label:"Oman"},{value:154,label:"Pakistan"},{value:155,label:"Palau"},{value:156,label:"Panama"},{value:157,label:"Papua New Guinea"},{value:158,label:"Paraguay"},{value:159,label:"Peru"},{value:160,label:"Philippines"},{value:161,label:"Pitcairn"},{value:162,label:"Poland"},{value:163,label:"Portugal"},{value:164,label:"Puerto Rico"},{value:165,label:"Qatar"},{value:166,label:"Reunion"},{value:167,label:"Romania"},{value:168,label:"Russian Federation"},{value:169,label:"Rwanda"},{value:170,label:"Saint Helena"},{value:171,label:"Saint Kitts and Nevis"},{value:172,label:"Saint Lucia"},{value:173,label:"Saint Pierre and Miquelon"},{value:174,label:"Saint Vincent and the Grenadines"},{value:175,label:"Samoa"},{value:176,label:"San Marino"},{value:177,label:"Sao Tome and Principe"},{value:178,label:"Saudi Arabia"},{value:179,label:"Senegal"},{value:180,label:"Seychelles"},{value:181,label:"Sierra Leone"},{value:182,label:"Singapore"},{value:183,label:"Slovakia"},{value:184,label:"Slovenia"},{value:185,label:"Solomon Islands"},{value:186,label:"Somalia"},{value:187,label:"South Africa"},{value:188,label:"Spain"},{value:189,label:"Sri Lanka"},{value:190,label:"Sudan"},{value:191,label:"Suriname"},{value:192,label:"Svalbard and Jan Mayen"},{value:193,label:"Swaziland"},{value:194,label:"Sweden"},{value:195,label:"Switzerland"},{value:196,label:"Syrian Arab Republic"},{value:197,label:"Taiwan, Province of China"},{value:198,label:"Tajikistan"},{value:199,label:"Tanzania, United Republic of"},{value:200,label:"Thailand"},{value:201,label:"Togo"},{value:202,label:"Tokelau"},{value:203,label:"Tonga"},{value:204,label:"Trinidad and Tobago"},{value:205,label:"Tunisia"},{value:206,label:"Turkey"},{value:207,label:"Turkmenistan"},{value:208,label:"Turks and Caicos Islands"},{value:209,label:"Tuvalu"},{value:210,label:"Uganda"},{value:211,label:"Ukraine"},{value:212,label:"United Arab Emirates"},{value:213,label:"United Kingdom"},{value:214,label:"United States"},{value:215,label:"Uruguay"},{value:216,label:"Uzbekistan"},{value:217,label:"Vanuatu"},{value:218,label:"Venezuela"},{value:219,label:"Viet Nam"},{value:220,label:"Virgin Islands, British"},{value:221,label:"Virgin Islands, U.s."},{value:222,label:"Wallis and Futuna"},{value:223,label:"Western Sahara"},{value:224,label:"Yemen"},{value:225,label:"Zambia"},{value:226,label:"Zimbabwe"}],valueProp:"value",labelProp:"label",value:"vm.userEdit.country",helpText:"Please choose your country of residence/study."}},{template:'<h3 class="form-subheader">Social Media</h3>'},{key:"twitter_handle",type:"horizontalInputHelp",templateOptions:{label:"Twitter Handle",minLength:5,value:"vm.userEdit.twitter_handle",helpText:"Your Twitter handle, displayed on your profile page and user cards."}},{key:"facebook_profile",type:"horizontalInputHelp",templateOptions:{label:"Facebook Profile",minLength:5,value:"vm.userEdit.facebook_profile",helpText:"Your Facebook handle, displayed on your profile page and user cards."}},{key:"linkedin_profile",type:"horizontalInputHelp",templateOptions:{label:"LinkedIn Profile",minLength:5,value:"vm.userEdit.linkedin_profile",helpText:"Your LinkedIn username, displayed on your profile page and user cards."}}],a.coiFields=[{key:"coi_present",type:"horizontalRadioHelp",defaultValue:"false",templateOptions:{label:null,options:[{value:!1,name:"I do not have any potential conflicts of interest"},{value:!0,name:"I do have a potential conflict of interest"}],helpText:"Please indicate if you have a conflict of interest in curating CIViC."}},{key:"coi_statement",type:"horizontalTextareaHelp",templateOptions:{label:"COI Statement",rows:4,helpText:"Provide a concise description of any potential or actual conflicts of interest that you may have in curating CIViC."},hideExpression:"!model.coi_present",expressionProperties:{"templateOptions.required":"model.coi_present === true"}}],a.saveProfile=function(e){i.update(e).then(function(){a.submitSuccess=!0,n.get()}).catch(function(){a.submitFail=!0})},a.saveCoiStatement=function(e,t){n.addCoiStatement(e).then(function(){a.submitCoiSuccess=!0,t.resetModel()}).catch(function(){a.submitCoiFail=!0})}}e.$inject=["$scope","Security","Users","CurrentUser"],angular.module("civic.account").controller("AccountProfileController",e)}(),function(){"use strict";function e(e){e.state("account.profile",{url:"/profile",templateUrl:"app/views/account/profile/profile.tpl.html",data:{titleExp:'"Account Profile"',navMode:"sub"},resolve:{CurrentUser:"CurrentUser",user:["CurrentUser",function(e){return e.get()}],statements:["CurrentUser",function(e){return e.getCoiStatements()}]},controller:"AccountProfileController"})}e.$inject=["$stateProvider"],angular.module("civic.account").config(e)}(),function(){"use strict";function e(e){return function(t){return e.isNull(t)||e.isUndefined(t)?void 0:"s"===t.substring(t.length,t.length-1)?t.substring(0,t.length-1):t}}function t(e,t,i,n,a,s,o){function r(){l.unread=s.currentUser.unread_notifications,l.categories=[{name:"all",unread:o.reduce(l.unread,function(e,t){return e+t})}],o.forEach(l.unread,function(e,t){l.categories.push({name:t,unread:e})})}var l=e.vm={};l.categories=[],l.notifications=[],o.defaults(l,{category:n.category,page:Number(n.page),count:Number(n.count)},{category:"all",page:1,count:10}),l.filters={},o.defaults(l.filters,{show_read:o.isString(n.show_read)?"true"===n.show_read:n.show_read,show_unlinkable:o.isString(n.show_unlinkable)?"true"===n.show_unlinkable:n.show_unlinkable,limit:n["filter[limit]"],name:n["filter[name]"]},{show_read:!1,show_unlinkable:!1,limit:"all_time",name:""}),l.countOptions=[10,25,50,100],l.filterFields=[{key:"name",type:"input",templateOptions:{label:"Find User",required:!1},watcher:{listener:function(e,t,i){t!==i&&l.fetch()}}},{key:"limit",type:"select",templateOptions:{label:"Limit To",required:!1,options:[{name:"All time",value:"all_time"},{name:"This week",value:"this_week"},{name:"This month",value:"this_month"},{name:"This year",value:"this_year"}]},watcher:{listener:function(e,t,i){t!==i&&l.fetch()}}},{key:"show_unlinkable",type:"checkbox",templateOptions:{label:"Show Unlinkable",required:!1},watcher:{listener:function(e,t,i){t!==i&&l.fetch()}}},{key:"show_read",type:"checkbox",templateOptions:{label:"Show Read",required:!1},watcher:{listener:function(e,t,i){t!==i&&l.fetch()}}}],l.fetch=function(){var e={page:Number(l.page),count:Number(l.count),category:l.category,show_read:l.filters.show_read,show_unlinkable:l.filters.show_unlinkable};o.isEmpty(l.filters.name)||(e["filter[name]"]=l.filters.name),o.isEmpty(l.filters.limit)||(e["filter[limit]"]=l.filters.limit),a.getFeed(e).then(function(i){var n=i._meta;l.totalItems=Number(n.total_count),l.totalPages=Number(n.total_pages),l.unread=Number(n.unread),l.totalUnread=o.reduce(l.unread,function(e,t){return e+t}),r(),t.search(o.omit(e,["filter[limit]","filter[name]"])),angular.copy(i.records,l.notifications)})},l.fetch(),l.changeCategory=function(e){l.category=e,l.page=1,l.fetch()},l.pageChanged=function(){l.fetch()},l.markAllAsRead=function(){a.markAllAsRead(n).then(function(){l.fetch()})}}e.$inject=["_"],t.$inject=["$scope","$location","$rootScope","$stateParams","CurrentUser","Security","_"],angular.module("civic.account").controller("AccountNotificationsController",t).filter("trimPlural",e)}(),function(){"use strict";function e(e){e.state("account.notifications",{url:"/notifications?category&page&count&show_unlinkable&show_read",templateUrl:"app/views/account/notifications/notifications.tpl.html",data:{titleExp:'"Account Notifications"',navMode:"sub"},reloadOnSearch:!1,controller:"AccountNotificationsController"})}e.$inject=["$stateProvider"],angular.module("civic.account").config(e)}(),function(){"use strict";function e(e,t,i,n){var a=e.ctrl={};a.mode=i,a.page=n}e.$inject=["$scope","$log","mode","page"],angular.module("civic.browse").controller("BrowseController",e)}(),function(){"use strict";function e(e){e.state("browse",{abstract:!0,url:"/browse",templateUrl:"app/views/browse/browse.tpl.html"}).state("browse.variants",{url:"/variants?page",reloadOnSearch:!1,controller:"BrowseController",templateUrl:"app/views/browse/browseViews.tpl.html",data:{titleExp:'"Browse Variants"',navMode:"sub"},resolve:{mode:function(){return"variants"},page:["$stateParams","_",function(e,t){return t.isUndefined(e.page)?1:e.page}]}}).state("browse.genes",{url:"/genes?page",reloadOnSearch:!1,controller:"BrowseController",templateUrl:"app/views/browse/browseViews.tpl.html",data:{titleExp:'"Browse Genes"',navMode:"sub"},resolve:{mode:function(){return"genes"},page:["$stateParams","_",function(e,t){return t.isUndefined(e.page)?1:e.page}]}}).state("browse.variantGroups",{url:"/variantGroups?page",reloadOnSearch:!1,controller:"BrowseController",templateUrl:"app/views/browse/browseViews.tpl.html",data:{titleExp:'"Browse Variant Groups"',navMode:"sub"},resolve:{mode:function(){return"variant_groups"},page:["$stateParams","_",function(e,t){return t.isUndefined(e.page)?1:e.page}]}}).state("browse.sources",{url:"/sources?page",reloadOnSearch:!1,controller:"BrowseController",templateUrl:"app/views/browse/browseViews.tpl.html",data:{titleExp:'"Browse Sources"',navMode:"sub"},resolve:{mode:function(){return"sources"},page:["$stateParams","_",function(e,t){return t.isUndefined(e.page)?1:e.page}]}}).state("browse.evidence",{url:"/evidence?page",reloadOnSearch:!1,controller:"BrowseController",templateUrl:"app/views/browse/browseViews.tpl.html",data:{titleExp:'"Browse Evidence Items"',navMode:"sub"},resolve:{mode:function(){return"evidence_items"},page:["$stateParams","_",function(e,t){return t.isUndefined(e.page)?1:e.page}]}}).state("browse.assertions",{url:"/assertions?page",reloadOnSearch:!1,controller:"BrowseController",templateUrl:"app/views/browse/browseViews.tpl.html",data:{titleExp:'"Browse Assertions"',navMode:"sub"},resolve:{mode:function(){return"assertions"},page:["$stateParams","_",function(e,t){return t.isUndefined(e.page)?1:e.page}]}})}e.$inject=["$stateProvider"],angular.module("civic.browse").config(e)}(),function(){"use strict";function e(e){e.state("events",{abstract:!0,url:"/events",template:'<ui-view id="events-view"></ui-view>',onExit:["$deepStateRedirect",function(e){e.reset()}]})}e.$inject=["$stateProvider"],angular.module("civic.events.genes",["ui.router"]),angular.module("civic.events.assertions",["ui.router"]),angular.module("civic.events.variants",["ui.router"]),angular.module("civic.events.variantGroups",["ui.router"]),angular.module("civic.events.evidence",["ui.router"]),angular.module("civic.events.common",[]),angular.module("civic.events").config(e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{actions:"="},controller:"ActionBlockController",templateUrl:"app/views/events/common/actionBlock.tpl.html"}}function t(){}angular.module("civic.events.common").directive("actionBlock",e).controller("ActionBlockController",t)}(),function(){"use strict";function e(){return{restrict:"A",transclude:!0,scope:{entityViewModel:"=",entityViewRevisions:"=",entityViewOptions:"=",type:"=",name:"="},controller:"EditableFieldController",templateUrl:"app/views/events/common/editableField.tpl.html"}}function t(e,t,i,n){var a=e.ctrl={};a.baseState="",a.stateParams={},n.reloadCurrentUser().then(function(e){a.currentUser=e,a.isEditor=n.isEditor,a.isAdmin=n.isAdmin,a.isAuthenticated=n.isAuthenticated,a.actionOrg=a.currentUser.most_recent_organization}),a.baseState=e.entityViewOptions.state.baseState,a.stateParams=e.entityViewOptions.state.params,a.flags=[],a.hasActiveFlag=!1,a.hasResolvedFlag=!1,a.activeFlag=void 0,a.resolvedCount=void 0,a.entityId=e.entityViewModel.data.item.id,a.showResolved=!1,a.popoverPlacement="GENE"===e.type?"right-top":"right",a.newFlag={entityId:e.entityViewModel.data.item.id,comment:{title:"Flag Comment for "+e.type+" "+e.name,text:""}},e.$watchCollection(function(){return e.entityViewModel.data.flags},function(e){if(!i.isUndefined(e)&&e.length>0){a.flags=i.chain(e).map(function(e){return e.comments=i.sortBy(e.comments,"id"),e.flagComment=e.comments[0],e.resolveComment=e.comments[1],e}).value(),a.resolvedCount=i.chain(e).filter({state:"resolved"}).value().length;var t=a.activeFlag=i.chain(e).filter({state:"open"}).value()[0];i.isUndefined(t)||(a.activeFlagId=t.id),a.hasActiveFlag=i.some(e,{state:"open"}),a.hasResolvedFlag=i.some(e,{state:"resolved"})}}),a.toggleResolved=function(){a.showResolved=!a.showResolved},a.active=t.includes(a.baseState+".edit.*"),e.$on("$stateChangeSuccess",function(){a.active=t.includes(a.baseState+".edit.*")}),a.edit=function(){n.isAuthenticated()&&t.go(a.baseState+".edit.basic",a.stateParams)},a.switchOrg=function(e){a.actionOrg=i.find(a.currentUser.organizations,{id:e})},a.submit=function(t){t.organization=a.actionOrg,e.entityViewModel.submitFlag(t).then(function(){a.newFlag.comment.text="",t.organization.id!=a.currentUser.most_recent_organization.id&&n.reloadCurrentUser()})},a.resolve=function(t){t.flagId=a.activeFlagId,t.organization=a.actionOrg,e.entityViewModel.resolveFlag(t).then(function(){a.showResolved=!0,t.organization.id!=a.currentUser.most_recent_organization.id&&n.reloadCurrentUser()})}}t.$inject=["$scope","$state","_","Security"],angular.module("civic.events.common").controller("EditableFieldController",t).directive("editableField",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{entityId:"=",flag:"=",type:"=",name:"=",actionOrg:"=",switchOrgFn:"=",resolveFn:"="},controller:"EditableFieldFlagController",templateUrl:"app/views/events/common/editableFieldFlag.tpl.html"}}function t(e,t,i,n){var a=e.ctrl={};a.isAdmin=n.isAdmin,a.isEditor=n.isEditor,a.actionOrg=e.actionOrg,a.switchOrgFn=e.switchOrgFn,e.$watch(function(){return n.currentUser},function(e){i.isNull(e)||(a.currentUser=e,a.showCoiNotice=(n.isAdmin()||n.isEditor())&&("missing"===e.conflict_of_interest.coi_valid||"expired"===e.conflict_of_interest.coi_valid))}),a.actions={flagged:{order:0,timestamp:e.flag.flagComment.created_at,user:e.flag.flagging_user}},i.isUndefined(e.flag.resolving_user.id)||(a.actions.resolved={order:1,timestamp:e.flag.resolveComment.created_at,user:e.flag.resolving_user}),a.resolveFlag={entityId:e.entityId,flagId:e.flag.id,comment:{title:"Flag Resolve Comment for "+e.type+" "+e.name,text:""}}}t.$inject=["$scope","$state","_","Security"],angular.module("civic.events.common").controller("EditableFieldFlagController",t).directive("editableFieldFlag",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{commentData:"=",entityModel:"="},controller:"EntityCommentController",templateUrl:"app/views/events/common/entityComment.tpl.html"}}function t(e,t){var i=e.ctrl={};i.security={isAuthenticated:t.isAuthenticated(),isAdmin:t.isAdmin(),isEditor:t.isEditor(),currentUser:t.currentUser},i.comment=e.commentData,i.deleteComment=function(t){e.entityModel.deleteComment(t.id).then(function(){}).catch(function(){}).finally(function(){})}}t.$inject=["$scope","Security"],angular.module("civic.events.common").directive("entityComment",e).controller("EntityCommentController",t)}(),function(){"use strict";function e(){return{restrict:"E",scope:{type:"@",entityModel:"="},controller:"EntityCommentFormController",templateUrl:"app/views/events/common/entityCommentForm.tpl.html"}}function t(e,t,i,n,a,s){var o=e.vm={};o.mode="edit",o.previewLoading=!1,o.previewText="",o.commentMessage="",o.showMarkdownHelp=!1,o.showMacroHelp=!1,o.newComment={title:"",text:""},i.reloadCurrentUser().then(function(e){o.currentUser=e,o.isEditor=i.isEditor(),o.isAdmin=i.isAdmin(),o.isAuthenticated=i.isAuthenticated(),o.newComment.organization=o.currentUser.most_recent_organization}),o.switchMode=function(e){"preview"===e?!s.isUndefined(o.newComment.text)&&o.newComment.text.length>0?(o.commentMessage="",o.mode="preview",o.previewLoading=!0,a.getPreview(o.newComment.text).then(function(e){o.previewText=e.html,o.previewLoading=!1},function(){o.previewLoading=!1,o.commentMessage="Error loading preview."})):o.commentMessage="Please enter Markdown text to preview.":(o.mode="edit",o.previewText="",o.commentMessage="")},o.newCommentFields=[{key:"text",type:"basicComment",templateOptions:{label:"Add Comment:",rows:4,minimum_length:3,value:o.newComment.text,currentUser:o.currentUser,required:!1},validators:{length:{expression:function(e,t,i){var n=e||t;return!s.isUndefined(n)&&n.length>=i.to.minimum_length},message:'"Comment must be at least " + to.minimum_length + " characters long to submit."'}}}],o.switchOrg=function(e){o.newComment.organization=s.find(o.currentUser.organizations,{id:e})},o.submit=function(n,a){n=s.merge(n,t),e.entityModel.submitComment(n).then(function(){a(),o.previewText="",o.text="",o.commentMessage="",o.mode="edit",n.organization.id!=o.currentUser.most_recent_organization.id&&i.reloadCurrentUser()},function(){o.commentMessage="Error submitting comment."})}}function i(e){function t(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(i,n,a){if(n){e.includes(n,":")&&e.includes(n,":")&&(n=n.split(":")[1].length>0?e.drop(n.split(":"),1)[0]:String());var s=a?'<span class="'+a+'">$&</span>':"<strong>$&</strong>";return(""+i).replace(new RegExp(t(n),"gi"),s)}return i}}t.$inject=["$scope","$stateParams","Security","CommentSuggestions","CommentPreview","_"],i.$inject=["_"],angular.module("civic.events.common").directive("entityCommentForm",e).controller("EntityCommentFormController",t).filter("mentioHighlightEntity",i)}(),function(){"use strict";function e(){return{restrict:"E",scope:{entryData:"="},controller:"EntityLogEntryController",templateUrl:"app/views/events/common/entityLogEntry.tpl.html"}}function t(e){var t=e.ctrl={};t.entry=e.entryData,t.user=t.entry.user,"string"==typeof t.user?t.username=t.user:t.username=t.user.username}t.$inject=["$scope"],angular.module("civic.events.common").directive("entityLogEntry",e).controller("EntityLogEntryController",t)}(),function(){"use strict";function e(){return{restrict:"E",scope:{justified:"=",vertical:"="},require:"^^entityView",link:t,controller:"EntityTabsController",templateUrl:"app/views/events/common/entityTabs.tpl.html"}}function t(e,t,i,n){var a=window._,s=e.vm,o=e.entityViewModel=n.entityViewModel,r=e.entityViewRevisions=n.entityViewRevisions,l=e.entityViewOptions=n.entityViewOptions;t.ready(function(){e.scroll()}),s.type="",s.name="",s.status="",s.type=a.map(o.data.item.type.replace("_"," ").split(" "),function(e){return e.toUpperCase()}).join(" "),s.actions={},s.actions=o.data.item.lifecycle_actions;var c=function(){r.getPendingFields(o.data.item.id).then(function(e){s.pendingFields=a.keys(r.data.pendingFields),s.hasPendingFields=e.length>0})};if(c(),e.$on("revisionDecision",function(){c()}),s.anchorId=a.kebabCase(s.type),e.$watch("entityViewModel.data.item.status",function(e){s.status=e}),e.$watch("entityViewModel.data.item.name",function(e){s.name=e}),e.$watchCollection("entityViewModel.data.item.lifecycle_actions",function(e){s.actions=e}),e.viewBackground="view-"+l.styles.view.backgroundColor,e.viewForeground="view-"+l.styles.view.foregroundColor,e.tabs=l.tabData,!e.tabs)throw new Error("entityTabs: 'data' attribute not defined, please check documentation for how to use this directive.");if(!angular.isArray(e.tabs))throw new Error("entityTabs: 'data' attribute must be an array of tab data with at least one tab defined.");var d=e.$on("$stateChangeSuccess",function(){e.update_tabs()});e.$on("$destroy",d)}function i(e,t,i,n,a,s,o,r,l){var c=e.vm={};c.isAuthenticated=o.isAuthenticated,c.isEditor=o.isEditor,c.isAdmin=o.isAdmin,c.subscribed=null,c.hasSubscription=!1,c.currentUser=o.currentUser,c.revertReqObj={evidenceId:null,organization:null},c.showRevertBtn=!1,c.showCoiNotice=!1,c.entityType=null,c.entityStatus=null,e.$watchCollection("[entityViewModel.data.item.status, entityViewModel.data.item.type]",function(e){c.entityStatus=e[0],c.entityType=e[1];var t=c.currentUser?c.currentUser.conflict_of_interest.coi_valid:void 0,i="conflict"===t||"valid"===t;(c.isEditor()||c.isAdmin())&&"evidence"==c.entityType&&"submitted"!==c.entityStatus?i?(c.showRevertBtn=!0,c.showCoiNotice=!1,o.reloadCurrentUser().then(function(e){c.currentUser=e,c.revertReqObj.evidenceId=n.evidenceId,c.revertReqObj.organization=e.most_recent_organization})):(c.showRevertBtn=!1,c.showCoiNotice=!0):(c.showRevertBtn=!1,c.showCoiNotice=!1)}),c.revert=function(t){e.entityViewModel.revert(t).then(function(e){c.revertReqObj.organization.id!=c.currentUser.most_recent_organization.id&&o.reloadCurrentUser()}).catch(function(e){}).finally(function(){})},c.switchOrg=function(e){c.revertReqObj.organization=l.find(c.currentUser.organizations,{id:e})},c.toggleSubscription=function(t){if(l.isObject(t))r.unsubscribe(t.id).then(function(){});else{var i=l.startCase(l.camelCase(e.entityViewModel.data.item.type));r.subscribe({subscribable_type:i,subscribable_id:e.entityViewModel.data.item.id}).then(function(){})}},e.scroll=function(){var e=a.hash();if(!l.isEmpty(e)&&l.kebabCase(c.type)===e&&i.prevScroll!==e){var t=document.getElementById(e);i.prevScroll=a.hash(),s.scrollToElementAnimated(t)}},e.$watchCollection(function(){return r.data.collection},function(t){var i=l.startCase(l.camelCase(e.entityViewModel.data.item.type));"Evidence"===i&&(i="EvidenceItem"),"Variant Group"===i&&(i="VariantGroup");var n=e.entityViewModel.data.item.type;"evidence"===n&&(n="evidence_item");var a=e.entityViewModel.data.item.id;e.vm.subscription=l.find(t,function(e){return e.subscribable.type===i&&e.subscribable.state_params[n].id===a}),e.vm.hasSubscription=l.isObject(e.vm.subscription)}),i.stateParams=n;var d=e.$watchCollection("entityViewModel",function(){var i=function(e){return t.is(e.route,e.params,e.options)};e.go=function(n){if(!i(n)&&!n.disabled){t.go(n.route,n.params,n.options).catch(function(){e.update_tabs()})}},e.active=function(e){var i=e.route;return l.includes(e.route,"talk")&&(i=l(e.route.split(".")).dropRightWhile(function(e){return"talk"!==e}).value().join(".")),t.includes(i,l.omit(e.params,"#"),e.options)},e.update_tabs=function(){angular.forEach(e.tabs,function(t){t.params=t.params||{},t.options=t.options||{},t.active=e.active(t)})},e.update_tabs(),d()})}/**
   * Permits declarative (and dynamic) definitions of tab links with full routes.
   *
   * requires 'ui.router' and 'ui.bootstrap'
   * (uses ui-tabset and tab directives in ui.bootstrap and route changes in ui.router)
   *
   * You can define (for styling) the attributes type="pills" and vertical="true | false" and justified="true | false"
   *
   * Watches the $stateChangeXX events so it can update the parent tab(s) when using $state.go or ui-sref anchors.
   *
   * See ui-router-tabs.spec.js for tests.
   *
   * Author: Robert Pocklington (rpocklin@gmail.com)
   * License: MIT
   *
   */
i.$inject=["$scope","$state","$rootScope","$stateParams","$location","$document","Security","Subscriptions","_"],angular.module("civic.events.common").directive("entityTabs",e).controller("EntityTabsController",i)}(),function(){"use strict";function e(e){this.entityTalkRevisionsViewModel=e.viewModel,this.entityTalkRevisionsViewOptions=e.viewOptions}e.$inject=["$scope"],angular.module("civic.events.common").controller("EntityTalkRevisionsViewController",e).directive("entityTalkRevisionsView",function(){return{restrict:"E",scope:{viewModel:"=",viewOptions:"="},transclude:!0,controller:"EntityTalkRevisionsViewController",templateUrl:"app/views/events/common/entityTalkRevisionsView.tpl.html"}})}(),function(){"use strict";function e(){return{restrict:"E",scope:{justified:"=",vertical:"="},require:"^^entityTalkView",link:t,controller:"EntityTalkTabsController",templateUrl:"app/views/events/common/entityTalkTabs.tpl.html"}}function t(e,t,i,n){var a=e.viewModel=n.viewModel,s=e.viewOptions=n.viewOptions;if(e.type=a.data.item.type,e.name=a.data.item.name,e.showCorner="variant"===e.type||"variant group"===e.type,e.tabRowBackground=s.styles.tabs.tabRowBackground,e.viewBackground="view-"+s.styles.view.backgroundColor,e.tabs=s.tabData,!e.tabs)throw new Error("entityTalkTabs: 'data' attribute not defined, please check documentation for how to use this directive.");if(!angular.isArray(e.tabs))throw new Error("entityTalkTabs: 'data' attribute must be an array of tab data with at least one tab defined.");var o=e.$on("$stateChangeSuccess",function(){e.update_tabs()});e.$on("$destroy",o)}function i(e,t,i){var n=e.$watchCollection("viewModel",function(){var a=function(e){return t.is(e.route,e.params,e.options)};e.go=function(i){if(!a(i)&&!i.disabled){t.go(i.route,i.params,i.options).catch(function(){e.update_tabs()})}},e.active=function(e){return t.includes(e.route,i.omit(e.params,"#"),e.options)},e.update_tabs=function(){angular.forEach(e.tabs,function(t){t.params=t.params||{},t.options=t.options||{},t.active=e.active(t)})},e.update_tabs(),n()})}/**
   * Permits declarative (and dynamic) definitions of tab links with full routes.
   *
   * requires 'ui.router' and 'ui.bootstrap'
   * (uses ui-tabset and tab directives in ui.bootstrap and route changes in ui.router)
   *
   * You can define (for styling) the attributes type="pills" and vertical="true | false" and justified="true | false"
   *
   * Watches the $stateChangeXX events so it can update the parent tab(s) when using $state.go or ui-sref anchors.
   *
   * See ui-router-tabs.spec.js for tests.
   *
   * Author: Robert Pocklington (rpocklin@gmail.com)
   * License: MIT
   *
   */
t.$inject=["scope","element","attributes","entityTalkView"],i.$inject=["$scope","$state","_"],angular.module("civic.events.common").directive("entityTalkTabs",e).controller("EntityTalkTabsController",i)}(),function(){"use strict";function e(e){this.viewModel=e.viewModel,this.revisionsModel=e.revisionsModel,this.viewOptions=e.viewOptions}e.$inject=["$scope"],angular.module("civic.events.common").controller("EntityTalkViewController",e).directive("entityTalkView",function(){return{restrict:"E",scope:{viewModel:"=",revisionsModel:"=",viewOptions:"="},transclude:!0,controller:"EntityTalkViewController",templateUrl:"app/views/events/common/entityTalkView.tpl.html"}})}(),function(){"use strict";function e(){return{restrict:"E",scope:{users:"=",type:"=",name:"="},controller:"EntityUsersPopoverController",templateUrl:"app/views/events/common/entityUsersPopover.tpl.html"}}function t(e){var t=e.vm={};t.users=e.users,t.usersPopover={templateUrl:"app/views/events/common/entityUsersPopoverTemplate.tpl.html",title:""},e.$watch("name",function(i){t.usersPopover.title=e.type+" "+i+" Updates"}),e.$watchCollection("users",function(e){t.users=e})}t.$inject=["$scope"],angular.module("civic.events.common").directive("entityUsersPopover",e).controller("EntityUsersPopoverController",t)}(),function(){"use strict";function e(e){this.entityViewModel=e.viewModel,this.entityViewRevisions=e.viewRevisions,this.entityViewOptions=e.viewOptions}e.$inject=["$scope"],angular.module("civic.events.common").controller("EntityViewController",e).directive("entityView",function(){return{restrict:"E",scope:{viewModel:"=",viewRevisions:"=",viewOptions:"="},transclude:!0,controller:"EntityViewController",templateUrl:"app/views/events/common/entityView.tpl.html"}})}(),function(){"use strict";function e(e){e.state("events.genes",{abstract:!0,url:"/genes/:geneId",templateUrl:"app/views/events/genes/GenesView.tpl.html",resolve:{Genes:"Genes",initGene:["Genes","$stateParams",function(e,t){return e.initBase(t.geneId)}]},controller:"GenesController",controllerAs:"vm",deepStateRedirect:{params:["geneId"]},onExit:["$deepStateRedirect",function(e){e.reset()}]}).state("events.genes.summary",{url:"/summary",template:'<gene-summary show-menu="true"></gene-summary>',resolve:{Genes:"Genes",refreshGene:["Genes","$stateParams",function(e,t){return e.get(t.geneId)}]},deepStateRedirect:{params:["geneId"]},data:{titleExp:'"Gene " + gene.name + " Summary"',navMode:"sub"}})}function t(e,t){function i(){angular.copy(t,this.state.baseParams),this.state.baseState="events.genes",this.state.baseUrl=e.href(this.state.baseState,t),angular.copy([{heading:"Gene Summary",route:"events.genes.summary",params:{geneId:t.geneId,"#":"gene"}},{heading:"Gene Talk",route:"events.genes.talk.revisions.list",params:{geneId:t.geneId,"#":"gene"}}],this.tabData),angular.copy({view:{backgroundColor:"pageBackground2"},summary:{backgroundColor:"pageBackground2"},myGeneInfo:{backgroundColor:"pageBackground2"},variantMenu:{backgroundColor:"pageBackground2"},edit:{summaryBackgroundColor:"pageBackground2"}},this.styles)}return{init:i,state:{baseParams:{},baseState:"",baseUrl:""},tabData:[],styles:{}}}function i(e,t,i){i.init(),this.GenesViewModel=e,this.GenesViewRevisions=t,this.GenesViewOptions=i}e.$inject=["$stateProvider"],t.$inject=["$state","$stateParams"],i.$inject=["Genes","GeneRevisions","GenesViewOptions"],angular.module("civic.events.genes").config(e).factory("GenesViewOptions",t).controller("GenesController",i)}(),function(){"use strict";function e(e){e.state("events.genes.edit",{abstract:!0,url:"/edit",templateUrl:"app/views/events/genes/edit/GeneEditView.tpl.html",controller:"GeneEditController",controllerAs:"vm",resolve:{GeneRevisions:"GeneRevisions",initGeneEdit:["Genes","GeneRevisions","GeneHistory","$stateParams","$q",function(e,t,i,n,a){var s=n.geneId;return a.all([t.initRevisions(s),t.getPendingFields(s),i.initBase(s)])}]},deepStateRedirect:["geneId"],data:{titleExp:'"Gene " + gene.name + " Edit"',navMode:"sub"}}).state("events.genes.edit.basic",{url:"/basic",template:"<gene-edit-basic></gene-edit-basic>",data:{titleExp:'"Gene " + gene.name + " Edit"',navMode:"sub"}})}function t(e,t){function i(){a="events.genes.edit",n=e.href(n,t),angular.copy({view:{summaryBackgroundColor:"pageBackground2",editBackgroundColor:"pageBackground",talkBackgroundColor:"pageBackground"},tabs:{tabRowBackground:"pageBackground2Gradient"}},s)}var n="",a="",s={};return{init:i,state:{baseParams:t,baseState:a,baseUrl:n},styles:s}}function i(e,t,i){i.init(),this.GeneEditViewModel=e,this.GeneRevisionsModel=t,this.GeneEditViewOptions=i}e.$inject=["$stateProvider"],t.$inject=["$state","$stateParams"],i.$inject=["Genes","GeneRevisions","GeneEditViewOptions"],angular.module("civic.events.genes").config(e).factory("GeneEditViewOptions",t).controller("GeneEditController",i)}(),function(){"use strict";function e(){return{restrict:"E",scope:{},controller:"GeneEditBasicController",templateUrl:"app/views/events/genes/edit/geneEditBasic.tpl.html"}}function t(e,t,i,n,a,s,o,r,l,c,d,u,p){var m,v;v=e.vm={},m=v.geneModel=l,v.gene=l.data.item,v.pendingFields=a.keys(r.data.pendingFields).length>0,v.pendingFieldsList=a.map(a.keys(r.data.pendingFields),function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),v.geneRevisions=r,v.geneHistory=c,v.geneEdit=angular.copy(v.gene),v.geneEdit.comment={title:"GENE "+v.gene.name+" Revision Description",text:""},v.geneEdit.source_ids=a.map(v.gene.sources,"citation_id"),v.myGeneInfo=m.data.myGeneInfo,v.variants=m.data.variants,v.variantGroups=m.data.variantGroups,o.reloadCurrentUser().then(function(e){v.currentUser=e,v.isEditor=o.isEditor(),v.isAdmin=o.isAdmin(),v.isAuthenticated=o.isAuthenticated(),v.geneEdit.organization=v.currentUser.most_recent_organization}),v.styles=d.styles,v.user={},v.formErrors={},v.formMessages={},v.errorMessages=u.errorMessages,v.errorPrompts=u.errorPrompts,v.serverMsg="",v.newRevisionId=Number(),v.showForm=!0,v.showSuccessMessage=!1,v.showInstructions=!0,i.ready(function(){var e=document.getElementById("gene-edit-form");i.scrollToElementAnimated(e)}),v.geneFields=[{key:"name",type:"horizontalInputHelp",templateOptions:{label:"Name",disabled:!0,value:v.gene.name,helpText:""}},{key:"description",type:"horizontalTextareaHelp",templateOptions:{rows:8,label:"Summary",value:"vm.gene.description",focus:!0,minLength:32,helpText:['<p>User-defined summary of the clinical relevance of this Gene. By submitting content to CIViC you agree to release it to the public domain as described by the <a href="https://creativecommons.org/publicdomain/zero/1.0/" title="CreativeCommons.org CC0 license" target="_blank">Creative Commons Public Domain Dedication (CC0 1.0 Universal)</a></p>',"<p>Should include:</p>","<ul>","<li>relevance to appropriate cancer(s)</li>","<li>treatment(s) related specifically to variants affecting this Gene</li>","</ul>","<p>May include relevant mechanistic information such as:</p>","<ul>","<li>pathway interactions</li>","<li>functional alterations caused by variants in this Gene (i.e., activating, loss-of-function, etc.)</li>","<li>normal functions key to its oncogenic properties.</li>","</ul>"].join(" ")}},{key:"source_ids",type:"multiInput",templateOptions:{label:"Sources",helpText:"Please specify the Pubmed IDs of any sources used as references in the Gene Summary.",entityName:"Source",showAddButton:!1,inputOptions:{type:"publication-multi",templateOptions:{label:"Pubmed Id",minLength:1,required:!0,data:{citation:"--"}},modelOptions:{updateOn:"default blur",allowInvalid:!1,debounce:{default:300,blur:0}},validators:{validPubmedId:{expression:function(e,i,n){if(e.length>0){var a=t.defer();n.options.templateOptions.loading=!0;var o={citationId:e,sourceType:"PubMed"};return s.verify(o).then(function(e){n.options.templateOptions.loading=!1,n.options.templateOptions.data.citation=e.citation,a.resolve(e)},function(e){n.options.templateOptions.loading=!1,404===e.status?n.options.templateOptions.data.citation="No PubMed source found with specified ID.":n.options.templateOptions.data.citation="Error fetching source, check console log for details.",a.reject(e)}),a.promise}return n.options.templateOptions.data.description="--",!0},message:'"This does not appear to be a valid Pubmed ID."'}}}}},{template:"<hr/>"},{key:"text",type:"horizontalCommentHelp",model:v.geneEdit.comment,templateOptions:{rows:5,minimum_length:3,label:"Revision Description",required:!0,value:"text",helpText:"Please provide a brief description and support, if necessary, for your suggested revision. It will appear as the first comment in this revision's comment thread."},validators:{length:{expression:function(e,t,i){return(e||t).length>=i.to.minimum_length},message:'"Comment must be at least " + to.minimum_length + " characters long to submit."'}}}],v.switchOrg=function(e){v.geneEdit.organization=a.find(v.currentUser.organizations,{id:e})},v.submit=function(e){e.geneId=e.id,e.sources=e.source_ids,v.formErrors={},v.formMessages={},r.submitRevision(e).then(function(t){v.newRevisionId=t.id,v.formMessages.submitSuccess=!0,v.showInstructions=!1,v.pendingFields=!1,v.showForm=!1,v.showSuccessMessage=!0,p.$broadcast("revisionDecision"),e.organization.id!=v.currentUser.most_recent_organization.id&&o.reloadCurrentUser()}).catch(function(e){v.formErrors[e.status]=!0,v.serverMsg=e.data.error}).finally(function(){})},v.apply=function(e){e.geneId=e.id,v.formErrors={},v.formMessages={},l.apply(e).then(function(){v.formMessages.applySuccess=!0,e.organization.id!=v.currentUser.most_recent_organization.id&&o.reloadCurrentUser()}).catch(function(e){v.formErrors[e.status]=!0}).finally(function(){})},v.revisionsClick=function(){n.go("events.genes.talk.revisions.list",{geneId:l.data.item.id})}}t.$inject=["$scope","$q","$document","$state","_","Publications","Security","GeneRevisions","Genes","GeneHistory","GenesViewOptions","formConfig","$rootScope"],angular.module("civic.events.genes").directive("geneEditBasic",e).controller("GeneEditBasicController",t)}(),function(){"use strict";function e(e){e.state("events.genes.talk",{abstract:!0,url:"/talk",templateUrl:"app/views/events/genes/talk/GeneTalkView.tpl.html",controller:"GeneTalkController",controllerAs:"vm",resolve:{GeneRevisions:"GeneRevisions",GeneHistory:"GeneHistory",initGeneTalk:["Genes","GeneRevisions","GeneHistory","$stateParams","$cacheFactory","$q",function(e,t,i,n,a,s){var o=n.geneId;return s.all([e.initComments(o),t.initRevisions(o),i.initBase(o)])}]},deepStateRedirect:["geneId"],data:{titleExp:'"Gene " + gene.name + " Talk"',navMode:"sub"}}).state("events.genes.talk.log",{url:"/log",template:"<gene-talk-log></gene-talk-log>",data:{titleExp:'"Gene " + gene.name + " Log"',navMode:"sub"}}).state("events.genes.talk.comments",{url:"/comments",template:"<gene-talk-comments></gene-talk-comments>",data:{titleExp:'"Gene " + gene.name + " Comments"',navMode:"sub"}})}function t(e,t,i){function n(){s="events.genes.talk",a=e.href(a,t),angular.copy([{heading:"Revisions",route:s+".revisions.list",params:{geneId:l.id}},{heading:"Comments",route:s+".comments",params:{geneId:l.id}},{heading:"Log",route:s+".log",params:{geneId:l.id}}],o),angular.copy({view:{summaryBackgroundColor:"pageBackground",talkBackgroundColor:"pageBackground"},tabs:{tabRowBackground:"pageBackground2Gradient"}},r)}var a="",s="",o=[],r={},l=i.data.item;return{init:n,state:{baseParams:t,baseState:s,baseUrl:a},tabData:o,styles:r}}function i(e,t,i,n,a){a.init(),this.GenesTalkViewModel=i,this.GeneRevisionsModel=n,this.GenesTalkViewOptions=a}e.$inject=["$stateProvider"],t.$inject=["$state","$stateParams","Genes"],i.$inject=["$scope","_","Genes","GeneRevisions","GenesTalkViewOptions"],angular.module("civic.events.genes").config(e).factory("GenesTalkViewOptions",t).controller("GeneTalkController",i)}(),function(){"use strict";function e(){return{restrict:"E",scope:{},controller:"GeneTalkCommentsController",templateUrl:"app/views/events/genes/talk/geneTalkComments.tpl.html"}}function t(e,t){(e.ctrl={}).geneTalkModel=t}t.$inject=["$scope","Genes"],angular.module("civic.events.genes").controller("GeneTalkCommentsController",t).directive("geneTalkComments",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{},controller:"GeneTalkLogController",templateUrl:"app/views/events/genes/talk/geneTalkLog.tpl.html"}}function t(e,t,i,n,a){var s,o,r,l=e.ctrl={};e.comments=i.data.comments,e.revisions=n.data.collection,e.history=a.data.collection,e.$watchCollection("[comments, revisions, history]",function(e){s=t.merge({},e[0]),o=t.merge({},e[1]),r=t.merge({},e[2]),s=t.map(s,function(e){return e.type="comment",e}),o=t.map(o,function(e){return e.type="revision",e}),r=t.map(r,function(e){return e.type="history",e}),l.logItems=s.concat(o,r),l.logItems=t.chain(l.logItems).map(function(e){return e.username="object"==typeof e.user?e.user.username:e.user,e.timestamp=t.has(e,"updated_at")?e.updated_at:e.created_at,e}).sortBy(function(e){return new Date(e.timestamp)}).reverse().value()})}t.$inject=["$scope","_","Genes","GeneRevisions","GeneHistory"],angular.module("civic.events.genes").controller("GeneTalkLogController",t).directive("geneTalkLog",e)}(),function(){"use strict";function e(e,t,i){var n=e.vm={};n.isAuthenticated=i.isAuthenticated,n.isEdit=t.includes("**.edit.**")}e.$inject=["$scope","$state","Security"],angular.module("civic.events.genes").controller("GeneDescriptionController",e).directive("geneDescription",function(){return{restrict:"E",scope:{geneData:"="},controller:"GeneDescriptionController",templateUrl:"app/views/events/genes/summary/geneDescription.tpl.html"}})}(),function(){"use strict";function e(e,t,i){e.gene=t.data.item,e.variantsStatus=t.data.variantsStatus,e.myGeneInfo=t.data.myGeneInfo,e.GenesViewOptions=i,e.backgroundColor=i.styles.view.backgroundColor}e.$inject=["$scope","Genes","GenesViewOptions"],angular.module("civic.events.genes").controller("GeneSummaryController",e).directive("geneSummary",function(){return{restrict:"E",scope:{showMenu:"="},controller:"GeneSummaryController",templateUrl:"app/views/events/genes/summary/geneSummary.tpl.html"}})}(),function(){"use strict";function e(e,t,i){var n=e.ctrl={};n.popupOptions={template:"app/views/events/genes/summary/myGeneInfoDialog.tpl.html",controller:"MyGeneInfoDialogController",scope:e},n.openDialog=function(){return i.has(n.dialog,"id")?n.closeDialog().then(function(){n.dialog=t.open(n.popupOptions)}):n.dialog=t.open(n.popupOptions),n.dialog},n.closeDialog=function(){return n.dialog.close(),n.dialog.closePromise.then(function(){i.omit(n,"dialog")})}}function t(e,t){var i=e.$parent.ctrl,n=i.gridOptions={};n.proteinDomains={data:e.geneInfo.interpro,enableFiltering:!0,enableColumnMenus:!1,enableSorting:!0,minRowsToShow:7,columnDefs:[{name:"desc",displayName:"Protein Domains",enableFiltering:!0,cellTemplate:"app/views/events/common/genericHighlightCell.tpl.html",filter:{condition:t.filter.CONTAINS},width:"50%"},{name:"id",displayName:"ID",enableFiltering:!0,cellTemplate:"app/views/events/common/genericHighlightCell.tpl.html",filter:{condition:t.filter.CONTAINS},width:"15%"},{name:"short_desc",displayName:"Identifier",cellTemplate:"app/views/events/common/genericHighlightCell.tpl.html",filter:{condition:t.filter.CONTAINS},enableFiltering:!0}]},n.pathways={data:e.geneInfo.pathway,enableFiltering:!0,enableColumnMenus:!1,enableSorting:!0,minRowsToShow:7,filter:{condition:t.filter.CONTAINS},columnDefs:[{name:"name",displayName:"Pathways",cellTemplate:"app/views/events/common/genericHighlightCell.tpl.html",enableFiltering:!0,filter:{condition:t.filter.CONTAINS},width:"50%"},{name:"src",displayName:"Source",enableFiltering:!0,cellTemplate:"app/views/events/common/genericHighlightCell.tpl.html",filter:{condition:t.filter.CONTAINS},width:"15%"},{name:"link",displayName:"Link",filter:{condition:t.filter.CONTAINS},enableFiltering:!0,cellTemplate:"app/views/events/genes/summary/myGeneInfoGrid/linkCell.tpl.html"}]}}e.$inject=["$scope","ngDialog","_"],t.$inject=["$scope","uiGridConstants"],angular.module("civic.events.genes").controller("MyGeneInfoController",e).controller("MyGeneInfoDialogController",t).directive("myGeneInfo",function(){return{restrict:"E",scope:{geneInfo:"="},controller:"MyGeneInfoController",templateUrl:"app/views/events/genes/summary/myGeneInfo.tpl.html"}})}(),function(){"use strict";function e(e,t,i,n,a,s){e.security={isAuthenticated:a.isAuthenticated(),isEditor:a.isEditor(),isAdmin:a.isAdmin()},e.$state=t,e.gene=n.data.item,e.stateParams=i,e.hasHiddenVariants=!1,e.variants=n.data.variants,e.hasValidEvidenceItems=function(e){var t=e.evidence_item_statuses;return t.accepted_count+t.submitted_count>0},e.hasAcceptedItems=function(e){return e.evidence_item_statuses.accepted_count>0},e.hasSubmittedItems=function(e){return e.evidence_item_statuses.submitted_count>0},e.hasRejectedItems=function(e){return e.evidence_item_statuses.submitted_count>0},e.hasNoItems=function(e){var t=e.evidence_item_statuses;return 0===t.accepted_count&&0===t.submitted_count&&0===t.rejected_count};var o=e.addVarGroupUrl="add/variantGroup";e.order={field:"name",reverse:!1},e.sortOptions=[{value:!0,label:"descending"},{value:!1,label:"ascending"}],e.variantMenuOrderBy=function(t){var i=0;switch(e.order.field){case"name":i=t.name;break;case"position":i=t.coordinates.start;break;default:i=t.name}return i},e.$watchCollection("stateParams",function(t){s.has(t,"geneId")&&(e.addVarGroupUrl=o+"?geneId="+t.geneId)}),e.evidence_category_counts={accepted:0,submitted:0,accepted_or_submitted:0,rejected:0,orphaned:0},e.options_filter="accepted_submitted",e.query="",e.variantFilterFn=function(t){return t.id===Number(e.stateParams.variantId)||"accepted"===e.options_filter&&e.hasAcceptedItems(t)||"accepted_submitted"===e.options_filter&&(e.hasAcceptedItems(t)||e.hasSubmittedItems(t))||"submitted"===e.options_filter&&e.hasSubmittedItems(t)||"all"===e.options_filter},e.$watchCollection(function(){return n.data.variantsStatus.variants},function(t){e.nullCoordVars=[],s.forEach(t,function(t){var i=t.evidence_item_statuses,n=!1,a=!1;i.accepted_count>0&&(e.evidence_category_counts.accepted++,n=!0),i.submitted_count>0&&0===i.accepted_count&&(e.evidence_category_counts.submitted++,a=!0),(i.submitted_count>0||i.accepted_count>0)&&(e.evidence_category_counts.accepted_or_submitted++,a=!0),i.rejected_count>0&&e.evidence_category_counts.rejected++,0===i.accepted_count&&0===i.submitted_count&&0===i.rejected_count&&e.evidence_category_counts.orphaned++,t.coordinates.start||!n&&!a||e.nullCoordVars.push(t.name)}),e.variants=t}),e.$watch(function(){return n.data.variantsStatus.variant_groups},function(t){e.variantGroups=s.map(t,function(e){var t=!s.every(e.variants,{gene_id:e.variants[0].gene_id});return e.variants=s.map(e.variants,function(e){return e.multiGeneGroup=t,e}),e})},!0)}e.$inject=["$scope","$state","$stateParams","Genes","Security","_"],angular.module("civic.events.genes").controller("VariantMenuController",e).directive("variantMenu",function(){return{restrict:"E",scope:{options:"="},controller:"VariantMenuController",templateUrl:"app/views/events/genes/summary/variantMenu.tpl.html"}})}(),function(){"use strict";function e(e){e.state("events.genes.talk.revisions",{abstract:!0,url:"/revisions",templateUrl:"app/views/events/genes/talk/revisions/GeneTalkRevisionsView.tpl.html",controller:"GeneTalkRevisionsController",controllerAs:"vm",resolve:{GeneRevisions:"GeneRevisions",GeneHistory:"GeneHistory",initGeneTalkRevisions:["Genes","GeneRevisions","GeneHistory","$stateParams","$q",function(e,t,i,n,a){var s=n.geneId;return a.all([t.initRevisions(s),i.initBase(s)])}]},deepStateRedirect:["geneId","revisionId"],data:{titleExp:'"Gene " + gene.name + " Talk"',navMode:"sub"}}).state("events.genes.talk.revisions.list",{url:"/list/:revisionId",template:"<gene-talk-revisions></gene-talk-revisions>",resolve:{initRevisionList:["GeneRevisions","$stateParams",function(e,t){return e.query(t.geneId)}]},data:{titleExp:'"Gene " + gene.name + " Revisions"',navMode:"sub"}}).state("events.genes.talk.revisions.list.summary",{url:"/summary",template:"<gene-talk-revision-summary></gene-talk-revision-summary>",resolve:{initRevision:["GeneRevisions","$stateParams","$q",function(e,t,i){return i.all([e.get(t.geneId,t.revisionId),e.queryComments(t.geneId,t.revisionId)])}]},data:{titleExp:'"Gene " + gene.name + " Revision Summary"',navMode:"sub"}})}function t(e,t){function i(){a="events.genes.talk.revisions",n=e.href(n,t),angular.copy({view:{summaryBackgroundColor:"pageBackground",talkBackgroundColor:"pageBackground"},tabs:{tabRowBackground:"pageBackground2Gradient"}},s)}var n="",a="",s={};return{init:i,state:{baseParams:t,baseState:a,baseUrl:n},styles:s}}function i(e,i,n){n.init(),this.GeneRevisionsModel=i,this.GeneTalkRevisionsViewOptions=t}e.$inject=["$stateProvider"],t.$inject=["$state","$stateParams"],i.$inject=["Genes","GeneRevisions","GeneTalkRevisionsRevisionsViewOptions"],angular.module("civic.events.genes").config(e).factory("GeneTalkRevisionsViewOptions",t).controller("GeneTalkRevisionsController",i)}(),function(){"use strict";function e(){return{restrict:"E",replace:!0,templateUrl:"app/views/events/genes/talk/revisions/geneTalkRevisionSummary.tpl.html",controller:"GeneTalkRevisionSummaryController"}}function t(e,t,i,n,a,s){var o=e.vm={};o.geneTalkModel=i,o.formErrors={},o.formMessages={},o.errorMessages=a.errorMessages,o.errorPrompts=a.errorPrompts,n.reloadCurrentUser().then(function(e){o.currentUser=e,o.isEditor=n.isEditor(),o.isAdmin=n.isAdmin(),o.isAuthenticated=n.isAuthenticated(),o.actionOrg=o.currentUser.most_recent_organization});var r;n.currentUser&&(r=n.currentUser.id);var l=i.data.item.user.id,c=o.ownerIsCurrentUser=l===r;e.$watchGroup([function(){return i.data.item.status},function(){return n.currentUser?n.currentUser.conflict_of_interest.coi_valid:void 0}],function(e){var t=e[0],i=e[1],a="new"===t,s="conflict"===i||"valid"===i,r=n.isEditor()||n.isAdmin();o.showModeration=a&&(r&&s||c),o.showCoiNotice=a&&!o.showModeration&&r,o.disabled_text=n.isEditor()||n.isAdmin()?"Contributors may not accept their own suggested revisions.":"Suggested revisions must be approved by an editor."}),o.switchOrg=function(e){o.actionOrg=_.find(o.currentUser.organizations,{id:e})},o.acceptRevision=function(){o.formErrors={},o.formMessages={},i.acceptRevision(t.geneId,t.revisionId,o.actionOrg).then(function(){o.formMessages.acceptSuccess=!0,s.$broadcast("revisionDecision"),o.actionOrg.id!=o.currentUser.most_recent_organization.id&&n.reloadCurrentUser()}).catch(function(e){o.formErrors[e.status]=!0}).finally(function(){})},o.rejectRevision=function(){o.formErrors={},o.formMessages={},i.rejectRevision(t.geneId,t.revisionId,o.actionOrg).then(function(){o.formMessages.rejectSuccess=!0,s.$broadcast("revisionDecision"),o.actionOrg.id!=o.currentUser.most_recent_organization.id&&n.reloadCurrentUser()}).catch(function(e){o.formErrors[e.status]=!0}).finally(function(){})}}t.$inject=["$scope","$stateParams","GeneRevisions","Security","formConfig","$rootScope"],angular.module("civic.events.genes").directive("geneTalkRevisionSummary",e).controller("GeneTalkRevisionSummaryController",t)}(),function(){"use strict";function e(){return{restrict:"E",scope:{},controller:"GeneTalkRevisionsController",templateUrl:"app/views/events/genes/talk/revisions/geneTalkRevisions.tpl.html"}}function t(e,t,i){e.geneRevisions=t,e.viewOptions=i}t.$inject=["$scope","GeneRevisions","GenesTalkViewOptions"],angular.module("civic.events.genes").controller("GeneTalkRevisionsController",t).directive("geneTalkRevisions",e)}(),function(){"use strict";function e(e){e.state("events.assertions",{abstract:!0,url:"/assertions/:assertionId",templateUrl:"app/views/events/assertions/AssertionsView.tpl.html",resolve:{Assertions:"Assertions",initAssertion:["Assertions","$stateParams",function(e,t){return e.initBase(t.assertionId)}],myVariantInfo:["initAssertion","Assertions",function(e,t){return t.getMyVariantInfo(e[0].variant.id)}]},controller:"AssertionsController",controllerAs:"vm",data:{titleExp:'"Assertions"',navMode:"sub"}}).state("events.assertions.summary",{url:"/summary",templateUrl:"app/views/events/assertions/summary/assertionsSummary.tpl.html",controller:"AssertionsSummaryController",data:{titleExp:'"Assertion " + assertion.name',navMode:"sub"}})}function t(e,t){function i(){angular.copy(t,this.state.baseParams),this.state.baseState="events.assertions",this.state.baseUrl=e.href(this.state.baseState,t),angular.copy([{heading:"Assertion Summary",route:"events.assertions.summary",params:{assertionId:t.assertionId,"#":"assertion"}},{heading:"Assertion Talk",route:"events.assertions.talk.revisions.list",params:{assertionId:t.assertionId,"#":"assertion"}}],this.tabData),angular.copy({view:{backgroundColor:"pageBackground"},summary:{backgroundColor:"pageBackground"}},this.styles)}return{init:i,state:{baseParams:{},baseState:"",baseUrl:""},tabData:[],styles:{}}}function i(e,t,i){i.init(),this.AssertionsViewModel=e,this.AssertionsViewRevisions=t,this.AssertionsViewOptions=i}e.$inject=["$stateProvider"],t.$inject=["$state","$stateParams"],i.$inject=["Assertions","AssertionRevisions","AssertionsViewOptions"],angular.module("civic.events.assertions").config(e).factory("AssertionsViewOptions",t).controller("AssertionsController",i)}(),function(){"use strict";function e(e){e.state("events.assertions.edit",{abstract:!0,url:"/edit",templateUrl:"app/views/events/assertions/edit/AssertionEditView.tpl.html",controllerAs:"vm",resolve:{AssertionRevisions:"AssertionRevisions",initAssertionEdit:["Assertions","AssertionRevisions","AssertionHistory","$stateParams","$q",function(e,t,i,n,a){var s=n.assertionId;return a.all([e.get(n.assertionId),e.queryAcmgCodes(),t.initRevisions(s),t.getPendingFields(s),i.initBase(s)])}]},deepStateRedirect:["assertionId"],data:{titleExp:'"Assertion " + assertion.name + " Edit"',navMode:"sub"}}).state("events.assertions.edit.basic",{url:"/basic",template:'<assertion-edit acmg-codes="acmgCodes"></assertion-edit>',data:{titleExp:'"Assertion " + assertion.name + " Edit"',navMode:"sub"}})}function t(e,t){function i(){a="events.assertions.edit",n=e.href(n,t),angular.copy({view:{summaryBackgroundColor:"pageBackground2",editBackgroundColor:"pageBackground",talkBackgroundColor:"pageBackground"},tabs:{tabRowBackground:"pageBackground2Gradient"}},s)}var n="",a="",s={};return{init:i,state:{baseParams:t,baseState:a,baseUrl:n},styles:s}}function i(e,t,i){i.init(),this.AssertionEditViewModel=e,this.AssertionRevisionsModel=t,this.AssertionEditViewOptions=i}e.$inject=["$stateProvider"],t.$inject=["$state","$stateParams"],i.$inject=["Assertions","AssertionRevisions","AssertionEditViewOptions"],angular.module("civic.events.assertions").config(e).factory("AssertionEditViewOptions",t).controller("AssertionEditController",i)}(),function(){"use strict";function e(){return{restrict:"E",scope:{},controller:"AssertionEditController",templateUrl:"app/views/events/assertions/edit/assertionEdit.tpl.html"}}function t(e,t,i,n,a,s,o,r,l,c,d,u,p,m,v,g,h,f,y,b){var w;w=e.vm={},w.type="ASSERTION";var _=(c.data.acmg_codes,m.evidenceHelpText),C=m.evidenceAttributeDescriptions,x=m.assertionAttributeDescriptions,I=m.optionMethods.make_options,k=m.optionMethods.cs_options,S=m.optionMethods.merge_props,E=m.assertionAttributeDescriptions.ampLevels;m.assertionAttributeDescriptions.nccnGuidelines;w.assertion={},angular.copy(c.data.item,w.assertion),w.assertion.phenotypes=s.map(w.assertion.phenotypes,function(e){return e.hpo_class}),w.pendingFields=s.keys(l.data.pendingFields).length>0,w.pendingFieldsList=s.map(s.keys(l.data.pendingFields),function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),w.assertionRevisions=l,w.assertionHistory=d,w.assertionEdit=angular.copy(w.assertion),w.assertionEdit.comment={title:"ASSERTION "+w.assertion.name+" Revision Description",text:""},w.assertionEdit.drugs=s.filter(s.map(w.assertion.drugs,"name"),function(e){return"N/A"!==e}),w.assertionEdit.nccn_guideline={name:w.assertionEdit.nccn_guideline?w.assertionEdit.nccn_guideline:""},r.reloadCurrentUser().then(function(e){w.currentUser=e,w.isEditor=r.isEditor(),w.isAdmin=r.isAdmin(),w.isAuthenticated=r.isAuthenticated(),w.assertionEdit.organization=w.currentUser.most_recent_organization}),w.styles=u.styles,w.user={},w.newRevisionId=Number(),w.showForm=!0,w.showSuccessMessage=!1,w.showInstructions=!0,w.serverError=!1,w.serverErrorStatus="",w.serverErrorStatusTxt="",w.serverErrorMessages=[],i.ready(function(){var e=document.getElementById("assertion-edit-form");s.isUndefined(e)||i.scrollToElementAnimated(e)}),w.assertionFields=[{key:"gene",type:"horizontalTypeaheadHelp",wrapper:["entrezIdDisplay"],controller:["$scope","$stateParams","Genes",function(e,t,i){t.geneId&&i.getName(t.geneId).then(function(t){e.model.gene=s.pick(t,["id","name","entrez_id"]),e.to.data.entrez_id=t.entrez_id}),t.geneName&&i.beginsWith(t.geneName).then(function(t){e.model.gene=t[0],e.to.data.entrez_id=t[0].entrez_id})}],templateOptions:{label:"Gene Entrez Name",minLength:32,required:!0,editable:!1,formatter:"model[options.key].name",typeahead:"item as item.name for item in to.data.typeaheadSearch($viewValue)",templateUrl:"components/forms/fieldTypes/geneTypeahead.tpl.html",onSelect:"to.data.entrez_id = $model.entrez_id",selectOnBlur:!0,helpText:_["Gene Entrez Name"],data:{entrez_id:"--",typeaheadSearch:function(e){return g.queryLocal(e).then(function(e){return s.map(e,function(e){return e.aliases.length>0&&(e.alias_list=e.aliases.join(", "),e.alias_list.length>70&&(e.alias_list=s.truncate(e.alias_list,70))),e})})}}},watcher:{listener:function(e,t,i,n){!s.isUndefined(e.formControl)&&e.formControl.$valid&&(s.find(n.fields,{key:"variant"}).templateOptions.data.message=""),!s.isUndefined(e.formControl)&&e.formControl.$invalid&&(n.model.variant={name:""},s.find(n.fields,{key:"variant"}).templateOptions.data.message="Please specify a gene before selecting a variant.")}},modelOptions:{debounce:{default:300}}},{key:"variant",type:"horizontalTypeaheadHelp",wrapper:["fieldMessage"],className:"input-caps",controller:["$scope","$stateParams","Variants",function(e,t,i){t.variantId&&i.get(t.variantId).then(function(t){e.model.variant={name:t.name}}),t.variantName&&(e.model.variant={name:t.variantName})}],templateOptions:{label:"Variant Name",required:!0,editable:!1,value:"vm.newEvidence.variant",minLength:32,helpText:_["Variant Name"],formatter:"model[options.key].name",typeahead:"item as item.name for item in options.data.typeaheadSearch($viewValue, model.gene.name)",popupTemplateUrl:"components/forms/fieldTypes/variantTypeaheadPopup.tpl.html",templateUrl:"components/forms/fieldTypes/variantTypeahead.tpl.html",typeaheadMinLength:0,selectOnBlur:!0,data:{message:""}},expressionProperties:{"templateOptions.disabled":function(e,t,i){return!!i.model.gene&&""==i.model.gene.name}},data:{message:"Please specify a Gene before choosing a Variant.",typeaheadSearch:function(e,t){var i={mode:"variants",count:999,page:0,"filter[variant]":e,"filter[entrez_gene]":t,"sorting[variant]":"asc"};return v.query(i).then(function(e){return s.map(s.uniq(e.result,"variant"),function(e){return{name:e.variant}})})}}},{key:"variant_origin",type:"horizontalSelectHelp",wrapper:"attributeDefinition",controller:["$scope","$stateParams","ConfigService","_",function(e,t,i,n){if(t.variantOrigin){var a=t.variantOrigin,s=n.keys(i.evidenceAttributeDescriptions.variant_origin);n.includes(s,a)&&(e.model.variant_origin=t.variantOrigin,e.to.data.attributeDefinition=e.to.data.attributeDefinitions[a])}}],templateOptions:{label:"Variant Origin",value:"vm.newEvidence.variant_origin",options:[{value:"",label:"Please select a Variant Origin"}].concat(I(C.variant_origin)),required:!0,valueProp:"value",labelProp:"label",helpText:_["Variant Origin"],data:{attributeDefinition:"&nbsp;",attributeDefinitions:C.variant_origin},onChange:function(e,t){
t.templateOptions.data.attributeDefinition=t.templateOptions.data.attributeDefinitions[e]}}},{key:"disease",type:"horizontalTypeaheadHelp",wrapper:["loader","diseasedisplay"],templateOptions:{label:"Disease",value:"vm.newEvidence.doid",required:!0,minLength:32,helpText:"Please enter a disease name. Disease must exist in the CIViC database.",typeahead:"item as item.name for item in to.data.typeaheadSearch($viewValue)",onSelect:"to.data.doid = $model.doid",templateUrl:"components/forms/fieldTypes/diseaseTypeahead.tpl.html",data:{doid:"--",typeaheadSearch:function(e){return h.beginsWith(e).then(function(e){return s.map(e,function(e){return e.aliases.length>0?(e.alias_list=e.aliases.join(", "),e.alias_list.length>70&&(e.alias_list=s.truncate(e.alias_list,70))):e.alias_list="--",e})})}}},controller:["$scope","$stateParams","Diseases",function(e,t,i){t.diseaseName&&i.beginsWith(t.diseaseName).then(function(t){e.model.disease=t[0],e.to.data.doid=t[0].doid})}]},{key:"evidence_type",type:"horizontalSelectHelp",wrapper:"attributeDefinition",controller:["$scope","$stateParams","ConfigService","_",function(e,t,i,n){if(t.evidenceType){var a=t.evidenceType,s=n.keys(i.evidenceAttributeDescriptions.evidence_type.assertion);n.includes(s,a)&&(e.model.evidence_type=t.evidenceType,e.to.data.attributeDefinition=e.to.data.attributeDefinitions[a])}}],templateOptions:{label:"Assertion Type",required:!0,value:"vm.newEvidence.evidence_type",ngOptions:'option["value"] as option["label"] for option in to.options',options:[{value:"",label:"Please select an Assertion Type"}].concat(I(C.evidence_type.assertion)),onChange:function(e,t,i){i.model.clinical_significance="",i.model.drugs="Predictive"===e?[""]:[],t.templateOptions.data.attributeDefinition=t.templateOptions.data.attributeDefinitions[e];var n=s.find(i.fields,{key:"evidence_direction"});""!==n.value()&&n.templateOptions.data.updateDefinition(null,n,i),"Predisposing"!==e&&(i.model.acmg_codes=[""])},helpText:"Type of clinical outcome associated with the assertion description.",data:{attributeDefinition:"&nbsp;",attributeDefinitions:C.evidence_type.assertion}},watcher:{listener:function(e,t,i,n){!s.isUndefined(e.formControl)&&e.formControl.$valid&&(s.find(n.fields,{key:"evidence_direction"}).templateOptions.data.attributeDefinition="",s.find(n.fields,{key:"clinical_significance"}).templateOptions.data.attributeDefinition=""),(s.isUndefined(e.formControl)||e.formControl.$invalid)&&(s.find(n.fields,{key:"evidence_direction"}).templateOptions.data.attributeDefinition="Please choose Assertion Type before selecting Assertion Direction.",s.find(n.fields,{key:"clinical_significance"}).templateOptions.data.attributeDefinition="Please choose Assertion Type before selecting Assertion Direction.")}}},{key:"evidence_direction",type:"horizontalSelectHelp",wrapper:"attributeDefinition",controller:["$scope","$stateParams","ConfigService","_",function(e,t,i,n){if(t.evidenceDirection&&t.evidenceType){var a=t.evidenceType,s=t.evidenceDirection,o=n.keys(i.evidenceAttributeDescriptions.evidence_direction.assertion[a]);n.includes(o,s)&&(e.model.evidence_direction=t.evidenceDirection,e.to.data.attributeDefinition=e.to.data.attributeDefinitions[a][s])}}],templateOptions:{label:"Assertion Direction",required:!0,value:"vm.newEvidence.evidence_direction",ngOptions:'option["value"] as option["label"] for option in to.options',options:[{value:"",label:"Please select an Assertion Direction"}].concat(I(C.evidence_direction.assertion.Diagnostic)),valueProp:"value",labelProp:"label",evidenceDirectionOptions:[{type:"default",value:"",label:"Please select an Assertion Direction"}].concat(k(C.evidence_direction.assertion)),helpText:"An indicator of whether the evidence statement supports or refutes the clinical significance of an event. Assertion Type must be selected before this field is enabled.",data:{attributeDefinition:"",attributeDefinitions:C.evidence_direction.assertion,updateDefinition:function(e,t,i){t.templateOptions.data.attributeDefinition=t.templateOptions.data.attributeDefinitions[i.model.evidence_type][i.model.evidence_direction]}},onChange:function(e,t,i){t.templateOptions.data.updateDefinition(e,t,i)}},expressionProperties:{"templateOptions.options":function(e,t,i){return s.filter(i.to.evidenceDirectionOptions,function(e){return!(e.type!==i.model.evidence_type&&"default"!==e.type&&"N/A"!==e.type)})},"templateOptions.disabled":'model.evidence_type === ""'}},{key:"clinical_significance",type:"horizontalSelectHelp",wrapper:"attributeDefinition",controller:["$scope","$stateParams","ConfigService","_",function(e,t,i,n){if(t.clinicalSignificance&&t.evidenceType){var a=t.evidenceType,s=t.clinicalSignificance,o=n.keys(i.evidenceAttributeDescriptions.clinical_significance.assertion[a]);n.includes(o,s)&&(e.model.clinical_significance=t.clinicalSignificance,e.to.data.attributeDefinition=e.to.data.attributeDefinitions[s])}}],templateOptions:{label:"Clinical Significance",required:!0,value:"vm.newEvidence.clinical_significance",clinicalSignificanceOptions:[{type:"default",value:"",label:"Please select a Clinical Significance"}].concat(k(C.clinical_significance.assertion)),ngOptions:'option["value"] as option["label"] for option in to.options',options:[{type:"default",value:"",label:"Please select a Clinical Significance"}].concat(k(C.clinical_significance.assertion)),helpText:"Positive or negative association of the Variant with predictive, prognostic, diagnostic, or predisposing assertion types. If the variant was not associated with a positive or negative outcome, N/A should be selected. Assertion Type must be selected before this field is enabled.",data:{attributeDefinition:"Please choose Assertion Type before selecting Clinical Significance.",attributeDefinitions:S(C.clinical_significance.assertion),updateDefinition:function(e,t,i){t.templateOptions.data.attributeDefinition=t.templateOptions.data.attributeDefinitions[i.model.clinical_significance]}},onChange:function(e,t,i){t.templateOptions.data.updateDefinition(e,t,i)}},expressionProperties:{"templateOptions.options":function(e,t,i){return s.filter(i.to.clinicalSignificanceOptions,function(e){return!(e.type!==i.model.evidence_type&&"default"!==e.type&&"N/A"!==e.type)})},"templateOptions.disabled":'model.evidence_type === ""'}},{key:"drugs",type:"multiInput",templateOptions:{label:"Drug Name(s)",entityName:"Drug",showAddButton:!0,addFormTemplate:"components/forms/fieldTypes/multiInputAddDrugForm.tpl.html",inputOptions:{type:"typeahead",wrapper:null,templateOptions:{typeahead:"item.name for item in options.data.typeaheadSearch($viewValue)",templateUrl:"components/forms/fieldTypes/drugTypeahead.tpl.html",onSelect:"options.data.pushNew(model, index)",editable:!1},data:{pushNew:function(e,t){e.splice(t+1,0,"")},typeaheadSearch:function(e){return b.query(e).then(function(e){return s.map(e,function(e){return e.aliases.length>0?(e.alias_list=e.aliases.join(", "),e.alias_list.length>70&&(e.alias_list=s.truncate(e.alias_list,70))):e.alias_list="--",e})})}}},helpText:_["Drug Names"]},hideExpression:function(e,t,i){return"Predictive"!==i.model.evidence_type}},{key:"drug_interaction_type",type:"horizontalSelectHelp",wrapper:"attributeDefinition",templateOptions:{label:"Drug Interaction Type",required:!0,options:[{type:"default",value:null,label:"Please select a Drug Interaction Type"}].concat(I(C.drug_interaction_type)),valueProp:"value",labelProp:"label",helpText:_["Drug Interaction Type"],data:{attributeDefinition:"&nbsp;",attributeDefinitions:C.drug_interaction_type},onChange:function(e,t){t.templateOptions.data.attributeDefinition=t.templateOptions.data.attributeDefinitions[e]}},hideExpression:function(e,t,i){return!("Predictive"===i.model.evidence_type&&s.without(i.model.drugs,"").length>1)}},{key:"amp_level",type:"horizontalSelectHelp",wrapper:"attributeDefinition",templateOptions:{label:"AMP/ASCO/CAP Category",options:[{value:"",label:"Please select an AMP/ASCO/CAP Category"}].concat(I(E)),valueProp:"value",labelProp:"label",helpText:'If applicable, please provide the <a href="http://www.ncbi.nlm.nih.gov/pubmed/27993330" target="_blank">AMP/ASCO/CAP somatic variant classification</a>.',data:{attributeDefinition:"&nbsp;",attributeDefinitions:x.ampLevels},onChange:function(e,t){t.templateOptions.data.attributeDefinition=t.templateOptions.data.attributeDefinitions[e]}},hideExpression:function(e,t,i){return"Predisposing"===i.model.evidence_type}},{key:"phenotypes",type:"multiInput",templateOptions:{label:"Associated Phenotypes",entityName:"Phenotype",showAddButton:!1,inputOptions:{type:"typeahead",wrapper:null,templateOptions:{typeahead:"item.name for item in options.data.typeaheadSearch($viewValue)",templateUrl:"components/forms/fieldTypes/hpoTypeahead.tpl.html",onSelect:"options.data.pushNew(model, index)",editable:!0},data:{pushNew:function(e,t){e.splice(t+1,0,"")},typeaheadSearch:function(e){return f.query(e).then(function(e){return s.map(e,function(e){return{id:e.hpo_id,name:e.hpo_class}})})}}},helpText:_.Phenotypes}},{key:"acmg_codes",type:"multiInput",templateOptions:{label:"ACMG/AMP Code(s)",entityName:"ACMG/AMP Code",showAddButton:!1,data:{message:""},inputOptions:{type:"typeahead",wrapper:["acmgDescription"],templateOptions:{formatter:"model[options.key].name",typeahead:"item as item.code for item in options.data.typeaheadSearch($viewValue)",onSelect:"options.data.pushNew(model, index, to)",typeaheadMinLength:1,selectOnBlur:!0,data:{message:""},controller:function(e){controller.log("acmg_codes input controller instantiated")}},data:{pushNew:function(e,t,i){i.data.message=e[t].description,e.splice(t+1,0,"")},typeaheadSearch:function(e){return c.queryAcmgCodes(e).then(function(e){return e})}}}},expressionProperties:{},hideExpression:function(e,t,i){return"Predisposing"!==i.model.evidence_type}},{key:"nccn_guideline",type:"horizontalTypeaheadHelp",wrapper:["loader"],templateOptions:{label:"NCCN Guideline",value:"vm.assertionEdit.nccn_guideline",editable:!1,required:!1,helpText:'If applicable, please provide cancer (e.g., Breast Cancer) and version (e.g., 5.2016) for the appropriate <a href="http://www.nccn.org/professionals/physician_gls/default.aspx#site" target="_blank">NCCN guideline</a>.',typeahead:"item as item.name for item in to.data.typeaheadSearch($viewValue)",data:{typeaheadSearch:function(e){return y.contains(e).then(function(e){return e})}}}},{key:"nccn_guideline_version",type:"horizontalInputHelp",templateOptions:{label:"NCCN Guideline Version",minLength:32,helpText:""}},{key:"fda_regulatory_approval",type:"horizontalCheckbox",templateOptions:{label:"Assertion has FDA regulatory approval.",onChange:function(e,t,i){!1===e&&(i.model.fda_companion_test=!1)}},hideExpression:function(e,t,i){return"Predictive"!==i.model.evidence_type}},{key:"fda_companion_test",type:"horizontalCheckbox",templateOptions:{label:"Assertion has FDA companion test."}},{key:"summary",type:"horizontalInputHelp",templateOptions:{label:"Summary",required:!0,minLength:24,helpText:"A short, one sentence summary of this new assertion"}},{key:"description",type:"horizontalTextareaHelp",templateOptions:{rows:8,label:"Description",required:!0,minLength:32,helpText:"A complete description of this new assertion, limited to one paragraph"}},{key:"evidence_items",type:"evidenceSelectorField",wrapper:["simpleHasError"],templateOptions:{label:"Supporting Evidence",required:!0,minLength:2,helpText:"Please use the grids to add/remove evidence items."}},{key:"text",type:"horizontalCommentHelp",model:w.assertionEdit.comment,templateOptions:{rows:5,minimum_length:3,label:"Revision Description",required:!0,value:"text",helpText:_["Revision Description"]},validators:{length:{expression:function(e,t,i){return(e||t).length>=i.to.minimum_length},message:'"Comment must be at least " + to.minimum_length + " characters long to submit."'}}}],w.switchOrg=function(e){w.assertionEdit.organization=s.find(w.currentUser.organizations,{id:e})},w.submit=function(e){var t=s.cloneDeep(e);t.drugs=s.without(t.drugs,""),t.acmg_codes=s.chain(t.acmg_codes).without("").map("code").value(),t.evidence_items=s.map(t.evidence_items,"id"),t.phenotypes=s.without(t.phenotypes,""),w.formErrors={},w.formMessages={},l.submitRevision(t).then(function(e){w.serverError=!1,w.newRevisionId=e.id,w.formMessages.submitSuccess=!0,w.showInstructions=!1,w.pendingFields=!1,w.showForm=!1,w.showSuccessMessage=!0,a.$broadcast("revisionDecision"),t.organization.id!=w.currentUser.most_recent_organization.id&&r.reloadCurrentUser()}).catch(function(e){w.serverError=!0,w.serverErrorStatus=e.status,w.serverErrorStatusTxt=e.statusText,w.serverErrorPrompt="Please correct the following errors and resubmit.",w.serverErrorMessages=e.data.errors}).finally(function(){})},w.revisionsClick=function(){n.go("events.assertions.talk.revisions.list",{assertionId:c.data.item.id})}}t.$inject=["$scope","$q","$document","$state","$rootScope","_","Publications","Security","AssertionRevisions","Assertions","AssertionHistory","AssertionsViewOptions","formConfig","ConfigService","Datatables","Genes","Diseases","Phenotypes","NccnGuidelines","DrugSuggestions"],angular.module("civic.events.assertions").directive("assertionEdit",e).controller("AssertionEditController",t)}(),function(){"use strict";function e(){}angular.module("civic.events.assertions").controller("AssertionsSummaryController",e)}(),function(){"use strict";function e(e){e.state("events.assertions.talk",{abstract:!0,url:"/talk",templateUrl:"app/views/events/assertions/talk/AssertionTalkView.tpl.html",controller:"AssertionTalkController",controllerAs:"vm",resolve:{AssertionRevisions:"AssertionRevisions",AssertionHistory:"AssertionHistory",initAssertionTalk:["Assertions","AssertionRevisions","AssertionHistory","$stateParams","$cacheFactory","$q",function(e,t,i,n,a,s){var o=n.assertionId;return s.all([e.initComments(o),t.initRevisions(o),i.initBase(o)])}]},deepStateRedirect:["assertionId"],data:{titleExp:'"Assertion " + assertion.name + " Talk"',navMode:"sub"}}).state("events.assertions.talk.log",{url:"/log",template:"<assertion-talk-log></assertion-talk-log>",data:{titleExp:'"Assertion " + assertion.name + " Log"',navMode:"sub"}}).state("events.assertions.talk.comments",{url:"/comments",template:"<assertion-talk-comments></assertion-talk-comments>",data:{titleExp:'"Assertion " + assertion.name + " Comments"',navMode:"sub"}})}function t(e,t,i){function n(){s="events.assertions.talk",a=e.href(a,t),angular.copy([{heading:"Revisions",route:s+".revisions.list",params:{assertionId:l.id}},{heading:"Comments",route:s+".comments",params:{assertionId:l.id}},{heading:"Log",route:s+".log",params:{assertionId:l.id}}],o),angular.copy({view:{summaryBackgroundColor:"pageBackground",talkBackgroundColor:"pageBackground"},tabs:{tabRowBackground:"pageBackgroundGradient"}},r)}var a="",s="",o=[],r={},l=i.data.item;return{init:n,state:{baseParams:t,baseState:s,baseUrl:a},tabData:o,styles:r}}function i(e,t,i,n,a){a.init(),this.AssertionsTalkViewModel=i,this.AssertionRevisionsModel=n,this.AssertionsTalkViewOptions=a}e.$inject=["$stateProvider"],t.$inject=["$state","$stateParams","Assertions"],i.$inject=["$scope","_","Assertions","AssertionRevisions","AssertionsTalkViewOptions"],angular.module("civic.events.assertions").config(e).factory("AssertionsTalkViewOptions",t).controller("AssertionTalkController",i)}(),function(){"use strict";function e(){return{restrict:"E",scope:{},controller:"AssertionTalkCommentsController",templateUrl:"app/views/events/assertions/talk/assertionTalkComments.tpl.html"}}function t(e,t){(e.ctrl={}).assertionTalkModel=t}t.$inject=["$scope","Assertions"],angular.module("civic.events.assertions").controller("AssertionTalkCommentsController",t).directive("assertionTalkComments",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{},controller:"AssertionTalkLogController",templateUrl:"app/views/events/assertions/talk/assertionTalkLog.tpl.html"}}function t(e,t,i,n,a){var s,o,r,l=e.ctrl={};e.comments=i.data.comments,e.revisions=n.data.collection,e.history=a.data.collection,e.$watchCollection("[comments, revisions, history]",function(e){s=t.merge({},e[0]),o=t.merge({},e[1]),r=t.merge({},e[2]),s=t.map(s,function(e){return e.type="comment",e}),o=t.map(o,function(e){return e.type="revision",e}),r=t.map(r,function(e){return e.type="history",e}),l.logItems=s.concat(o,r),l.logItems=t.chain(l.logItems).map(function(e){return e.username="object"==typeof e.user?e.user.username:e.user,e.timestamp=t.has(e,"updated_at")?e.updated_at:e.created_at,e}).sortBy(function(e){return new Date(e.timestamp)}).reverse().value()})}t.$inject=["$scope","_","Assertions","AssertionRevisions","AssertionHistory"],angular.module("civic.events.assertions").controller("AssertionTalkLogController",t).directive("assertionTalkLog",e)}(),function(){"use strict";function e(e,t,i,n,a,s){var o=e.vm={};o.assertion=a.data.item,o.myVariantInfo=a.data.myVariantInfo,o.currentUser=null,n.reloadCurrentUser().then(function(t){o.currentUser=t,o.actionOrg=o.currentUser.most_recent_organization;var s;n.currentUser&&(s=n.currentUser.id);var r=i.isUndefined(o.assertion.lifecycle_actions.submitted)?null:o.assertion.lifecycle_actions.submitted.user.id,l=o.ownerIsCurrentUser=r===s;e.$watchGroup([function(){return a.data.item.status},function(){return n.currentUser?n.currentUser.conflict_of_interest.coi_valid:void 0}],function(e){var t=e[0],i=e[1],a="submitted"===t,s="conflict"===i||"valid"===i,r=n.isEditor()||n.isAdmin();o.showModeration=a&&(r&&s||l),o.showCoiNotice=a&&!o.showModeration&&r})}),o.switchOrg=function(e){o.actionOrg=i.find(o.currentUser.organizations,{id:e})},o.AssertionsViewOptions=s,o.backgroundColor=s.styles.view.backgroundColor,o.phenotypesStr="";var r={A:"Validated",B:"Clinical",C:"Case Study",D:"Preclinical",E:"Inferential"};e.$watch("vm.assertion",function(e){e.drugs.length>0?e.drugsStr=i.chain(e.drugs).map(function(e){return e.ncit_id?'<a href="https://ncit.nci.nih.gov/ncitbrowser/ConceptReport.jsp?dictionary=NCI_Thesaurus&ns=ncit&code='+e.ncit_id+'" target="_blank">'+e.name+"</a>":e.name}).value().join(", "):e.drugsStr="--",e.phenotypes.length>0?e.phenotypesStr=i.chain(e.phenotypes).sortBy("hpo_class").map(function(e){return'<a href="'+e.url+'" target="_blank">'+e.hpo_class+"</a>"}).value().join(", "):e.phenotypesStr="--",i.each(e.evidence_items,function(e){e.evidence_level_string=e.evidence_level+" - "+r[e.evidence_level],e.drugs.length>0?e.drugsStr=i.chain(e.drugs).map("name").value().join(", "):e.drugsStr="--",e.phenotypes.length>0?e.phenotypesStr=i.chain(e.phenotypes).sortBy("hpo_class").map(function(e){return'<a href="'+e.url+'" target="_blank">'+e.hpo_class+"</a>"}).value().join(", "):e.phenotypesStr="--"})},!0),o.acceptItem=function(e){t.debug("accept item "+e),a.accept(e,o.actionOrg).then(function(e){t.debug("Accept success."),t.debug(e),o.actionOrg.id!=o.currentUser.most_recent_organization.id&&n.reloadCurrentUser()}).catch(function(e){t.error("Ooops! There was an error accepting this evidence item."),t.error(e)}).finally(function(){t.debug("Accept Item done.")})},o.rejectItem=function(e){t.debug("reject item "+e),a.reject(e,o.actionOrg).then(function(e){t.debug("Reject success."),t.debug(e),o.actionOrg.id!=o.currentUser.most_recent_organization.id&&n.reloadCurrentUser()}).catch(function(e){t.error("Ooops! There was an error rejecting this evidence item."),t.error(e)}).finally(function(){t.debug("Reject Item done.")})}}e.$inject=["$scope","$log","_","Security","Assertions","AssertionsViewOptions"],angular.module("civic.events.assertions").controller("AssertionSummaryController",e).directive("assertionSummary",function(){return{restrict:"E",scope:{},controller:"AssertionSummaryController",templateUrl:"app/views/events/assertions/summary/components/assertionSummaryCmp.tpl.html"}})}(),function(){"use strict";function e(e){e.state("events.assertions.talk.revisions",{abstract:!0,url:"/revisions",templateUrl:"app/views/events/assertions/talk/revisions/AssertionTalkRevisionsView.tpl.html",controller:"AssertionTalkRevisionsController",controllerAs:"vm",resolve:{AssertionRevisions:"AssertionRevisions",AssertionHistory:"AssertionHistory",initAssertionTalkRevisions:["Assertions","AssertionRevisions","AssertionHistory","$stateParams","$q",function(e,t,i,n,a){var s=n.assertionId;return a.all([t.initRevisions(s),i.initBase(s)])}]},deepStateRedirect:["assertionId","revisionId"],data:{titleExp:'"Assertion " + assertion.name + " Talk"',navMode:"sub"}}).state("events.assertions.talk.revisions.list",{url:"/list/:revisionId",template:"<assertion-talk-revisions></assertion-talk-revisions>",resolve:{initRevisionList:["AssertionRevisions","$stateParams",function(e,t){return e.query(t.assertionId)}]},data:{titleExp:'"Assertion " + assertion.name + " Revisions"',navMode:"sub"}}).state("events.assertions.talk.revisions.list.summary",{url:"/summary",template:"<assertion-talk-revision-summary></assertion-talk-revision-summary>",resolve:{initRevision:["AssertionRevisions","$stateParams","$q",function(e,t,i){return i.all([e.get(t.assertionId,t.revisionId),e.queryComments(t.assertionId,t.revisionId)])}]},data:{titleExp:'"Assertion " + assertion.name + " Revision Summary"',navMode:"sub"}})}function t(e,t){function i(){a="events.assertions.talk.revisions",n=e.href(n,t),angular.copy({view:{summaryBackgroundColor:"pageBackground",talkBackgroundColor:"pageBackground"},tabs:{tabRowBackground:"pageBackground2Gradient"}},s)}var n="",a="",s={};return{init:i,state:{baseParams:t,baseState:a,baseUrl:n},styles:s}}function i(e,i,n){n.init(),this.AssertionRevisionsModel=i,this.AssertionTalkRevisionsViewOptions=t}e.$inject=["$stateProvider"],t.$inject=["$state","$stateParams"],i.$inject=["Assertions","AssertionRevisions","AssertionTalkRevisionsRevisionsViewOptions"],angular.module("civic.events.assertions").config(e).factory("AssertionTalkRevisionsViewOptions",t).controller("AssertionTalkRevisionsController",i)}(),function(){"use strict";function e(){return{restrict:"E",replace:!0,templateUrl:"app/views/events/assertions/talk/revisions/assertionTalkRevisionSummary.tpl.html",controller:"AssertionTalkRevisionSummaryController"}}function t(e,t,i,n,a,s){var o=e.vm={};o.assertionTalkModel=i,o.formErrors={},o.formMessages={},o.errorMessages=a.errorMessages,o.errorPrompts=a.errorPrompts,n.reloadCurrentUser().then(function(e){o.currentUser=e,o.isEditor=n.isEditor,o.isAdmin=n.isAdmin,o.isAuthenticated=n.isAuthenticated;var t;n.currentUser&&(t=n.currentUser.id);var a=i.data.item.user.id;o.ownerIsCurrentUser=a===t;o.disabled_text=o.isEditor()||o.isAdmin()?"Contributors may not accept their own suggested revisions.":"Suggested revisions must be approved by an editor.",o.actionOrg=o.currentUser.most_recent_organization}),e.$watchGroup([function(){return i.data.item.status},function(){return n.currentUser?n.currentUser.conflict_of_interest.coi_valid:void 0}],function(e){var t=e[0],i=e[1],a="new"===t,s="conflict"===i||"valid"===i,r=n.isEditor()||n.isAdmin();o.showModeration=a&&(r&&s||ownerIsCurrentUser),o.showCoiNotice=a&&!o.showModeration&&r}),o.switchOrg=function(e){o.actionOrg=_.find(o.currentUser.organizations,{id:e})},o.acceptRevision=function(){o.formErrors={},o.formMessages={},i.acceptRevision(t.assertionId,t.revisionId,o.actionOrg).then(function(){o.formMessages.acceptSuccess=!0,s.$broadcast("revisionDecision"),o.actionOrg.id!=o.currentUser.most_recent_organization.id&&n.reloadCurrentUser()}).catch(function(e){o.formErrors[e.status]=!0}).finally(function(){})},o.rejectRevision=function(){o.formErrors={},o.formMessages={},i.rejectRevision(t.assertionId,t.revisionId,o.actionOrg).then(function(){o.formMessages.rejectSuccess=!0,s.$broadcast("revisionDecision"),o.actionOrg.id!=o.currentUser.most_recent_organization.id&&n.reloadCurrentUser()}).catch(function(e){o.formErrors[e.status]=!0}).finally(function(){})}}t.$inject=["$scope","$stateParams","AssertionRevisions","Security","formConfig","$rootScope"],angular.module("civic.events.assertions").directive("assertionTalkRevisionSummary",e).controller("AssertionTalkRevisionSummaryController",t)}(),function(){"use strict";function e(){return{restrict:"E",scope:{},controller:"AssertionTalkRevisionsController",templateUrl:"app/views/events/assertions/talk/revisions/assertionTalkRevisions.tpl.html"}}function t(e,t,i){e.assertionRevisions=t,e.viewOptions=i}t.$inject=["$scope","AssertionRevisions","AssertionsTalkViewOptions"],angular.module("civic.events.assertions").controller("AssertionTalkRevisionsController",t).directive("assertionTalkRevisions",e)}(),function(){"use strict";function e(e){e.state("events.genes.summary.variants",{abstract:!0,url:"/variants/:variantId",templateUrl:"app/views/events/variants/VariantsView.tpl.html",resolve:{Variants:"Variants",initVariant:["Variants","$stateParams",function(e,t){return e.initBase(t.variantId)}]},controller:"VariantsController",controllerAs:"vm",deepStateRedirect:{params:["variantId"]}}).state("events.genes.summary.variants.summary",{url:"/summary",template:'<variant-summary show-evidence-grid="true"></variant-summary>',resolve:{refreshVariant:["Variants","$stateParams",function(e,t){return e.get(t.variantId)}]},data:{navMode:"sub",titleExp:'"Variant " + variant.name'}})}function t(e,t){function i(){angular.copy(t,this.state.baseParams),this.state.baseState="events.genes.summary.variants",this.state.baseUrl=e.href(this.state.baseState,t),angular.copy([{heading:"Variant Summary",route:"events.genes.summary.variants.summary",params:{geneId:t.geneId,variantId:t.variantId,"#":"variant"}},{heading:"Variant Talk",route:"events.genes.summary.variants.talk.revisions.list",params:{geneId:t.geneId,variantId:t.variantId,"#":"variant"}}],this.tabData),angular.copy({view:{backgroundColor:"pageBackground"},edit:{summaryBackgroundColor:"pageBackground2"}},this.styles)}return{init:i,state:{baseParams:{},baseState:"",baseUrl:""},tabData:[],styles:{}}}function i(e,t,i){i.init(),this.VariantsViewModel=e,this.VariantsViewRevisions=t,this.VariantsViewOptions=i}e.$inject=["$stateProvider"],t.$inject=["$state","$stateParams"],i.$inject=["Variants","VariantRevisions","VariantsViewOptions"],angular.module("civic.events.variants").config(e).factory("VariantsViewOptions",t).controller("VariantsController",i)}(),function(){"use strict";function e(e){e.state("events.genes.summary.variants.edit",{abstract:!0,url:"/edit",templateUrl:"app/views/events/variants/edit/VariantEditView.tpl.html",controller:"VariantEditController",controllerAs:"vm",resolve:{VariantRevisions:"VariantRevisions",initVariantEdit:["Variants","VariantRevisions","VariantHistory","$stateParams","$q",function(e,t,i,n,a){var s=n.variantId;return a.all([t.initRevisions(s),t.getPendingFields(s),i.initBase(s)])}]},deepStateRedirect:["variantId"],data:{titleExp:'"Variant " + variant.name + " Edit"',navMode:"sub"}}).state("events.genes.summary.variants.edit.basic",{url:"/basic",template:"<variant-edit-basic></variant-edit-basic>",data:{titleExp:'"Variant " + variant.name + " Edit"',navMode:"sub"}})}function t(e,t){function i(){this.state.baseState="events.genes.summary.variants.edit",this.state.baseUrl=e.href(this.state.baseUrl,t),angular.copy({view:{summaryBackgroundColor:"pageBackground2",editBackgroundColor:"pageBackground",talkBackgroundColor:"pageBackground"},tabs:{tabRowBackground:"pageBackground2Gradient"}},n)}var n={};return{init:i,state:{baseParams:t,baseState:"",baseUrl:""},styles:n}}function i(e,t,i){i.init(),this.VariantEditViewModel=e,this.VariantRevisionsModel=t,this.VariantEditViewOptions=i}e.$inject=["$stateProvider"],t.$inject=["$state","$stateParams"],i.$inject=["Variants","VariantRevisions","VariantEditViewOptions"],angular.module("civic.events.variants").config(e).factory("VariantEditViewOptions",t).controller("VariantEditController",i)}(),function(){"use strict";function e(){return{restrict:"E",scope:{},controller:"VariantEditBasicController",templateUrl:"app/views/events/variants/edit/variantEditBasic.tpl.html"}}function t(e,t,i,n,a,s,o,r,l,c,d,u,p,m,v){var g,h;h=e.vm={},g=h.variantModel=r,h.variant=r.data.item,h.pendingFields=m.keys(o.data.pendingFields).length>0,h.pendingFieldsList=m.map(m.keys(o.data.pendingFields),function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),h.variantRevisions=o,h.variantHistory=l,h.variantEdit=angular.copy(m.omit(h.variant,["evidence_items","lifecycle_actions"])),h.variantEdit.comment={title:"VARIANT "+h.variant.name+" Suggested Revision",text:""},h.variantEdit.sources=m.map(h.variant.sources,"citation_id"),h.variantEdit.noClinVar=!1,h.myVariantInfo=g.data.myVariantInfo,h.variants=g.data.variants,h.variantGroups=g.data.variantGroups,s.reloadCurrentUser().then(function(e){h.currentUser=e,h.isEditor=s.isEditor(),h.isAdmin=s.isAdmin(),h.isAuthenticated=s.isAuthenticated(),h.variantEdit.organization=h.currentUser.most_recent_organization}),h.styles=c.styles,h.user={},h.formErrors={},h.formMessages={},h.errorMessages=p.errorMessages,h.errorPrompts=p.errorPrompts,h.serverMsg="",h.newRevisionId=Number(),h.stateParams=t,h.showForm=!0,h.showSuccessMessage=!1,h.showInstructions=!0,h.chromosome_dropdown=u.valid_chromosomes.slice(),h.chromosome_dropdown.unshift({type:"default",value:null,name:"Please select a chromosome"}),i.ready(function(){var e=document.getElementById("variant-edit-form");i.scrollToElementAnimated(e)}),h.variantFields=[{key:"name",type:"horizontalInputHelp",templateOptions:{label:"Name",value:h.variant.name,helpText:""}},{key:"description",type:"horizontalTextareaHelp",templateOptions:{rows:8,label:"Summary",value:"vm.variant.description",minLength:32,helpText:'User-defined summary of the clinical relevance of this Variant. The Variant Summary should be a synthesis of the existing Evidence Statements for this variant. Basic information on recurrence rates and biological/functional impact of the Variant may be included, but the focus should be on the clinical impact (i.e. predictive, prognostic, diagnostic, or predisposing relevance). By submitting content to CIViC you agree to release it to the public domain as described by the <a href="https://creativecommons.org/publicdomain/zero/1.0/" title="CreativeCommons.org CC0 license" target="_blank">Creative Commons Public Domain Dedication (CC0 1.0 Universal)</a>.'}},{key:"variant_aliases",type:"multiInput",templateOptions:{label:"Aliases",entityName:"Alias",showAddButton:!1,helpText:"Please specify any aliases commonly used to refer to this variant.",required:!1,inputOptions:{type:"basicInput",wrapper:"",templateOptions:{label:"",minLength:1,required:!0}}}},{key:"hgvs_expressions",type:"multiInput",templateOptions:{label:"HGVS Descriptions",required:!1,entityName:"Description",showAddButton:!1,helpText:"Please specify any HGVS descriptions for this variant.",inputOptions:{type:"basicInput",wrapper:"",templateOptions:{label:"",minLength:1,required:!0}}}},{key:"clinvar_entries",type:"multiInput",templateOptions:{label:"ClinVar IDs",required:!1,helpText:"Please specify any corresponding ClinVar identifiers for this variant.",entityName:"ID",showAddButton:!1,inputOptions:{type:"basicInput",wrapper:"",templateOptions:{label:"",minLength:1,required:!0}}},hideExpression:"model.noClinVar",expressionProperties:{"templateOptions.disabled":"model.noClinVar === true","templateOptions.required":"model.noClinVar === false"}},{key:"noClinVar",type:"horizontalCheckbox",templateOptions:{label:"Could not locate ClinVar ID"},controller:["$scope",function(e){var t=e.model.clinvar_entries;null===t[0]||1!==t.length||/^\d+$/.test(t[0])||(e.model.noClinVar=!0)}],hideExpression:"model.clinvar_entries.length > 1"},{key:"clinvar_entries[0]",type:"horizontalSelectHelp",wrapper:"attributeDefinition",templateOptions:{label:"ClinVar Absence",value:h.variantEdit.clinvar_entries[0],ngOptions:'option["value"] as option["label"] for option in to.options',options:[{type:"default",value:null,label:"Please select a reason for ClinVar ID absence"},{
value:"NONE FOUND",label:"None found"},{value:"N/A",label:"Not applicable"}],helpText:"If a ClinVar ID cannot be found, please select the best reason for its absence.",onChange:function(e,t){t.templateOptions.data.attributeDefinition=t.templateOptions.data.attributeDefinitions[t.value()]},data:{attributeDefinition:"&nbsp;",attributeDefinitions:{null:"&nbsp;",undefined:"&nbsp;","N/A":'ClinVar record is not applicable to the variant (e.g. "Overexpression" variants)',"NONE FOUND":"An attempt was made to find a matching ClinVar Entry, but none exists","NONE SPECIFIED":"Variant has not been evaluated for a ClinVar ID"}}},controller:["$scope",function(e){var t=e.model.clinvar_entries;(t.length>1||!m.includes(["N/A","NOT FOUND","NONE SPECIFIED"],t[0]))&&(e.model.clinvar_entries=[null]),null===t[0]&&void 0===t[0]||(e.to.data.attributeDefinition=e.to.data.attributeDefinitions[t[0]])}],hideExpression:"!model.noClinVar",expressionProperties:{"templateOptions.disabled":"model.noClinVar === false","templateOptions.required":"model.noClinVar === true"}},{key:"sources",type:"multiInput",templateOptions:{label:"Sources",helpText:"Please specify the Pubmed IDs of any sources used as references in the Variant Summary.",entityName:"Source",showAddButton:!1,inputOptions:{type:"publication-multi",templateOptions:{label:"Pubmed Id",minLength:1,required:!0,data:{citation:"--"}},modelOptions:{updateOn:"default blur",allowInvalid:!1,debounce:{default:300,blur:0}},validators:{validPubmedId:{expression:function(e,t,i){if(e.length>0){var n=a.defer();i.options.templateOptions.loading=!0;var s={citationId:e,sourceType:"PubMed"};return d.verify(s).then(function(e){i.options.templateOptions.loading=!1,i.options.templateOptions.data.citation=e.citation,n.resolve(e)},function(e){i.options.templateOptions.loading=!1,i.options.templateOptions.data.description="--",n.reject(e)}),n.promise}return i.options.templateOptions.data.description="--",!0},message:'"This does not appear to be a valid Pubmed ID."'}}}}},{key:"variant_types",type:"multiInput",templateOptions:{label:"Variant Type(s)",helpText:'Add one or more variant types from the <a href="http://www.sequenceontology.org/browser/" title="Opens a new tab for the Sequence Ontology Browser" target="_blank">Sequence Ontology</a> (e.g., missense, loss-of-function). Please be specific as possible, avoid the addition of root concepts, and use the <i>sequence_variant</i> tree of the sequence ontology.',entityName:"Type",showAddButton:!1,inputOptions:{type:"typeahead",wrapper:["simpleHasError","validationMessages"],templateOptions:{formatter:"model[options.key].display_name",typeahead:"item as item.display_name for item in to.data.typeaheadSearch($viewValue)",templateUrl:"components/forms/fieldTypes/variantTypeTypeahead.tpl.html",editable:!1,data:{typeaheadSearch:function(e){var t={count:25,page:0,name:e};return r.queryVariantTypes(t).then(function(e){return m.map(e.records,function(e){return e})})},redundancy:{}}},asyncValidators:{conflict:{expression:function(e,t,i){var n=a.defer();if(m.isEmpty(t)||i.model.length<2)n.resolve(!0);else{var s=m(i.model).map("id").compact().value(),o=m.pullAt(s,m.indexOf(s,t.id));r.queryVariantTypeRelationships({existing_variant_type_ids:s,new_variant_type_id:o[0]}).then(function(e){if(m.isEmpty(e))n.resolve("Variant type has no conflicts.");else{var a=e[0];"none"===a.relationship?n.resolve(!0):(i.to.data.redundancy=a,"is"===a.relationship?i.to.data.redundancyMsg=a.variant_type.display_name+" is already specified as a variant type.":i.to.data.redundancyMsg=t.display_name+" is a "+a.relationship+" of "+a.variant_type.display_name+".",n.reject("Variant type conflicts with an existing type."))}})}return n.promise},message:"to.data.redundancyMsg"}}}}},{template:'<h3 class="form-subheader">Primary Coordinates</h3><hr/>'},{model:h.variantEdit.coordinates,key:"reference_build",type:"horizontalSelectHelp",templateOptions:{label:"Reference Build",value:h.variantEdit.coordinates.reference_build,ngOptions:'option["value"] as option["label"] for option in to.options',options:[{type:"default",value:null,label:"Please select a Reference Build"},{value:"GRCh38",label:"GRCh38 (hg38)"},{value:"GRCh37",label:"GRCh37 (hg19)"},{value:"NCBI36",label:"NCBI36 (hg18)"}],helpText:"Version of the human genome reference sequence from which coordinates will be obtained."}},{model:h.variantEdit.coordinates,key:"ensembl_version",type:"horizontalInputHelp",templateOptions:{label:"Ensembl Version",value:h.variantEdit.coordinates.ensembl_version,helpText:"Ensembl database version (e.g. 75)."}},{model:h.variantEdit.coordinates,key:"chromosome",type:"horizontalSelectHelp",templateOptions:{label:"Chromosome",value:h.variantEdit.coordinates.chromosome,ngOptions:'option["value"] as option["name"] for option in to.options',options:h.chromosome_dropdown,helpText:"Chromosome in which this variant occurs (e.g. 17)."}},{model:h.variantEdit.coordinates,key:"start",type:"horizontalInputHelp",templateOptions:{label:"Start",value:h.variantEdit.coordinates.start,helpText:"Left/first coordinate of the variant. Must be <= the Stop coordinate. Must be compatible with the selected reference build."}},{model:h.variantEdit.coordinates,key:"stop",type:"horizontalInputHelp",templateOptions:{label:"Stop",value:h.variantEdit.coordinates.stop,helpText:"Right/second coordinate of the variant. Must be >= the Start coordinate."}},{model:h.variantEdit.coordinates,key:"reference_bases",type:"horizontalInputHelp",templateOptions:{label:"Reference Base(s)",value:h.variantEdit.coordinates.reference_bases,helpText:"The nucleotide(s) of the reference genome affected by the variant. Only used for SNVs and Indels (otherwise leave blank)."}},{model:h.variantEdit.coordinates,key:"variant_bases",type:"horizontalInputHelp",templateOptions:{label:"Variant Base(s)",value:h.variantEdit.coordinates.variant_bases,helpText:"The nucleotide(s) of the variant allele. Only used for SNVs and Indels (otherwise leave blank)."}},{model:h.variantEdit.coordinates,key:"representative_transcript",type:"horizontalInputHelp",templateOptions:{label:"Representative Transcript",value:h.variantEdit.coordinates.representative_transcript,helpText:"Transcript ID including version number (e.g. ENST00000348159.4, the canonical transcript defined by Ensembl)."}},{template:'<h3 class="form-subheader">Secondary Coordinates <span class="small">(for fusions)</span></h3><hr/>'},{model:h.variantEdit.coordinates,key:"chromosome2",type:"horizontalSelectHelp",templateOptions:{label:"Chromosome2",value:h.variantEdit.coordinates.chromosome2,ngOptions:'option["value"] as option["name"] for option in to.options',options:h.chromosome_dropdown,helpText:"If this variant is a fusion (e.g. BCR-ABL1), specify the chromosome name, coordinates, and representative transcript for the 3-prime partner."}},{model:h.variantEdit.coordinates,key:"start2",type:"horizontalInputHelp",templateOptions:{label:"Start 2",value:h.variantEdit.coordinates.start2,helpText:""}},{model:h.variantEdit.coordinates,key:"stop2",type:"horizontalInputHelp",templateOptions:{label:"Stop 2",value:h.variantEdit.coordinates.stop2,helpText:""}},{model:h.variantEdit.coordinates,key:"representative_transcript2",type:"horizontalInputHelp",templateOptions:{label:"Representative Transcript 2",value:h.variantEdit.coordinates.representative_transcript2,helpText:""}},{template:"<hr/>"},{key:"text",type:"horizontalCommentHelp",model:h.variantEdit.comment,templateOptions:{rows:5,minimum_length:3,required:!0,label:"Revision Description",value:"text",helpText:"Please provide a brief description and support, if necessary, for your suggested revision. It will appear as the first comment in this revision's comment thread."},validators:{length:{expression:function(e,t,i){return(e||t).length>=i.to.minimum_length},message:'"Comment must be at least " + to.minimum_length + " characters long to submit."'}}}],h.switchOrg=function(e){h.variantEdit.organization=m.find(h.currentUser.organizations,{id:e})},h.submit=function(e){e.variantId=e.id,e.variant_types=m.map(e.variant_types,"id"),h.formErrors={},h.formMessages={},e=m.merge(e,e.coordinates),delete e.coordinates,o.submitRevision(e).then(function(t){h.newRevisionId=t.id,h.formMessages.submitSuccess=!0,h.showInstructions=!1,h.pendingFields=!1,h.showForm=!1,h.showSuccessMessage=!0,v.$broadcast("revisionDecision"),e.organization.id!=h.currentUser.most_recent_organization.id&&s.reloadCurrentUser()}).catch(function(e){h.formErrors[e.status]=!0,h.serverMsg=e.data.error}).finally(function(){})},h.apply=function(e){e.variantId=e.id,h.formErrors={},h.formMessages={},r.apply(e).then(function(){h.formMessages.applySuccess=!0,e.organization.id!=h.currentUser.most_recent_organization.id&&s.reloadCurrentUser()}).catch(function(e){h.formErrors[e.status]=!0}).finally(function(){})},h.revisionsClick=function(){n.go("events.genes.summary.variants.talk.revisions.list",{variantId:r.data.item.id})}}t.$inject=["$scope","$stateParams","$document","$state","$q","Security","VariantRevisions","Variants","VariantHistory","VariantsViewOptions","Publications","ConfigService","formConfig","_","$rootScope"],angular.module("civic.events.variants").directive("variantEditBasic",e).controller("VariantEditBasicController",t)}(),function(){"use strict";function e(e,t,i){var n=e.ctrl={};n.variantInfo=e.variantInfo,n.variantInfo.entrez_id=e.entrezId;var a=["cadd.consdetail","cadd.consequence","clinvar.hgvs.coding","clinvar.hgvs.genomic","clinvar.hgvs.non-coding","emv.hgvs","clinvar.rcv","exac.ac.ac_adj","exac.an.an_adj","snpeff.ann","gnomad_exome.filter","dbnsfp.interpro_domain","dbnsfp.sift.pred","dbnsfp.sift.score","dbnsfp.polyphen2.hdiv.pred","dbnsfp.polyphen2.hdiv.score","dbnsfp.polyphen2.hvar.pred","dbnsfp.polyphen2.hvar.score","dbnsfp.mutationtaster.pred","dbnsfp.mutationtaster.score","dbnsfp.mutationassessor.pred","dbnsfp.mutationassessor.score","dbnsfp.fathmm.pred","dbnsfp.fathmm.score","dbnsfp.provean.pred","dbnsfp.provean.score"];i.each(a,function(e){var t=i.get(n.variantInfo,e);i.isUndefined(t)||i.isArray(t)||i.set(n.variantInfo,e,[t])}),i.isUndefined(n.variantInfo.exac)||i.isUndefined(n.variantInfo.exac.an)||i.isUndefined(n.variantInfo.exac.ac)||(n.variantInfo.exac.adj_allele_freq=i.round(n.variantInfo.exac.ac.ac_adj[0]/n.variantInfo.exac.an.an_adj[0],5));var s,o,r,l;!i.isUndefined(n.variantInfo.gnomad_exome)&&i.isUndefined(n.variantInfo.gnomad_genome)?(s=n.variantInfo.gnomad_exome.af.af,o=i.round(s,5),n.variantInfo.gnomad_adj_allele_freq=o,n.variantInfo.gnomad_adj_af_tooltip="Exome Allele Freq: "+s+"</br> Genome Allele Freq: --"):!i.isUndefined(n.variantInfo.gnomad_genome)&&i.isUndefined(n.variantInfo.gnomad_exome)?(r=n.variantInfo.gnomad_genome.af.af,l=i.round(r,5),n.variantInfo.gnomad_adj_allele_freq=l,n.variantInfo.gnomad_adj_af_tooltip="Exome Allele Freq: --</br>Genome Allele Freq: "+r):i.isUndefined(n.variantInfo.gnomad_exome)||i.isUndefined(n.variantInfo.gnomad_genome)||(s=n.variantInfo.gnomad_exome.af.af,r=n.variantInfo.gnomad_genome.af.af,n.variantInfo.gnomad_adj_allele_freq=i.round((n.variantInfo.gnomad_exome.ac.ac+n.variantInfo.gnomad_genome.ac.ac)/(n.variantInfo.gnomad_exome.an.an+n.variantInfo.gnomad_genome.an.an),5),n.variantInfo.gnomad_adj_af_tooltip="Exome Allele Freq: "+s+"</br>Genome Allele Freq: "+r),i.isUndefined(n.variantInfo.cosmic)||(n.variantInfo.cosmic.cosmic_id_short=i.trim(n.variantInfo.cosmic.cosmic_id,"COSM")),i.isUndefined(n.variantInfo.snpeff)||i.isUndefined(n.variantInfo.snpeff.ann[0])||i.isUndefined(n.variantInfo.snpeff.ann[0])||(n.variantInfo.snpeff.ann[0].effect=n.variantInfo.snpeff.ann[0].effect.replace(/_/g," "),n.variantInfo.snpeff.ann[0].effect=n.variantInfo.snpeff.ann[0].effect.replace(/&/g,", ")),n.popupOptions={template:"app/views/events/variants/summary/myVariantInfoDialog.tpl.html",scope:e},n.openDialog=function(){return i.has(n.dialog,"id")?n.closeDialog().then(function(){n.dialog=t.open(n.popupOptions)}):n.dialog=t.open(n.popupOptions),n.dialog},n.closeDialog=function(){return n.dialog.close(),n.dialog.closePromise.then(function(){i.omit(n,"dialog")})}}e.$inject=["$scope","ngDialog","_"],angular.module("civic.events.variants").controller("MyVariantInfoController",e).directive("myVariantInfo",function(){return{restrict:"E",scope:{variantInfo:"=",entrezId:"="},controller:"MyVariantInfoController",templateUrl:"app/views/events/variants/summary/myVariantInfo.tpl.html"}})}(),function(){"use strict";function e(e,t,i,n,a,s,o){e.isAuthenticated=a.isAuthenticated,e.isEdit=t.includes("**.edit.**"),e.stateParams=i,e.hasHiddenAssertions=!1,e.variant=function(t){return!n.isUndefined(t.assertions)&&t.assertions.length>0&&(n.each(t.assertions,function(e){return e.name="AID"+e.id,e}),e.hasHiddenAssertions=n.some(t.assertions,function(e){return"rejected"===e.status})),t}(s.data.item),e.evidence=s.data.evidence,e.clinvar_ignore=["N/A","NONE FOUND"],e.$watch(function(){return s.data.item},function(t){e.variant=t,e.evidence=t.evidence_items},!0),e.$watch(function(){return s.data.myVariantInfo},function(t){e.myVariantInfo=t},!0),e.VariantsViewOptions=o,e.backgroundColor=o.styles.view.backgroundColor,e.editClick=function(){a.isAuthenticated()&&t.go("events.genes.summary.variants.edit.basic",i)}}e.$inject=["$scope","$state","$stateParams","_","Security","Variants","VariantsViewOptions"],angular.module("civic.events.variants").controller("VariantSummaryController",e).directive("variantSummary",function(){return{restrict:"E",scope:{showEvidenceGrid:"="},controller:"VariantSummaryController",templateUrl:"app/views/events/variants/summary/variantSummary.tpl.html"}})}(),function(){"use strict";function e(e){e.state("events.genes.summary.variants.talk",{abstract:!0,url:"/talk",templateUrl:"app/views/events/variants/talk/VariantTalkView.tpl.html",controller:"VariantTalkController",controllerAs:"vm",resolve:{VariantRevisions:"VariantRevisions",VariantHistory:"VariantHistory",initVariantTalk:["Variants","VariantRevisions","VariantHistory","$stateParams","$cacheFactory","$q",function(e,t,i,n,a,s){var o=n.variantId;return s.all([e.initComments(o),t.initRevisions(o),i.initBase(o)])}]},deepStateRedirect:["variantId"],data:{titleExp:'"Variant " + variant.name + " Talk"',navMode:"sub"}}).state("events.genes.summary.variants.talk.log",{url:"/log",template:"<variant-talk-log></variant-talk-log>",data:{titleExp:'"Variant " + variant.name + " Log"',navMode:"sub"}}).state("events.genes.summary.variants.talk.comments",{url:"/comments",template:"<variant-talk-comments></variant-talk-comments>",data:{titleExp:'"Variant " + variant.name + " Comments"',navMode:"sub"}})}function t(e,t,i){function n(){this.state.baseState="events.genes.summary.variants.talk",this.state.baseUrl=e.href(this.state.baseState,t),angular.copy([{heading:"Revisions",route:this.state.baseState+".revisions.list",params:{variantId:o.id}},{heading:"Comments",route:this.state.baseState+".comments",params:{variantId:o.id}},{heading:"Log",route:this.state.baseState+".log",params:{variantId:o.id}}],a),angular.copy({view:{summaryBackgroundColor:"pageBackground",talkBackgroundColor:"pageBackground"},tabs:{tabRowBackground:"pageBackgroundGradient"}},s)}var a=[],s={},o=i.data.item;return{init:n,state:{baseParams:t,baseState:"",baseUrl:""},tabData:a,styles:s}}function i(e,t,i,n,a){a.init(),this.VariantsTalkViewModel=i,this.VariantRevisionsModel=n,this.VariantsTalkViewOptions=a}e.$inject=["$stateProvider"],t.$inject=["$state","$stateParams","Variants"],i.$inject=["$scope","_","Variants","VariantRevisions","VariantsTalkViewOptions"],angular.module("civic.events.variants").config(e).factory("VariantsTalkViewOptions",t).controller("VariantTalkController",i)}(),function(){"use strict";function e(){return{restrict:"E",scope:{},controller:"VariantTalkCommentsController",templateUrl:"app/views/events/variants/talk/variantTalkComments.tpl.html"}}function t(e,t){(e.ctrl={}).variantTalkModel=t}t.$inject=["$scope","Variants"],angular.module("civic.events.variants").controller("VariantTalkCommentsController",t).directive("variantTalkComments",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{},controller:"VariantTalkLogController",templateUrl:"app/views/events/variants/talk/variantTalkLog.tpl.html"}}function t(e,t,i,n,a){var s,o,r,l=e.ctrl={};e.comments=i.data.comments,e.revisions=n.data.collection,e.history=a.data.collection,e.$watchCollection("[comments, revisions, history]",function(e){s=t.merge({},e[0]),o=t.merge({},e[1]),r=t.merge({},e[2]),s=t.map(s,function(e){return e.type="comment",e}),o=t.map(o,function(e){return e.type="revision",e}),r=t.map(r,function(e){return e.type="history",e}),l.logItems=s.concat(o,r),l.logItems=t.chain(l.logItems).map(function(e){return e.username="object"==typeof e.user?e.user.username:e.user,e.timestamp=t.has(e,"updated_at")?e.updated_at:e.created_at,e}).sortBy(function(e){return new Date(e.timestamp)}).reverse().value()})}t.$inject=["$scope","_","Variants","VariantRevisions","VariantHistory"],angular.module("civic.events.variants").controller("VariantTalkLogController",t).directive("variantTalkLog",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{},controller:"VariantGroupEditBasicController",templateUrl:"app/views/events/variantGroups/edit/variantGroupEditBasic.tpl.html"}}function t(e,t,i,n,a,s,o,r,l,c,d,u,p,m,v){var g;g=e.vm={},g.variantGroupModel=r,g.variantGroup=r.data.item,g.pendingFields=m.keys(o.data.pendingFields).length>0,g.pendingFieldsList=m.map(m.keys(o.data.pendingFields),function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),g.variantGroupRevisions=o,g.variantGroupHistory=l,g.variantGroupEdit=angular.copy(g.variantGroup),g.variantGroupEdit.comment={title:"VARIANT GROUP "+g.variantGroup.name+" Revision Description",text:""},g.variantGroupEdit.sources=m.map(g.variantGroup.sources,"citation_id"),g.variantGroupEdit.variantsEdit=m.map(g.variantGroupEdit.variants,function(e){return{name:e.entrez_name+" - "+e.name,id:e.id}}),a.reloadCurrentUser().then(function(e){g.currentUser=e,g.isEditor=a.isEditor(),g.isAdmin=a.isAdmin(),g.isAuthenticated=a.isAuthenticated(),g.variantGroupEdit.organization=g.currentUser.most_recent_organization}),g.styles=c.styles,g.formErrors={},g.formMessages={},g.errorMessages=p.errorMessages,g.errorPrompts=p.errorPrompts,g.serverMsg="",g.newRevisionId=Number(),g.stateParams=t,g.showForm=!0,g.showSuccessMessage=!1,g.showInstructions=!0,g.variantGroupFields=[{key:"name",type:"horizontalInputHelp",templateOptions:{label:"Name",disabled:!1,value:g.variantGroup.name}},{key:"description",type:"horizontalTextareaHelp",templateOptions:{rows:8,label:"Summary",value:"vm.variantGroup.description",focus:!0,minLength:32}},{key:"sources",type:"multiInput",templateOptions:{label:"Sources",helpText:"Please specify the Pubmed IDs of any sources used as references in the Variant Group Summary.",entityName:"Source",showAddButton:!1,inputOptions:{type:"publication-multi",templateOptions:{label:"Pubmed Id",minLength:1,required:!0,data:{citation:"--"}},modelOptions:{updateOn:"default blur",allowInvalid:!1,debounce:{default:300,blur:0}},validators:{validPubmedId:{expression:function(e,t,i){if(e.length>0){var a=n.defer();i.options.templateOptions.loading=!0;var s={citationId:e,sourceType:"PubMed"};return u.verify(s).then(function(e){i.options.templateOptions.loading=!1,i.options.templateOptions.data.citation=e[0].description,a.resolve(e)},function(e){i.options.templateOptions.loading=!1,i.options.templateOptions.data.description="--",a.reject(e)}),a.promise}return i.options.templateOptions.data.description="--",!0},message:'"This does not appear to be a valid Pubmed ID."'}}}}},{key:"variantsEdit",type:"multiInput",templateOptions:{label:"Variants",entityName:"Variant",showAddButton:!1,helpText:'Click the X button to delete a variant, click the + button to add a variant. Note that variants must be known to CIViC to be available for including here. New variants may be added as part of an evidence item using the <a href="/add/evidence/basic" target="_self">Add Evidence form</a>.',inputOptions:{type:"typeahead",wrapper:null,templateOptions:{formatter:"model[options.key].name",typeahead:"item as item.name for item in options.data.typeaheadSearch($viewValue)"},data:{typeaheadSearch:function(e){var t={query:e,count:10};return d.variants(t).$promise.then(function(e){return m.map(e.records,function(e){return{name:e.gene_name+" - "+e.name,id:e.id}})})}}}}},{template:"<hr/>"},{key:"text",type:"horizontalCommentHelp",model:g.variantGroupEdit.comment,templateOptions:{rows:5,minimum_length:3,required:!1,label:"Revision Description",value:"text",helpText:"Please provide a brief description and support, if necessary, for your suggested revision. It will appear as the first comment in this revision's comment thread."},validators:{length:{expression:function(e,t,i){return(e||t).length>=i.to.minimum_length},message:'"Comment must be at least " + to.minimum_length + " characters long to submit."'}}}],g.switchOrg=function(e){g.variantGroupEdit.organization=m.find(g.currentUser.organizations,{id:e})},g.submit=function(e){e.variantGroupId=e.id,g.formErrors={},g.formMessages={},e.variants=m.map(e.variantsEdit,"id"),o.submitRevision(e).then(function(t){g.newRevisionId=t.id,g.formMessages.submitSuccess=!0,g.showForm=!1,g.showSuccessMessage=!0,g.showInstructions=!1,g.pendingFields=!1,v.$broadcast("revisionDecision"),e.organization.id!=g.currentUser.most_recent_organization.id&&a.reloadCurrentUser()}).catch(function(e){g.formErrors[e.status]=!0,g.serverMsg=e.data.error}).finally(function(){})},g.apply=function(e){e.variantGroupId=e.id,g.formErrors={},g.formMessages={},r.apply(e).then(function(){g.formMessages.applySuccess=!0}).catch(function(e){g.formErrors[e.status]=!0}).finally(function(){})},g.revisionsClick=function(){i.go("events.genes.summary.variantGroups.talk.revisions.list",{variantGroupId:r.data.item.id})}}t.$inject=["$scope","$stateParams","$state","$q","Security","Datatables","VariantGroupRevisions","VariantGroups","VariantGroupHistory","VariantGroupsViewOptions","TypeAheadResults","Publications","formConfig","_","$rootScope"],angular.module("civic.events.variants").directive("variantGroupEditBasic",e).controller("VariantGroupEditBasicController",t)}(),function(){"use strict";function e(e){e.state("events.genes.summary.variants.talk.revisions",{abstract:!0,url:"/revisions",templateUrl:"app/views/events/variants/talk/revisions/VariantTalkRevisionsView.tpl.html",controller:"VariantTalkRevisionsController",controllerAs:"vm",resolve:{VariantRevisions:"VariantRevisions",VariantHistory:"VariantHistory",initVariantTalkRevisions:["Variants","VariantRevisions","VariantHistory","$stateParams","$q",function(e,t,i,n,a){var s=n.variantId;return a.all([t.initRevisions(s),i.initBase(s)])}]},deepStateRedirect:["variantId","revisionId"],data:{titleExp:'"Variant " + variant.name + " Talk"',navMode:"sub"}}).state("events.genes.summary.variants.talk.revisions.list",{url:"/list/:revisionId",template:"<variant-talk-revisions></variant-talk-revisions>",data:{titleExp:'"Variant " + variant.name + " Revisions"',navMode:"sub"}}).state("events.genes.summary.variants.talk.revisions.list.summary",{url:"/summary",template:"<variant-talk-revision-summary></variant-talk-revision-summary>",resolve:{initRevision:["VariantRevisions","$stateParams","$q",function(e,t,i){return i.all([e.get(t.variantId,t.revisionId),e.queryComments(t.variantId,t.revisionId)])}]},data:{titleExp:'"Variant " + variant.name + " Revision Summary"',navMode:"sub"}})}function t(e,t){function i(){a="events.genes.summary.variants.talk.revisions",n=e.href(a,t),angular.copy({view:{summaryBackgroundColor:"pageBackground",talkBackgroundColor:"pageBackground"},tabs:{tabRowBackground:"pageBackground2Gradient"}},s)}var n="",a="",s={};return{init:i,state:{baseParams:t,baseState:a,baseUrl:n},styles:s}}function i(e,i){i.init(),this.VariantRevisionsModel=e,this.VariantTalkRevisionsViewOptions=t}e.$inject=["$stateProvider"],t.$inject=["$state","$stateParams"],i.$inject=["VariantRevisions","VariantTalkRevisionsRevisionsViewOptions"],angular.module("civic.events.variants").config(e).factory("VariantTalkRevisionsViewOptions",t).controller("VariantTalkRevisionsController",i)}(),function(){"use strict";function e(){return{restrict:"E",replace:!0,templateUrl:"app/views/events/variants/talk/revisions/variantTalkRevisionSummary.tpl.html",controller:"VariantTalkRevisionSummaryController"}}function t(e,t,i,n,a,s){var o=e.vm={};o.variantTalkModel=i,o.formErrors={},o.formMessages={},o.errorMessages=a.errorMessages,o.errorPrompts=a.errorPrompts;var r;n.currentUser&&(r=n.currentUser.id);var l=i.data.item.user.id,c=o.ownerIsCurrentUser=l===r;n.reloadCurrentUser().then(function(e){o.currentUser=e,o.isEditor=n.isEditor(),o.isAdmin=n.isAdmin(),o.isAuthenticated=n.isAuthenticated(),o.actionOrg=o.currentUser.most_recent_organization}),e.$watchGroup([function(){return i.data.item.status},function(){return n.currentUser?n.currentUser.conflict_of_interest.coi_valid:void 0}],function(e){var t=e[0],i=e[1],a="new"===t,s="conflict"===i||"valid"===i,r=n.isEditor()||n.isAdmin();o.showModeration=a&&(r&&s||c),o.showCoiNotice=a&&!o.showModeration&&r,o.disabled_text=n.isEditor()||n.isAdmin()?"Contributors may not accept their own suggested revisions.":"Suggested revisions must be approved by an editor."}),o.switchOrg=function(e){o.actionOrg=_.find(o.currentUser.organizations,{id:e})},o.acceptRevision=function(){o.formErrors={},o.formMessages={},i.acceptRevision(t.variantId,t.revisionId,o.actionOrg).then(function(){o.formMessages.acceptSuccess=!0,s.$broadcast("revisionDecision"),o.actionOrg.id!=o.currentUser.most_recent_organization.id&&n.reloadCurrentUser()}).catch(function(e){o.formErrors[e.status]=!0}).finally(function(){})},o.rejectRevision=function(){o.formErrors={},o.formMessages={},i.rejectRevision(t.variantId,t.revisionId,o.actionOrg).then(function(){o.formMessages.rejectSuccess=!0,s.$broadcast("revisionDecision"),o.actionOrg.id!=o.currentUser.most_recent_organization.id&&n.reloadCurrentUser()}).catch(function(e){o.formErrors[e.status]=!0}).finally(function(){})}}t.$inject=["$scope","$stateParams","VariantRevisions","Security","formConfig","$rootScope"],angular.module("civic.events.variants").directive("variantTalkRevisionSummary",e).controller("VariantTalkRevisionSummaryController",t)}(),function(){"use strict";function e(){return{restrict:"E",scope:{},controller:"VariantTalkRevisionsController",templateUrl:"app/views/events/variants/talk/revisions/variantTalkRevisions.tpl.html"}}function t(e,t,i){e.variantRevisions=t,e.viewOptions=i}t.$inject=["$scope","VariantRevisions","VariantsTalkViewOptions"],angular.module("civic.events.variants").controller("VariantTalkRevisionsController",t).directive("variantTalkRevisions",e)}(),function(){"use strict";function e(e){e.state("events.genes.summary.variantGroups",{abstract:!0,url:"/variantGroups/:variantGroupId",templateUrl:"app/views/events/variantGroups/variantGroupsView.tpl.html",resolve:{VariantGroups:"VariantGroups",initVariantGroups:["VariantGroups","$stateParams",function(e,t){return e.initBase(t.variantGroupId)}]},controller:"VariantGroupsController",controllerAs:"vm",deepStateRedirect:["variantGroupId"],onExit:["$deepStateRedirect",function(e){e.reset()}]}).state("events.genes.summary.variantGroups.summary",{url:"/summary",template:'<variant-group-summary show-variant-grid="true"></variant-group-summary>',resolve:{VariantGroups:"VariantGroups",refreshVariantGroups:["VariantGroups","$stateParams",function(e,t){return e.get(t.variantGroupId)}]},deepStateRedirect:["variantGroupId"],data:{titleExp:'"VariantGroups " + variantGroup.name + " Summary"',navMode:"sub"}})}function t(e,t,i){function n(){angular.copy(t,this.state.baseParams),this.state.baseState="events.genes.summary.variantGroups",this.state.baseUrl=e.href(this.state.baseState,t),angular.copy([{heading:"Variant Group Summary",route:"events.genes.summary.variantGroups.summary",params:{variantGroupId:i.data.item.id}},{heading:"Variant Group Talk",route:"events.genes.summary.variantGroups.talk.revisions.list",params:{variantGroupId:i.data.item.id}}],this.tabData),angular.copy({view:{backgroundColor:"pageBackground"},summary:{backgroundColor:"pageBackground2"},myVariantGroupsInfo:{backgroundColor:"pageBackground2"},variantMenu:{backgroundColor:"pageBackground2"},edit:{summaryBackgroundColor:"pageBackground2"}},this.styles)}return{init:n,state:{baseParams:{},baseState:"",baseUrl:""},tabData:[],styles:{}}}function i(e,t,i){i.init(),this.VariantGroupsViewModel=e,this.VariantGroupsViewRevisions=t,this.VariantGroupsViewOptions=i}e.$inject=["$stateProvider"],t.$inject=["$state","$stateParams","VariantGroups"],i.$inject=["VariantGroups","VariantGroupRevisions","VariantGroupsViewOptions"],angular.module("civic.events.variantGroups").config(e).factory("VariantGroupsViewOptions",t).controller("VariantGroupsController",i)}(),function(){"use strict";function e(e){e.state("events.genes.summary.variantGroups.edit",{abstract:!0,url:"/edit",templateUrl:"app/views/events/variantGroups/edit/VariantGroupEditView.tpl.html",controller:"VariantGroupEditController",controllerAs:"vm",resolve:{VariantGroupRevisions:"VariantGroupRevisions",initVariantGroupEdit:["VariantGroups","VariantGroupRevisions","VariantGroupHistory","$stateParams","$q",function(e,t,i,n,a){var s=n.variantGroupId;return a.all([t.initRevisions(s),t.getPendingFields(s),i.initBase(s)])}]},deepStateRedirect:["variantGroupId"],data:{titleExp:'"VariantGroup " + variant.name + " Edit"',navMode:"sub"}}).state("events.genes.summary.variantGroups.edit.basic",{url:"/basic",template:"<variant-group-edit-basic></variant-group-edit-basic>",data:{titleExp:'"VariantGroup Group " + variant.name + " Edit"',navMode:"sub"}})}function t(e,t){function i(){this.state.baseState="events.genes.summary.variantGroups.edit",this.state.baseUrl=e.href(this.state.baseUrl,t),angular.copy({view:{summaryBackgroundColor:"pageBackground",editBackgroundColor:"pageBackground",talkBackgroundColor:"pageBackground"},tabs:{tabRowBackground:"pageBackground2Gradient"}},n)}var n={};return{init:i,state:{baseParams:t,baseState:"",baseUrl:""},styles:n}}function i(e,t,i){i.init(),this.VariantGroupEditViewModel=e,this.VariantGroupRevisionsModel=t,this.VariantGroupEditViewOptions=i}e.$inject=["$stateProvider"],t.$inject=["$state","$stateParams"],i.$inject=["VariantGroups","VariantGroupRevisions","VariantGroupEditViewOptions"],angular.module("civic.events.variantGroups").config(e).factory("VariantGroupEditViewOptions",t).controller("VariantGroupEditController",i)}(),function(){"use strict";function e(e,t,i,n,a,s){e.isAuthenticated=n.isAuthenticated,e.isEdit=t.includes("**.edit.**"),e.stateParams=i,e.variantGroup=a.data.item,e.variants=a.data.variants,e.evidence=a.data.evidence,e.VariantGroupsViewOptions=s,e.backgroundColor=s.styles.view.backgroundColor}e.$inject=["$scope","$state","$stateParams","Security","VariantGroups","VariantGroupsViewOptions"],angular.module("civic.events.variantGroups").controller("VariantGroupSummaryController",e).directive("variantGroupSummary",function(){return{restrict:"E",scope:{showVariantGrid:"="},controller:"VariantGroupSummaryController",templateUrl:"app/views/events/variantGroups/summary/variantGroupSummary.tpl.html"}})}(),function(){"use strict";function e(e){e.state("events.genes.summary.variantGroups.talk",{abstract:!0,url:"/talk",templateUrl:"app/views/events/variantGroups/talk/VariantGroupTalkView.tpl.html",controller:"VariantGroupsTalkController",controllerAs:"vm",resolve:{VariantGroupRevisions:"VariantGroupRevisions",VariantGroupHistory:"VariantGroupHistory",initVariantGroupTalk:["VariantGroups","VariantGroupRevisions","VariantGroupHistory","$stateParams","$cacheFactory","$q",function(e,t,i,n,a,s){var o=n.variantGroupId;return s.all([e.initComments(o),t.initRevisions(o),i.initBase(o)])}]},deepStateRedirect:["variantGroupId"],data:{
titleExp:'"Variant Group " + variantGroup.name + " Talk"',navMode:"sub"}}).state("events.genes.summary.variantGroups.talk.log",{url:"/log",template:"<variant-group-talk-log></variant-group-talk-log>",data:{titleExp:'"Variant Group " + variantGroup.name + " Log"',navMode:"sub"}}).state("events.genes.summary.variantGroups.talk.comments",{url:"/comments",template:"<variant-group-talk-comments></variant-group-talk-comments>",data:{titleExp:'"Variant Group " + variantGroup.name + " Comments"',navMode:"sub"}})}function t(e,t,i){function n(){this.state.baseState="events.genes.summary.variantGroups.talk",this.state.baseUrl=e.href(this.state.baseState,t),angular.copy([{heading:"Revisions",route:this.state.baseState+".revisions.list",params:t},{heading:"Comments",route:this.state.baseState+".comments",params:t},{heading:"Log",route:this.state.baseState+".log",params:t}],a),angular.copy({view:{summaryBackgroundColor:"pageBackground",talkBackgroundColor:"pageBackground"},tabs:{tabRowBackground:"pageBackgroundGradient"}},s)}var a=[],s={};i.data.item;return{init:n,state:{baseParams:t,baseState:"",baseUrl:""},tabData:a,styles:s}}function i(e,t,i,n,a){a.init(),this.VariantGroupsTalkViewModel=i,this.VariantGroupRevisionsModel=n,this.VariantGroupsTalkViewOptions=a}e.$inject=["$stateProvider"],t.$inject=["$state","$stateParams","VariantGroups"],i.$inject=["$scope","_","VariantGroups","VariantGroupRevisions","VariantGroupsTalkViewOptions"],angular.module("civic.events.variantGroups").config(e).factory("VariantGroupsTalkViewOptions",t).controller("VariantGroupsTalkController",i)}(),function(){"use strict";function e(){return{restrict:"E",scope:{},controller:"VariantGroupTalkCommentsController",templateUrl:"app/views/events/variantGroups/talk/variantGroupTalkComments.tpl.html"}}function t(e,t){(e.ctrl={}).variantGroupTalkModel=t}t.$inject=["$scope","VariantGroups"],angular.module("civic.events.variantGroups").controller("VariantGroupTalkCommentsController",t).directive("variantGroupTalkComments",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{},controller:"VariantGroupTalkLogController",templateUrl:"app/views/events/variantGroups/talk/variantGroupTalkLog.tpl.html"}}function t(e,t,i,n,a){var s,o,r,l=e.ctrl={};e.comments=i.data.comments,e.revisions=n.data.collection,e.history=a.data.collection,e.$watchCollection("[comments, revisions, history]",function(e){s=t.merge({},e[0]),o=t.merge({},e[1]),r=t.merge({},e[2]),s=t.map(s,function(e){return e.type="comment",e}),o=t.map(o,function(e){return e.type="revision",e}),r=t.map(r,function(e){return e.type="history",e}),l.logItems=s.concat(o,r),l.logItems=t.chain(l.logItems).map(function(e){return e.username="object"==typeof e.user?e.user.username:e.user,e.timestamp=t.has(e,"updated_at")?e.updated_at:e.created_at,e}).sortBy(function(e){return new Date(e.timestamp)}).reverse().value()})}t.$inject=["$scope","_","VariantGroups","VariantGroupRevisions","VariantGroupHistory"],angular.module("civic.events.variantGroups").controller("VariantGroupTalkLogController",t).directive("variantGroupTalkLog",e)}(),function(){"use strict";function e(e){e.state("events.genes.summary.variantGroups.talk.revisions",{abstract:!0,url:"/revisions",templateUrl:"app/views/events/variantGroups/talk/revisions/VariantGroupTalkRevisionsView.tpl.html",controller:"VariantGroupTalkRevisionsController",controllerAs:"vm",resolve:{VariantRevisions:"VariantRevisions",VariantHistory:"VariantHistory",initVariantGroupTalkRevisions:["VariantGroups","VariantGroupRevisions","VariantGroupHistory","$stateParams","$q",function(e,t,i,n,a){var s=n.variantGroupId;return a.all([e.initComments(s),t.initRevisions(s),i.initBase(s)])}]},deepStateRedirect:["variantGroupId","revisionId"],data:{titleExp:'"Variant Group " + variantGroup.name + " Talk"',navMode:"sub"}}).state("events.genes.summary.variantGroups.talk.revisions.list",{url:"/list/:revisionId",template:"<variant-group-talk-revisions></variant-group-talk-revisions>",resolve:{initRevisionList:["VariantGroups","VariantGroupRevisions","VariantGroupHistory","$stateParams",function(e,t,i,n){return t.query(n.variantGroupId)}]},data:{titleExp:'"Variant Group " + variantGroup.name + " Revisions"',navMode:"sub"}}).state("events.genes.summary.variantGroups.talk.revisions.list.summary",{url:"/summary",template:"<variant-group-talk-revision-summary></variant-group-talk-revision-summary>",resolve:{initRevision:["VariantGroupRevisions","$stateParams","$q",function(e,t,i){return i.all([e.get(t.variantGroupId,t.revisionId),e.queryComments(t.variantGroupId,t.revisionId)])}]},data:{titleExp:'"Variant Group " + variantGroup.name + " Revision Summary"',navMode:"sub"}})}function t(e,t){function i(){a="events.genes.summary.variantGroups.talk.revisions",n=e.href(a,t),angular.copy({view:{summaryBackgroundColor:"pageBackground",talkBackgroundColor:"pageBackground"},tabs:{tabRowBackground:"pageBackground2Gradient"}},s)}var n="",a="",s={};return{init:i,state:{baseParams:t,baseState:a,baseUrl:n},styles:s}}function i(e,i){t.init(),this.VariantGroupRevisionsModel=e,this.VariantGroupTalkRevisionsViewOptions=i}e.$inject=["$stateProvider"],t.$inject=["$state","$stateParams"],i.$inject=["VariantGroupRevisions","VariantGroupTalkRevisionsViewOptions"],angular.module("civic.events.variantGroups").config(e).factory("VariantTalkRevisionsViewOptions",t).controller("VariantGroupTalkRevisionsController",i)}(),function(){"use strict";function e(){return{restrict:"E",replace:!0,templateUrl:"app/views/events/variantGroups/talk/revisions/variantGroupTalkRevisionSummary.tpl.html",controller:"VariantGroupTalkRevisionSummaryController"}}function t(e,t,i,n,a,s){var o=e.vm={};o.variantGroupTalkModel=i,o.formErrors={},o.formMessages={},o.errorMessages=a.errorMessages,o.errorPrompts=a.errorPrompts,n.reloadCurrentUser().then(function(t){var a=i.data.item.user.id,s=o.ownerIsCurrentUser=a===t.id;o.currentUser=t,o.isEditor=n.isEditor,o.isAdmin=n.isAdmin,o.isAuthenticated=n.isAuthenticated,o.disabled_text=o.isEditor()||o.isAdmin()?"Contributors may not accept their own suggested revisions.":"Suggested revisions must be approved by an editor.",o.disabled_text=o.isEditor()||o.isAdmin()?"Contributors may not accept their own suggested revisions.":"Suggested revisions must be approved by an editor.",o.actionOrg=o.currentUser.most_recent_organization,e.$watchGroup([function(){return i.data.item.status},function(){return n.currentUser?n.currentUser.conflict_of_interest.coi_valid:void 0}],function(e){var t=e[0],i=e[1],a="new"===t,r="conflict"===i||"valid"===i,l=n.isEditor()||n.isAdmin();o.showModeration=a&&(l&&r||s),o.showCoiNotice=a&&!o.showModeration&&l})}),o.switchOrg=function(e){o.actionOrg=_.find(o.currentUser.organizations,{id:e})},o.acceptRevision=function(){o.formErrors={},o.formMessages={},i.acceptRevision(t.variantGroupId,t.revisionId,o.actionOrg).then(function(){o.formMessages.acceptSuccess=!0,o.actionOrg.id!=o.currentUser.most_recent_organization.id&&n.reloadCurrentUser(),s.$broadcast("revisionDecision")}).catch(function(e){o.formErrors[e.status]=!0}).finally(function(){})},o.rejectRevision=function(){o.formErrors={},o.formMessages={},i.rejectRevision(t.variantGroupId,t.revisionId,o.actionOrg).then(function(){o.formMessages.rejectSuccess=!0,o.actionOrg.id!=o.currentUser.most_recent_organization.id&&n.reloadCurrentUser(),s.$broadcast("revisionDecision")}).catch(function(e){o.formErrors[e.status]=!0}).finally(function(){})}}t.$inject=["$scope","$stateParams","VariantGroupRevisions","Security","formConfig","$rootScope"],angular.module("civic.events.variantGroups").directive("variantGroupTalkRevisionSummary",e).controller("VariantGroupTalkRevisionSummaryController",t)}();!function(){"use strict";function e(){return{restrict:"E",scope:{},controller:"VariantGroupTalkRevisionsController",templateUrl:"app/views/events/variantGroups/talk/revisions/variantGroupTalkRevisions.tpl.html"}}function t(e,t,i){e.variantGroupRevisions=t,e.viewOptions=i}t.$inject=["$scope","VariantGroupRevisions","VariantGroupsTalkViewOptions"],angular.module("civic.events.variantGroups").controller("VariantGroupTalkRevisionsController",t).directive("variantGroupTalkRevisions",e)}(),function(){"use strict";function e(e){e.state("events.genes.summary.variants.summary.evidence",{abstract:!0,url:"/evidence/:evidenceId",templateUrl:"app/views/events/evidence/EvidenceView.tpl.html",resolve:{Evidence:"Evidence",initEvidence:["Evidence","$stateParams",function(e,t){return e.initBase(t.evidenceId)}]},controller:"EvidenceController",controllerAs:"vm",deepStateRedirect:{params:["evidenceId"]}}).state("events.genes.summary.variants.summary.evidence.summary",{url:"/summary",template:'<evidence-summary show-evidence-grid="true"></evidence-summary>',data:{navMode:"sub",titleExp:'"Evidence " + evidence.name'}})}function t(e,t){function i(){angular.copy(t,this.state.baseParams),this.state.baseState="events.genes.summary.variants.summary.evidence",this.state.baseUrl=e.href(this.state.baseState,t),angular.copy([{heading:"Evidence Summary",route:"events.genes.summary.variants.summary.evidence.summary",params:{geneId:t.geneId,variantId:t.variantId,evidenceId:t.evidenceId,"#":"evidence"}},{heading:"Evidence Talk",route:"events.genes.summary.variants.summary.evidence.talk.revisions.list",params:{geneId:t.geneId,variantId:t.variantId,evidenceId:t.evidenceId,"#":"evidence"}}],this.tabData),angular.copy({view:{backgroundColor:"pageBackground2"},edit:{summaryBackgroundColor:"pageBackground2"}},this.styles)}return{init:i,state:{baseParams:{},baseState:"",baseUrl:""},tabData:[],styles:{}}}function i(e,t,i){i.init(),this.EvidenceViewModel=e,this.EvidenceViewRevisions=t,this.EvidenceViewOptions=i}e.$inject=["$stateProvider"],t.$inject=["$state","$stateParams"],i.$inject=["Evidence","EvidenceRevisions","EvidenceViewOptions"],angular.module("civic.events.evidence").config(e).factory("EvidenceViewOptions",t).controller("EvidenceController",i)}(),function(){"use strict";function e(e){e.state("events.genes.summary.variants.summary.evidence.edit",{abstract:!0,url:"/edit",templateUrl:"app/views/events/evidence/edit/EvidenceEditView.tpl.html",controller:"EvidenceEditController",controllerAs:"vm",resolve:{EvidenceRevisions:"EvidenceRevisions",initEvidenceEdit:["Evidence","EvidenceRevisions","EvidenceHistory","$stateParams","$q",function(e,t,i,n,a){var s=n.evidenceId;return a.all([t.initRevisions(s),t.getPendingFields(s),i.initBase(s)])}]},deepStateRedirect:["evidenceId"],data:{titleExp:'"Evidence " + evidence.name + " Edit"',navMode:"sub"}}).state("events.genes.summary.variants.summary.evidence.edit.basic",{url:"/basic",template:"<evidence-edit-basic></evidence-edit-basic>",data:{titleExp:'"Evidence " + evidence.name + " Edit"',navMode:"sub"}})}function t(e,t){function i(){a="events.genes.summary.evidence.edit",n=e.href(n,t),angular.copy({view:{summaryBackgroundColor:"pageBackground2",editBackgroundColor:"pageBackground",talkBackgroundColor:"pageBackground"},tabs:{tabRowBackground:"pageBackground2Gradient"}},s)}var n="",a="",s={};return{init:i,state:{baseParams:t,baseState:a,baseUrl:n},styles:s}}function i(e,t,i){i.init(),this.EvidenceEditViewModel=e,this.EvidenceRevisionsModel=t,this.EvidenceEditViewOptions=i}e.$inject=["$stateProvider"],t.$inject=["$state","$stateParams"],i.$inject=["Evidence","EvidenceRevisions","EvidenceEditViewOptions"],angular.module("civic.events.evidence").config(e).factory("EvidenceEditViewOptions",t).controller("EvidenceEditController",i)}(),function(){"use strict";function e(){return{restrict:"E",scope:{},controller:"EvidenceEditBasicController",templateUrl:"app/views/events/evidence/edit/evidenceEditBasic.tpl.html"}}function t(e,t,i,n,a,s,o,r,l,c,d,u,p,m,v,g,h,f){var y=h.evidenceAttributeDescriptions,b=h.optionMethods.make_options,w=h.optionMethods.el_options,_=h.optionMethods.cs_options,C=function(e){return e+" - "+y.rating[e].replace(" - ","<br/>")},x=h.evidenceHelpText,I=e.vm={};I.evidence=u.data.item,I.pendingFields=g.keys(d.data.pendingFields).length>0,I.pendingFieldsList=g.map(g.keys(d.data.pendingFields),function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),I.evidenceRevisions=d,I.evidenceHistory=p,I.evidenceEdit=angular.copy(I.evidence),I.evidenceEdit=g.omit(I.evidenceEdit,["lifecycle_actions"]),I.evidenceEdit.comment={title:"Evidence EID"+I.evidence.id+" Revision Description",text:""},I.evidenceEdit.drugs=g.filter(g.map(I.evidence.drugs,"name"),function(e){return"N/A"!==e}),I.evidenceEdit.phenotypes=g.map(I.evidenceEdit.phenotypes,function(e){return e.hpo_class}),I.evidenceEdit.source={source_type:I.evidenceEdit.source.source_type,citation_id:I.evidenceEdit.source.citation_id},c.reloadCurrentUser().then(function(e){I.currentUser=e,I.isEditor=c.isEditor(),I.isAdmin=c.isAdmin(),I.isAuthenticated=c.isAuthenticated(),I.evidenceEdit.organization=I.currentUser.most_recent_organization}),I.styles=m.styles,I.user={},I.formErrors={},I.formMessages={},I.errorMessages=v.errorMessages,I.errorPrompts=v.errorPrompts,I.serverMsg="",I.newRevisionId=Number(),I.stateParams=t,I.showForm=!0,I.showSuccessMessage=!1,I.showInstructions=!0,n.ready(function(){var e=document.getElementById("evidence-edit-form");n.scrollToElementAnimated(e)});var k=function(e){return"Functional"===e.evidence_type},S=function(e){var t=g.find(e.fields,{key:"disease"}),i=g.find(e.fields,{key:"noDoid"}),n=g.find(e.fields,{key:"disease_name"});t.value({name:""}),i.value(!1),n.value&&n.value("")};I.evidenceFields=[{key:"variant_origin",type:"horizontalSelectHelp",wrapper:"attributeDefinition",templateOptions:{label:"Variant Origin",required:!0,value:"vm.evidenceEdit.variant_origin",options:[{value:"",label:"Please select a Variant Origin"}].concat(b(y.variant_origin)),valueProp:"value",labelProp:"label",helpText:x["Variant Origin"],data:{attributeDefinition:"&nbsp;",attributeDefinitions:y.variant_origin},onChange:function(e,t){t.templateOptions.data.attributeDefinition=t.templateOptions.data.attributeDefinitions[e]}}},{key:"source.source_type",type:"horizontalSelectHelp",wrapper:"attributeDefinition",controller:["$scope",function(e){var t="asco"===e.model.source_type?"ASCO":"PubMed";e.options.templateOptions.data.attributeDefinition=e.options.templateOptions.data.attributeDefinitions[t]}],templateOptions:{label:"Source Type",required:!0,options:[{value:"",label:"Please select a Source Type"}].concat(b(y.source_type)),valueProp:"value",labelProp:"label",helpText:x["Source Type"],data:{attributeDefinition:"&nbsp;",attributeDefinitions:y.source_type},onChange:function(e,t,i){t.templateOptions.data.attributeDefinition=t.templateOptions.data.attributeDefinitions[e];var n=g.find(i.fields,{key:"source.citation_id"});n.value(""),n.templateOptions.data.citation="--",n.templateOptions.data.sourceType=e||void 0}}},{key:"source.citation_id",type:"publication",templateOptions:{label:"Source ID",required:!0,data:{citation:"--"},helpText:x.Source},asyncValidators:{validId:{expression:function(e,t,n){var a=n.model.source.source_type,o=i.defer();if(n.options.templateOptions.loading=!0,e.length>0&&""!==a)if(e.match(/[^0-9]+/))n.options.templateOptions.data.citation="Citation ID must be a number",o.reject(!1);else{var r={citationId:e,sourceType:a};s.verify(r).then(function(e){n.options.templateOptions.data.citation=e.citation,o.resolve(!0)},function(e){404===e.status?n.options.templateOptions.data.citation="No "+a+" source found with specified ID.":n.options.templateOptions.data.citation="Error fetching source, check console log for details.",o.reject(!1)})}else n.options.templateOptions.data.citation="--",o.resolve(!1);return n.options.templateOptions.loading=!1,o.promise},message:'"This does not appear to be a valid source ID."'}},controller:["$scope","$stateParams",function(e,t){t.sourceId&&Sources.get(t.sourceId).then(function(t){e.model.source=t,e.to.data.citation=t.citation})}],expressionProperties:{"templateOptions.disabled":'model.source.source_type === "" || model.source.source_type === undefined',"templateOptions.label":'model.source.source_type ? model.source.source_type === "ASCO" ? "ASCO ID" : "PubMed ID" : "Source ID"',"templateOptions.placeholder":'model.source.source_type ? model.source.source_type === "ASCO" ? "Search by ASCO ID" : "Search by PubMed ID" : "Please select Source Type"',"templateOptions.helpText":'model.source.source_type ? model.source.source_type === "ASCO" ? "'+x.SourceASCO+'" : "'+x.SourcePubMed+'" : "Please enter a Source Type before entering a Source ID."'},modelOptions:{debounce:{default:300,blur:0},updateOn:"default blur"}},{key:"evidence_type",type:"horizontalSelectHelp",wrapper:"attributeDefinition",controller:["$scope",function(e){e.options.templateOptions.data.attributeDefinition=e.options.templateOptions.data.attributeDefinitions.evidence_item[e.model.evidence_type]}],templateOptions:{label:"Evidence Type",required:!0,value:"vm.evidenceEdit.evidence_type",ngOptions:'option["value"] as option["label"] for option in to.options',options:[{value:"",label:"Please select an Evidence Type"}].concat(b(y.evidence_type.evidence_item)),onChange:function(e,t,i){var n=g.find(i.fields,{key:"clinical_significance"}),a=g.find(i.fields,{key:"evidence_direction"});n.value(""),a.value(""),n.templateOptions.data.attributeDefinition="",a.templateOptions.data.attributeDefinition="","Functional"===e&&S(i),i.model.drugs="Predictive"===e?[""]:[],t.templateOptions.data.attributeDefinition=t.templateOptions.data.attributeDefinitions.evidence_item[e]},helpText:x["Evidence Type"],data:{attributeDefinition:"&nbsp;",attributeDefinitions:y.evidence_type}}},{key:"clinical_significance",type:"horizontalSelectHelp",wrapper:"attributeDefinition",controller:["$scope",function(e){e.options.templateOptions.data.attributeDefinition=e.options.templateOptions.data.attributeDefinitions[e.model.evidence_type][e.model.clinical_significance]}],templateOptions:{label:"Clinical Significance",required:!0,value:"vm.evidenceEdit.clinical_significance",clinicalSignificanceOptions:[{type:"default",value:"",label:"Please select a Clinical Significance"}].concat(_(y.clinical_significance.evidence_item)),ngOptions:'option["value"] as option["label"] for option in to.options',options:[{type:"default",value:"",label:"Please select a Clinical Significance"}].concat(_(y.clinical_significance.evidence_item)),helpText:x["Clinical Significance"],data:{attributeDefinition:"&nbsp;",attributeDefinitions:y.clinical_significance.evidence_item,updateDefinition:function(e,t,i){t.templateOptions.data.attributeDefinition=t.templateOptions.data.attributeDefinitions[i.model.evidence_type][i.model.clinical_significance]}},onChange:function(e,t,i){t.templateOptions.data.updateDefinition(e,t,i),"Functional"===g.find(i.fields,{key:"evidence_type"}).value()&&S(i)}},expressionProperties:{"templateOptions.options":function(e,t,i){return g.filter(i.to.clinicalSignificanceOptions,function(e){return!(e.type!==i.model.evidence_type&&"default"!==e.type&&"N/A"!==e.type)})},"templateOptions.disabled":'model.evidence_type === ""'}},{key:"disease",type:"horizontalTypeaheadHelp",wrapper:["loader","diseasedisplay","validationMessages"],value:"",controller:["$scope",function(e){e.to.data.doid=e.model.disease.doid}],templateOptions:{label:"Disease",value:"vm.evidenceEdit.doid",required:!0,minLength:32,helpText:x.Disease,typeahead:"item as item.name for item in to.data.typeaheadSearch($viewValue)",onSelect:"to.data.doid = $model.doid",templateUrl:"components/forms/fieldTypes/diseaseTypeahead.tpl.html",data:{doid:"--",typeaheadSearch:function(e){return r.beginsWith(e).then(function(e){return g.map(e,function(e){return e.aliases.length>0?(e.alias_list=e.aliases.join(", "),e.alias_list.length>70&&(e.alias_list=g.truncate(e.alias_list,70))):e.alias_list="--",e})})}}},expressionProperties:{"templateOptions.disabled":"model.noDoid === true","templateOptions.required":"model.noDoid === false"},hideExpression:function(e,t,i){return k(i.model)||i.model.noDoid}},{key:"disease_name",type:"horizontalInputHelp",templateOptions:{label:"Disease Name",required:!0,minLength:32,helpText:x["Disease Name"]},hideExpression:"!model.noDoid"},{key:"noDoid",type:"horizontalCheckbox",templateOptions:{label:"Could not find disease.",onChange:function(e,t,i){!0===e&&(i.model.disease="")}},hideExpression:function(e,t,i){return k(i.model)}},{key:"description",type:"horizontalTextareaHelp",templateOptions:{rows:5,required:!0,label:"Evidence Statement",minLength:32,helpText:x["Evidence Statement"]}},{key:"evidence_level",type:"horizontalSelectHelp",wrapper:"attributeDefinition",controller:["$scope",function(e){e.options.templateOptions.data.attributeDefinition=e.options.templateOptions.data.attributeDefinitions[e.model.evidence_level]}],templateOptions:{label:"Evidence Level",required:!0,value:"vm.evidenceEdit.rating",options:[{value:"",label:"Please select an Evidence Level"}].concat(w(y.evidence_level_brief)),valueProp:"value",labelProp:"label",helpText:x["Evidence Level"],data:{attributeDefinition:"&nbsp;",attributeDefinitions:y.evidence_level},onChange:function(e,t){t.templateOptions.data.attributeDefinition=t.templateOptions.data.attributeDefinitions[e]}}},{key:"evidence_direction",type:"horizontalSelectHelp",wrapper:"attributeDefinition",controller:["$scope",function(e){e.options.templateOptions.data.attributeDefinition=e.options.templateOptions.data.attributeDefinitions[e.model.evidence_type][e.model.evidence_direction]}],templateOptions:{label:"Evidence Direction",required:!0,value:"vm.evidenceEdit.evidence_direction",options:[{value:"",label:"Please select an Evidence Direction"}].concat(b(y.evidence_direction.evidence_item.Diagnostic)),valueProp:"value",labelProp:"label",helpText:x["Evidence Direction"],evidenceDirectionOptions:[{type:"default",value:"",label:"Please select an Evidence Direction"}].concat(_(y.evidence_direction.evidence_item)),data:{attributeDefinition:"&nbsp;",attributeDefinitions:y.evidence_direction.evidence_item,updateDefinition:function(e,t,i){t.templateOptions.data.attributeDefinition=t.templateOptions.data.attributeDefinitions[i.model.evidence_type][i.model.evidence_direction]}},onChange:function(e,t,i){t.templateOptions.data.updateDefinition(e,t,i)}},expressionProperties:{"templateOptions.options":function(e,t,i){return g.filter(i.to.evidenceDirectionOptions,function(e){return!(e.type!==i.model.evidence_type&&"default"!==e.type&&"N/A"!==e.type)})},"templateOptions.disabled":'model.evidence_type === ""'}},{key:"drugs",type:"multiInput",templateOptions:{label:"Drug Names",entityName:"Drug",showAddButton:!0,addFormTemplate:"components/forms/fieldTypes/multiInputAddDrugForm.tpl.html",inputOptions:{type:"typeahead",wrapper:null,templateOptions:{inputFormatter:"model[options.key]",typeahead:"item.name for item in options.data.typeaheadSearch($viewValue)",templateUrl:"components/forms/fieldTypes/drugTypeahead.tpl.html",onSelect:"options.data.pushNew(model, index)",editable:!1},data:{pushNew:function(e,t){e.splice(t+1,0,"")},typeaheadSearch:function(e){return o.query(e).then(function(e){return g.map(e,function(e){return e.aliases.length>0?(e.alias_list=e.aliases.join(", "),e.alias_list.length>70&&(e.alias_list=g.truncate(e.alias_list,70))):e.alias_list="--",e})})}}},helpText:x["Drug Names"]},hideExpression:function(e,t,i){return"Predictive"!==i.model.evidence_type}},{key:"drug_interaction_type",type:"horizontalSelectHelp",wrapper:"attributeDefinition",controller:["$scope",function(e){e.options.templateOptions.data.attributeDefinition=e.options.templateOptions.data.attributeDefinitions[e.model.drug_interaction_type]}],templateOptions:{label:"Drug Interaction Type",required:!0,value:"vm.evidenceEdit.drug_interaction_type",options:[{type:"default",value:null,label:"Please select a Drug Interaction Type"}].concat(b(y.drug_interaction_type)),valueProp:"value",labelProp:"label",helpText:x["Drug Interaction Type"],data:{attributeDefinition:"&nbsp;",attributeDefinitions:y.drug_interaction_type},onChange:function(e,t){t.templateOptions.data.attributeDefinition=t.templateOptions.data.attributeDefinitions[e]}},hideExpression:function(e,t,i){return!("Predictive"===i.model.evidence_type&&g.without(i.model.drugs,"").length>1)}},{key:"phenotypes",type:"multiInput",templateOptions:{label:"Associated Phenotypes",entityName:"Phenotype",showAddButton:!1,inputOptions:{type:"typeahead",wrapper:null,templateOptions:{typeahead:"item.name for item in options.data.typeaheadSearch($viewValue)",templateUrl:"components/forms/fieldTypes/hpoTypeahead.tpl.html",onSelect:"options.data.pushNew(model, index)",editable:!1},data:{pushNew:function(e,t){e.splice(t+1,0,"")},typeaheadSearch:function(e){return l.query(e).then(function(e){return g.map(e,function(e){return{id:e.hpo_id,name:e.hpo_class}})})}}},helpText:x.Phenotypes}},{key:"rating",type:"horizontalRatingHelp",templateOptions:{label:"Rating",required:!1,options:[{value:"",label:"Please select an Evidence Rating"},{value:1,label:C(1)},{value:2,label:C(2)},{value:3,label:C(3)},{value:4,label:C(4)},{value:5,label:C(5)}],valueProp:"value",labelProp:"label",helpText:x.Rating}},{key:"text",type:"horizontalCommentHelp",model:I.evidenceEdit.comment,templateOptions:{rows:5,minimum_length:3,label:"Revision Description",required:!0,value:"text",helpText:x["Revision Description"]},validators:{length:{expression:function(e,t,i){return(e||t).length>=i.to.minimum_length},message:'"Comment must be at least " + to.minimum_length + " characters long to submit."'}}}],I.switchOrg=function(e){I.evidenceEdit.organization=g.find(I.currentUser.organizations,{id:e})},I.submit=function(e){e.evidenceId=e.id,e.drugs=g.without(e.drugs,""),e.phenotypes=g.without(e.phenotypes,""),e.drugs.length<2&&(e.drug_interaction_type=null),I.formErrors={},I.formMessages={},e.noDoid&&(e.disease={name:e.disease_name}),d.submitRevision(e).then(function(t){I.newRevisionId=t.id,I.formMessages.submitSuccess=!0,I.pendingFields=!1,I.showForm=!1,I.showSuccessMessage=!0,I.showInstructions=!1,f.$broadcast("revisionDecision"),e.organization.id!=I.currentUser.most_recent_organization.id&&c.reloadCurrentUser()}).catch(function(e){I.formErrors[e.status]=!0,I.serverMsg=e.data.error}).finally(function(){})},I.apply=function(e){e.evidenceId=e.id,e.drugs=g.without(e.drugs,""),e.drugs.length<2&&(e.drug_interaction_type=null),I.formErrors={},I.formMessages={},u.apply(e).then(function(){I.formMessages.applySuccess=!0,e.organization.id!=I.currentUser.most_recent_organization.id&&c.reloadCurrentUser()}).catch(function(e){I.formErrors[e.status]=!0}).finally(function(){})},I.revisionsClick=function(){a.go("events.genes.summary.variants.summary.evidence.talk.revisions.list",{evidenceId:u.data.item.id})}}t.$inject=["$scope","$stateParams","$q","$document","$state","Publications","DrugSuggestions","Diseases","Phenotypes","Security","EvidenceRevisions","Evidence","EvidenceHistory","EvidenceViewOptions","formConfig","_","ConfigService","$rootScope"],angular.module("civic.events.evidence").directive("evidenceEditBasic",e).controller("EvidenceEditBasicController",t)}(),function(){"use strict";function e(e,t,i,n,a,s,o,r){e.evidence=n.data.item,e.tipText=r.evidenceAttributeDescriptions,e.supportsAssertions=[],e.currentUser=null,a.reloadCurrentUser().then(function(t){e.currentUser=t,e.actionOrg=e.currentUser.most_recent_organization;var i;a.currentUser&&(i=a.currentUser.id);var s=o.isUndefined(e.evidence.lifecycle_actions.submitted)?null:e.evidence.lifecycle_actions.submitted.user.id,r=e.ownerIsCurrentUser=s===i;e.$watchGroup([function(){return n.data.item.status},function(){return a.currentUser?a.currentUser.conflict_of_interest.coi_valid:void 0}],function(t){var i=t[0],n=t[1],s="submitted"===i,o="conflict"===n||"valid"===n,l=a.isEditor()||a.isAdmin();e.showModeration=s&&(l&&o||r),e.showCoiNotice=s&&!e.showModeration&&l})}),e.switchOrg=function(t){e.actionOrg=o.find(e.currentUser.organizations,{id:t})};var l={A:"Validated",B:"Clinical",C:"Case Study",D:"Preclinical",E:"Inferential"};e.$watchCollection("evidence",function(){e.evidence.evidence_level_string=e.evidence.evidence_level+" - "+l[e.evidence.evidence_level],e.evidence.drugs.length>0?e.evidence.drugsStr=o.chain(e.evidence.drugs).map(function(e){return e.ncit_id?'<a href="https://ncit.nci.nih.gov/ncitbrowser/ConceptReport.jsp?dictionary=NCI_Thesaurus&ns=ncit&code='+e.ncit_id+'" target="_blank">'+e.name+"</a>":e.name}).value().join(", "):e.evidence.drugsStr="--",e.evidence.phenotypes.length>0?e.evidence.phenotypesStr=o.chain(e.evidence.phenotypes).sortBy("hpo_class").map(function(e){return'<a href="'+e.url+'" target="_blank">'+e.hpo_class+"</a>"}).value().join(", "):e.evidence.phenotypesStr="--",e.evidence.assertions.length>0&&(e.supportsAssertions=o.filter(e.evidence.assertions,function(e){return"rejected"!==e.status}))}),e.EvidenceViewOptions=s,e.backgroundColor=s.styles.view.backgroundColor,e.acceptItem=function(s){t.debug("accept item "+s),n.accept(s,i.variantId,e.actionOrg).then(function(i){t.debug("Accept success."),t.debug(i),e.actionOrg.id!=e.currentUser.most_recent_organization.id&&a.reloadCurrentUser()}).catch(function(e){t.error("Ooops! There was an error accepting this evidence item."),t.error(e)}).finally(function(){t.debug("Accept Item done.")})},e.rejectItem=function(s){t.debug("reject item "+s),n.reject(s,i.variantId,e.actionOrg).then(function(i){t.debug("Reject success."),t.debug(i),e.actionOrg.id!=e.currentUser.most_recent_organization.id&&a.reloadCurrentUser()}).catch(function(e){t.error("Ooops! There was an error rejecting this evidence item."),t.error(e)}).finally(function(){t.debug("Reject Item done.")})}}e.$inject=["$scope","$log","$stateParams","Evidence","Security","EvidenceViewOptions","_","ConfigService"],angular.module("civic.events.evidence").controller("EvidenceSummaryController",e).directive("evidenceSummary",function(){return{restrict:"E",scope:{},controller:"EvidenceSummaryController",templateUrl:"app/views/events/evidence/summary/evidenceSummary.tpl.html"}})}(),function(){"use strict";function e(e){e.state("events.genes.summary.variants.summary.evidence.talk",{abstract:!0,url:"/talk",templateUrl:"app/views/events/evidence/talk/EvidenceTalkView.tpl.html",controller:"EvidenceTalkController",controllerAs:"vm",resolve:{EvidenceRevisions:"EvidenceRevisions",EvidenceHistory:"EvidenceHistory",initEvidenceTalk:["Evidence","EvidenceRevisions","EvidenceHistory","$stateParams","$cacheFactory","$q",function(e,t,i,n,a,s){var o=n.evidenceId;return s.all([e.initComments(o),t.initRevisions(o),i.initBase(o)])}]},deepStateRedirect:["evidenceId"],data:{titleExp:'"Evidence " + evidence.name + " Talk"',navMode:"sub"}}).state("events.genes.summary.variants.summary.evidence.talk.log",{url:"/log",template:"<evidence-talk-log></evidence-talk-log>",data:{titleExp:'"Evidence " + evidence.name + " Log"',navMode:"sub"}}).state("events.genes.summary.variants.summary.evidence.talk.comments",{url:"/comments",template:"<evidence-talk-comments></evidence-talk-comments>",data:{titleExp:'"Evidence " + evidence.name + " Comments"',navMode:"sub"}})}function t(e,t,i){function n(){s="events.genes.summary.variants.summary.evidence.talk",a=e.href(a,t),angular.copy([{heading:"Revisions",route:s+".revisions.list",params:{evidenceId:l.id}},{heading:"Comments",route:s+".comments",params:{evidenceId:l.id}},{heading:"Log",route:s+".log",params:{evidenceId:l.id}}],o),angular.copy({view:{summaryBackgroundColor:"pageBackground",talkBackgroundColor:"pageBackground"},tabs:{tabRowBackground:"pageBackground2Gradient"}},r)}var a="",s="",o=[],r={},l=i.data.item;return{init:n,state:{baseParams:t,baseState:s,baseUrl:a},tabData:o,styles:r}}function i(e,t,i){i.init(),this.EvidenceTalkViewModel=e,this.EvidenceRevisionsModel=t,this.EvidenceTalkViewOptions=i}e.$inject=["$stateProvider"],t.$inject=["$state","$stateParams","Evidence"],i.$inject=["Evidence","EvidenceRevisions","EvidenceTalkViewOptions"],
angular.module("civic.events.evidence").config(e).factory("EvidenceTalkViewOptions",t).controller("EvidenceTalkController",i)}(),function(){"use strict";function e(){return{restrict:"E",scope:{},controller:"EvidenceTalkCommentsController",templateUrl:"app/views/events/evidence/talk/evidenceTalkComments.tpl.html"}}function t(e,t){(e.ctrl={}).evidenceTalkModel=t}t.$inject=["$scope","Evidence"],angular.module("civic.events.evidence").controller("EvidenceTalkCommentsController",t).directive("evidenceTalkComments",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{},controller:"EvidenceTalkLogController",templateUrl:"app/views/events/evidence/talk/evidenceTalkLog.tpl.html"}}function t(e,t,i,n,a){var s,o,r,l=e.ctrl={};e.comments=t.data.comments,e.revisions=i.data.collection,e.history=n.data.collection,e.$watchCollection("[comments, revisions, history]",function(e){s=a.merge({},e[0]),o=a.merge({},e[1]),r=a.merge({},e[2]),s=a.map(s,function(e){return e.type="comment",e}),o=a.map(o,function(e){return e.type="revision",e}),r=a.map(r,function(e){return e.type="history",e}),l.logItems=s.concat(o,r),l.logItems=a.chain(l.logItems).map(function(e){return e.username="object"==typeof e.user?e.user.username:e.user,e.timestamp=a.has(e,"updated_at")?e.updated_at:e.created_at,e}).sortBy(function(e){return new Date(e.timestamp)}).reverse().value()})}t.$inject=["$scope","Evidence","EvidenceRevisions","EvidenceHistory","_"],angular.module("civic.events.evidence").controller("EvidenceTalkLogController",t).directive("evidenceTalkLog",e)}(),function(){"use strict";function e(e){e.state("events.genes.summary.variants.summary.evidence.talk.revisions",{abstract:!0,url:"/revisions",templateUrl:"app/views/events/evidence/talk/revisions/EvidenceTalkRevisionsView.tpl.html",controller:"EvidenceTalkRevisionsController",controllerAs:"vm",resolve:{EvidenceRevisions:"EvidenceRevisions",EvidenceHistory:"EvidenceHistory",initEvidenceTalkRevisions:["Evidence","EvidenceRevisions","EvidenceHistory","$stateParams","$q",function(e,t,i,n,a){var s=n.evidenceId;return a.all([t.initRevisions(s),i.initBase(s)])}]},deepStateRedirect:["evidenceId","revisionId"],data:{titleExp:'"Evidence " + evidence.name + " Talk"',navMode:"sub"}}).state("events.genes.summary.variants.summary.evidence.talk.revisions.list",{url:"/list/:revisionId",template:"<evidence-talk-revisions></evidence-talk-revisions>",resolve:{initRevisionList:["Evidence","EvidenceRevisions","EvidenceHistory","$stateParams",function(e,t,i,n){return t.query(n.evidenceId)}]},data:{titleExp:'"Evidence " + evidence.name + " Revisions"',navMode:"sub"}}).state("events.genes.summary.variants.summary.evidence.talk.revisions.list.summary",{url:"/summary",template:"<evidence-talk-revision-summary></evidence-talk-revision-summary>",resolve:{initRevision:["EvidenceRevisions","$stateParams","$q",function(e,t,i){return i.all([e.get(t.evidenceId,t.revisionId),e.queryComments(t.evidenceId,t.revisionId)])}]},data:{titleExp:'"Evidence " + evidence.name + " Revision Summary"',navMode:"sub"}})}function t(e,t){function i(){a="events.genes.summary.variants.summary.evidence.talk.revisions",n=e.href(n,t),angular.copy({view:{summaryBackgroundColor:"pageBackground",talkBackgroundColor:"pageBackground"},tabs:{tabRowBackground:"pageBackground2Gradient"}},s)}var n="",a="",s={};return{init:i,state:{baseParams:t,baseState:a,baseUrl:n},styles:s}}function i(e,t,i){i.init(),this.EvidenceRevisionsModel=t,this.EvidenceTalkRevisionsViewOptions=i}e.$inject=["$stateProvider"],t.$inject=["$state","$stateParams"],i.$inject=["Evidence","EvidenceRevisions","EvidenceTalkRevisionsViewOptions"],angular.module("civic.events.evidence").config(e).factory("EvidenceTalkRevisionsViewOptions",t).controller("EvidenceTalkRevisionsController",i)}(),function(){"use strict";function e(){return{restrict:"E",replace:!0,templateUrl:"app/views/events/evidence/talk/revisions/evidenceTalkRevisionSummary.tpl.html",controller:"EvidenceTalkRevisionSummaryController"}}function t(e,t,i,n,a,s){var o=e.vm={};o.evidenceTalkModel=i,o.formErrors={},o.formMessages={},o.errorMessages=a.errorMessages,o.errorPrompts=a.errorPrompts;var r;n.currentUser&&(r=n.currentUser.id);var l=i.data.item.user.id,c=o.ownerIsCurrentUser=l===r;n.reloadCurrentUser().then(function(e){o.currentUser=e,o.isEditor=n.isEditor(),o.isAdmin=n.isAdmin(),o.isAuthenticated=n.isAuthenticated(),o.actionOrg=o.currentUser.most_recent_organization}),e.$watchGroup([function(){return i.data.item.status},function(){return n.currentUser?n.currentUser.conflict_of_interest.coi_valid:void 0}],function(e){var t=e[0],i=e[1],a="new"===t,s="conflict"===i||"valid"===i,r=n.isEditor()||n.isAdmin();o.showModeration=a&&(r&&s||c),o.showCoiNotice=a&&!o.showModeration&&r,o.disabled_text=n.isEditor()||n.isAdmin()?"Contributors may not accept their own suggested revisions.":"Suggested revisions must be approved by an editor."}),o.switchOrg=function(e){o.actionOrg=_.find(o.currentUser.organizations,{id:e})},o.acceptRevision=function(){o.formErrors={},o.formMessages={},i.acceptRevision(t.evidenceId,t.revisionId,t.variantId,o.actionOrg).then(function(){o.formMessages.acceptSuccess=!0,s.$broadcast("revisionDecision"),o.actionOrg.id!=o.currentUser.most_recent_organization.id&&n.reloadCurrentUser()}).catch(function(e){o.formErrors[e.status]=!0}).finally(function(){})},o.rejectRevision=function(){o.formErrors={},o.formMessages={},i.rejectRevision(t.evidenceId,t.revisionId,t.variantId,o.actionOrg).then(function(){o.formMessages.rejectSuccess=!0,s.$broadcast("revisionDecision"),o.actionOrg.id!=o.currentUser.most_recent_organization.id&&n.reloadCurrentUser()}).catch(function(e){o.formErrors[e.status]=!0}).finally(function(){})}}t.$inject=["$scope","$stateParams","EvidenceRevisions","Security","formConfig","$rootScope"],angular.module("civic.events.evidence").directive("evidenceTalkRevisionSummary",e).controller("EvidenceTalkRevisionSummaryController",t)}(),function(){"use strict";function e(){return{restrict:"E",scope:{},controller:"EvidenceTalkRevisionsController",templateUrl:"app/views/events/evidence/talk/revisions/evidenceTalkRevisions.tpl.html"}}function t(e,t,i){e.evidenceRevisions=t,e.viewOptions=i}t.$inject=["$scope","EvidenceRevisions","EvidenceTalkViewOptions"],angular.module("civic.events.evidence").controller("EvidenceTalkRevisionsController",t).directive("evidenceTalkRevisions",e)}(),function(){"use strict";function e(e,t){return{restrict:"A",scope:!1,link:function(i,n,a){var s="<input ";s+='type="'+a.type+'" ',s+='placeholder="{{ to.placeholder }}"',void 0!==a.formlyCustomValidation&&(s+="formlyCustomValidation ");var o=a.id;void 0!==o&&(s+='id="'+o+'" ');var r=a.name;void 0!==r&&(s+='name="'+r+'" '),!0===t.get(i,"to.required")&&(s+='required="true" ');var l=a.ngDisabled;void 0!==l&&(s+='ng-disabled="'+l+'" '),s+='ng-model="'+a.ngModel+'" ',s+='ng-model-options="'+a.ngModelOptions+'" ',s+='class="'+a.class+'" ',s+='typeahead-editable="'+a.typeaheadEditable+'" ',s+='typeahead-focus-first="'+a.typeaheadFocusFirst+'" ',s+='typeahead-append-to-body="'+a.typeaheadAppendToBody+'" ',void 0!==t.get(i,a.typeaheadMinLength)&&(s+='typeahead-min-length="'+a.typeaheadMinLength+'" ');var c=t.get(i,a.typeaheadOnSelect);void 0!==c&&(s+='typeahead-on-select="'+c+'" ');var d=t.get(i,a.typeaheadInputFormatter);void 0!==d&&(s+='typeahead-input-formatter="'+d+'" ');var u=t.get(i,a.typeaheadTemplateUrl);void 0!==u&&(s+='typeahead-template-url="'+u+'" ');var p=t.get(i,"to.popupTemplateUrl");void 0!==p&&(s+='typeahead-popup-template-url="'+p+'" ');var m=t.get(i,a["to.selectOnBlur"]);void 0!==m&&(s+='typeahead-select-on-blur="'+m+'" ');var v=t.get(i,"to.noResults");void 0!==v&&(s+='typeahead-no-results="'+v+'" '),s+='uib-typeahead="'+t.get(i,a.typeaheadWrapper)+'" ',s+=">",e(s)(i,function(e){n.replaceWith(e)})}}}e.$inject=["$compile","_"],angular.module("civic.events").directive("typeaheadWrapper",e)}(),function(){"use strict";function e(){return{restrict:"E",replace:!0,scope:{mode:"=",page:"="},templateUrl:"app/views/browse/directives/browseGrid.tpl.html",controller:"BrowseGridController"}}function t(e,t,i,n,a,s,o){function r(){l(c.mode,c.count,c.page,c.sorting,c.filters).then(function(e){"variant_groups"===c.mode?(o.forEach(e.result,function(e){return e.variant_count=e.variants.split(", ").length,e}),c.gridOptions.data=e.result):c.gridOptions.data=e.result,c.gridOptions.columnDefs=u[c.mode],c.totalItems=e.total})}function l(e,t,i,n,a){var r;if(r={mode:e,count:t,page:i},a.length>0&&o.each(a,function(e){r["filter["+e.field+"]"]=e.term}),n.length>0){r.sort_priority="";var l=n.length;o.each(n,function(e,t){r["sorting["+e.field+"]"]=e.direction,r.sort_priority+=e.field,t+1<l&&(r.sort_priority+=",")})}return s.query(r)}var c=e.ctrl={},d=c.maxRows=25;c.mode=e.mode,c.totalItems=Number(),c.page=e.page,c.count=25,c.filters=[],"evidence_items"==c.mode?c.sorting=[{field:"evidence_level",direction:"asc"},{field:"rating",direction:"desc"},{field:"evidence_type",direction:"asc"}]:"variants"==c.mode?c.sorting=[{field:"civic_actionability_score",direction:"desc"}]:c.sorting=[{field:"evidence_item_count",direction:"desc"}],e.$watch("ctrl.totalItems",function(){c.totalPages=Math.ceil(c.totalItems/25)}),c.gridOptions={enablePaginationControls:!1,useExternalFiltering:!0,useExternalSorting:!0,useExternalPaging:!0,paginationPageSizes:[d],paginationPageSize:d,minRowsToShow:d,enableHorizontalScrollbar:a.scrollbars.NEVER,enableVerticalScrollbar:a.scrollbars.NEVER,enableFiltering:!0,enableColumnMenus:!1,enableSorting:!0,enableRowSelection:!0,enableRowHeaderSelection:!1,multiSelect:!1,modifierKeysToMultiSelect:!1,noUnselect:!0,rowTemplate:"app/views/browse/directives/browseGridRow.tpl.html"};var u={assertions:[{name:"status",headerTooltip:"Status",displayName:"ST",type:"string",visible:!1},{name:"flagged",type:"boolean",visible:!1},{name:"id",displayName:"AID",visible:!0,type:"number",enableSorting:!0,enableFiltering:!0,headerTooltip:"Assertion ID",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",cellTemplate:"app/views/events/common/assertionGrid/assertionGridIdCell.tpl.html",filter:{condition:a.filter.CONTAINS},minWidth:75,width:"5%"},{name:"gene_name",displayName:"Gene",enableFiltering:!0,allowCellFocus:!1,headerTooltip:"Gene Entrez Name",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",cellTemplate:"app/views/events/common/evidenceGridGeneCell.tpl.html",filter:{condition:a.filter.CONTAINS},width:"10%"},{name:"variant_name",displayName:"Variant",enableFiltering:!0,allowCellFocus:!1,headerTooltip:"Variant Name",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",cellTemplate:"app/views/events/common/evidenceGridVariantCell.tpl.html",filter:{condition:a.filter.CONTAINS},width:"15%"},{name:"disease",displayName:"Disease",headerTooltip:"Disease",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/evidenceGridDiseaseCell.tpl.html",filter:{condition:a.filter.CONTAINS}},{name:"drugs",displayName:"Drugs",headerTooltip:"Drugs",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/evidenceGridDrugCell.tpl.html",filter:{condition:a.filter.CONTAINS}},{name:"summary",displayName:"SUMM",headerTooltip:"Summary",width:"6%",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/evidenceGridEvidenceCell.tpl.html",filter:{condition:a.filter.CONTAINS}},{name:"evidence_type",displayName:"AT",headerTooltip:"Assertion Type",enableFiltering:!0,allowCellFocus:!1,headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",filter:{type:a.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"Predictive",label:"Predictive"},{value:"Prognostic",label:"Prognostic"},{value:"Diagnostic",label:"Diagnostic"},{value:"Predisposing",label:"Predisposing"}]},width:"6%",minWidth:50,cellTemplate:"app/views/events/common/evidenceGridTypeCell.tpl.html"},{name:"evidence_direction",displayName:"AD",headerTooltip:"Assertion Direction",cellTemplate:"app/views/events/common/evidenceDirectionCell.tpl.html",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",allowCellFocus:!1,filter:{type:a.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"Supports",label:"Supports"},{value:"Does Not Support",label:"Does not Support"}]},width:"6%",minWidth:50},{name:"clinical_significance",displayName:"CS",headerTooltip:"Clinical Significance",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",allowCellFocus:!1,filter:{type:a.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"Sensitivity/Response",label:"Sensitivity/Response"},{value:"Resistance",label:"Resistance"},{value:"Adverse Response",label:"Adverse Response"},{value:"Reduced Sensitivity",label:"Reduced Sensitivity"},{value:"Positive",label:"Positive"},{value:"Negative",label:"Negative"},{value:"Better Outcome",label:"Better Outcome"},{value:"Poor Outcome",label:"Poor Outcome"},{value:"Pathogenic",label:"Pathogenic"},{value:"Likely Pathogenic",label:"Likely Pathogenic"},{value:"Benign",label:"Benign"},{value:"Likely Benign",label:"Likely Benign"},{value:"Uncertain Significance",label:"Uncertain Significance"}]},width:"6%",minWidth:50,cellTemplate:"app/views/events/common/evidenceGridClinicalSignificanceCell.tpl.html"},{name:"amp_level_short",displayName:"CAT",enableFiltering:!0,allowCellFocus:!1,headerTooltip:"AMP/ASCO/CAP Category",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",cellTemplate:"app/views/events/common/assertionGrid/assertionGridAmpCell.tpl.html",filter:{condition:a.filter.CONTAINS},width:"5%"},{name:"evidence_item_count",width:"8%",displayName:"Evidence",sort:{direction:a.DESC},enableFiltering:!1,allowCellFocus:!1,filter:{condition:a.filter.CONTAINS},cellTemplate:"app/views/events/common/assertionGrid/assertionGridEvidenceCell.tpl.html"}],evidence_items:[{name:"status",headerTooltip:"Status",displayName:"ST",type:"string",visible:!1},{name:"flagged",type:"boolean",visible:!1},{name:"id",displayName:"EID",visible:!0,type:"number",enableSorting:!0,enableFiltering:!0,headerTooltip:"Evidence ID",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",cellTemplate:"app/views/events/common/evidenceGridIdCell.tpl.html",filter:{condition:a.filter.CONTAINS},minWidth:75,width:"8%"},{name:"gene_name",displayName:"Gene",enableFiltering:!0,allowCellFocus:!1,headerTooltip:"Gene Entrez Name",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",cellTemplate:"app/views/events/common/evidenceGridGeneCell.tpl.html",filter:{condition:a.filter.CONTAINS},width:"8%"},{name:"variant_name",displayName:"Variant",enableFiltering:!0,allowCellFocus:!1,headerTooltip:"Variant Name",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",cellTemplate:"app/views/events/common/evidenceGridVariantCell.tpl.html",filter:{condition:a.filter.CONTAINS},width:"10%"},{name:"disease",displayName:"Disease",headerTooltip:"Disease",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/evidenceGridDiseaseCell.tpl.html",filter:{condition:a.filter.CONTAINS}},{name:"drugs",displayName:"Drugs",headerTooltip:"Drugs",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/evidenceGridDrugCell.tpl.html",filter:{condition:a.filter.CONTAINS}},{name:"description",displayName:"DESC",headerTooltip:"Description",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/evidenceGridEvidenceCell.tpl.html",filter:{condition:a.filter.CONTAINS},width:"6%"},{name:"evidence_level",enableFiltering:!0,allowCellFocus:!1,displayName:"EL",headerTooltip:"Evidence Level",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",cellTemplate:"app/views/events/common/evidenceGridLevelCell.tpl.html",width:"6%",minWidth:50,filter:{type:a.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"A",label:"A - Validated"},{value:"B",label:"B - Clinical"},{value:"C",label:"C - Case Study"},{value:"D",label:"D - Preclinical"},{value:"E",label:"E - Inferential"}]}},{name:"evidence_type",displayName:"ET",headerTooltip:"Evidence Type",enableFiltering:!0,allowCellFocus:!1,headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",filter:{type:a.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"Predictive",label:"Predictive"},{value:"Prognostic",label:"Prognostic"},{value:"Diagnostic",label:"Diagnostic"},{value:"Predisposing",label:"Predisposing"},{value:"Oncogenic",label:"Oncogenic"},{value:"Functional",label:"Functional"}]},width:"6%",minWidth:50,cellTemplate:"app/views/events/common/evidenceGridTypeCell.tpl.html"},{name:"evidence_direction",displayName:"ED",headerTooltip:"Evidence Direction",cellTemplate:"app/views/events/common/evidenceDirectionCell.tpl.html",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",allowCellFocus:!1,filter:{type:a.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"Supports",label:"Supports"},{value:"Does Not Support",label:"Does not Support"},{value:"N/A",label:"N/A"}]},width:"6%",minWidth:50},{name:"clinical_significance",displayName:"CS",headerTooltip:"Clinical Significance",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",allowCellFocus:!1,filter:{type:a.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"Sensitivity/Response",label:"Sensitivity/Response"},{value:"Resistance",label:"Resistance"},{value:"Adverse Response",label:"Adverse Response"},{value:"Reduced Sensitivity",label:"Reduced Sensitivity"},{value:"Positive",label:"Positive"},{value:"Negative",label:"Negative"},{value:"Better Outcome",label:"Better Outcome"},{value:"Poor Outcome",label:"Poor Outcome"},{value:"Gain of Function",label:"Gain of Function"},{value:"Loss of Function",label:"Loss of Function"},{value:"Unaltered Function",label:"Unaltered Function"},{value:"Neomorphic",label:"Neomorphic"},{value:"Dominant Negative",label:"Dominant Negative"},{value:"Unknown",label:"Unknown"},{value:"N/A",label:"N/A"}]},width:"6%",minWidth:50,cellTemplate:"app/views/events/common/evidenceGridClinicalSignificanceCell.tpl.html"},{name:"variant_origin",displayName:"VO",headerTooltip:"Variant Origin",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",allowCellFocus:!1,filter:{type:a.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"Somatic",label:"Somatic"},{value:"Rare Germline",label:"Rare Germline"},{value:"Common Germline",label:"Common Germline"},{value:"Unknown",label:"Unknown"},{value:"N/A",label:"N/A"}]},width:"6%",minWidth:50,cellTemplate:"app/views/events/common/evidenceGridVariantOriginCell.tpl.html"},{name:"rating",displayName:"ER",headerTooltip:"Evidence Rating",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",allowCellFocus:!1,filter:{type:a.filter.SELECT,condition:a.filter.GREATER_THAN_OR_EQUAL,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"5",label:"5 stars"},{value:"4",label:"4 stars"},{value:"3",label:"3 stars"},{value:"2",label:"2 stars"},{value:"1",label:"1 stars"}]},width:"6%",minWidth:50,cellTemplate:"app/views/events/common/evidenceGridRatingCell.tpl.html"}],variants:[{name:"variant",width:"15%",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/browse/directives/browseGridVariantCell.tpl.html",filter:{condition:a.filter.CONTAINS}},{name:"flagged",type:"boolean",visible:!1},{name:"entrez_gene",width:"9%",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/genericHighlightCell.tpl.html",filter:{condition:a.filter.CONTAINS}},{name:"diseases",displayName:"Diseases",width:"23%",enableFiltering:!0,allowCellFocus:!1,filter:{condition:a.filter.CONTAINS},cellTemplate:"app/views/browse/directives/browseGridTooltipCell.tpl.html"},{name:"drugs",displayName:"Drugs",width:"23%",enableFiltering:!0,allowCellFocus:!1,filter:{condition:a.filter.CONTAINS},cellTemplate:"app/views/browse/directives/browseGridTooltipCell.tpl.html"},{name:"evidence_item_count",width:"8%",displayName:"Evidence",enableFiltering:!1,allowCellFocus:!1,filter:{condition:a.filter.CONTAINS}},{name:"assertion_count",width:"9%",displayName:"Assertions",enableFiltering:!1,allowCellFocus:!1,filter:{condition:a.filter.CONTAINS}},{name:"civic_actionability_score",width:"13%",displayName:"Evidence Score",enableFiltering:!1,allowCellFocus:!1,sort:{direction:a.DESC},filter:{condition:a.filter.CONTAINS}}],genes:[{name:"name",width:"10%",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/genericHighlightCell.tpl.html",filter:{condition:a.filter.CONTAINS}},{name:"flagged",type:"boolean",visible:!1},{name:"gene_aliases",width:"30%",displayName:"Gene Aliases",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/browse/directives/browseGridTooltipCell.tpl.html",filter:{condition:a.filter.CONTAINS}},{name:"diseases",displayName:"Diseases",enableFiltering:!0,allowCellFocus:!1,filter:{condition:a.filter.CONTAINS},cellTemplate:"app/views/browse/directives/browseGridTooltipCell.tpl.html"},{name:"drugs",displayName:"Drugs",enableFiltering:!0,allowCellFocus:!1,filter:{condition:a.filter.CONTAINS},cellTemplate:"app/views/browse/directives/browseGridTooltipCell.tpl.html"},{name:"variant_count",displayName:"Variants",width:"10%",enableFiltering:!1,allowCellFocus:!1,filter:{condition:a.filter.CONTAINS}},{name:"evidence_item_count",width:"10%",displayName:"Evidence",sort:{direction:a.DESC},enableFiltering:!1,allowCellFocus:!1,filter:{condition:a.filter.CONTAINS}},{name:"assertion_count",width:"10%",displayName:"Assertions",enableFiltering:!1,allowCellFocus:!1,filter:{condition:a.filter.CONTAINS}}],variant_groups:[{name:"name",displayName:"Name",width:"20%",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/genericHighlightCell.tpl.html",filter:{condition:a.filter.CONTAINS}},{name:"flagged",type:"boolean",visible:!1},{name:"variants",displayName:"Variants",enableFiltering:!0,allowCellFocus:!1,filter:{condition:a.filter.CONTAINS},cellTemplate:"app/views/browse/directives/browseGridTooltipCell.tpl.html"},{name:"variant_count",displayName:"Count",width:"7%",enableFiltering:!1,allowCellFocus:!1},{name:"entrez_genes",displayName:"Genes",width:"23%",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/genericHighlightCell.tpl.html",filter:{condition:a.filter.CONTAINS}},{name:"evidence_item_count",type:"number",displayName:"Evidence",width:"10%",enableFiltering:!1,allowCellFocus:!1,sort:{direction:a.DESC},filter:{condition:a.filter.CONTAINS}}],sources:[{name:"source_type",displayName:"Type",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/genericHighlightCell.tpl.html",type:"string",width:"8%",filter:{type:a.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"0",label:"PubMed"},{value:"1",label:"ASCO"}]}},{name:"flagged",type:"boolean",visible:!1},{name:"citation_id",displayName:"Citation ID",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/genericHighlightCell.tpl.html",type:"string",width:"8%",filter:{condition:a.filter.CONTAINS}},{name:"author_list",displayName:"Authors",enableFiltering:!0,allowCellFocus:!1,type:"string",width:"15%",cellTemplate:"app/views/browse/directives/browseGridTooltipCell.tpl.html",filter:{condition:a.filter.CONTAINS}},{name:"publication_year",displayName:"Year",type:"string",enableFiltering:!0,allowCellFocus:!1,filter:{condition:a.filter.CONTAINS},cellTemplate:"app/views/browse/directives/browseGridTooltipCell.tpl.html",width:"8%"},{name:"journal",displayName:"Journal",type:"string",enableFiltering:!0,allowCellFocus:!1,width:"12%",cellTemplate:"app/views/browse/directives/browseGridTooltipCell.tpl.html",filter:{condition:a.filter.CONTAINS}},{name:"name",displayName:"Name",type:"string",allowCellFocus:!1,enableFiltering:!0,cellTemplate:"app/views/browse/directives/browseGridTooltipCell.tpl.html",filter:{condition:a.filter.CONTAINS}},{name:"evidence_item_count",type:"number",displayName:"Evidence",width:"10%",enableFiltering:!1,allowCellFocus:!1,sort:{direction:a.DESC}}]};c.gridOptions.onRegisterApi=function(a){c.gridApi=a,c.pageChanged=function(){n.search("page",c.page),r()},a.core.on.filterChanged(e,function(){var e=o.filter(this.grid.columns,function(e){return o.has(e.filter,"term")&&!o.isEmpty(e.filter.term)&&o.isString(e.filter.term)});e.length>0?c.filters=o.map(e,function(e){return{field:e.field,term:e.filter.term}}):c.filters=[],c.page=1,r()}),a.core.on.sortChanged(e,function(e,t){t.length>0?c.sorting=o.map(t,function(e){return{field:e.field,direction:e.sort.direction}}):c.sorting=[],r()}),a.selection.on.rowSelectionChanged(e,function(e,n){var a="",s={};if("variants"===c.mode?(a="events.genes.summary.variants.summary",s={geneId:e.entity.gene_id,variantId:e.entity.variant_id,"#":"variant"}):"genes"===c.mode?(a="events.genes.summary",s={geneId:e.entity.id,"#":"gene"}):"variant_groups"===c.mode?(a="events.genes.summary.variantGroups.summary",s={geneId:e.entity.gene_ids.split(", ")[0],variantGroupId:e.entity.id,"#":"variant-group"}):"sources"===c.mode?(a="sources.summary",s={sourceId:e.entity.id}):"assertions"===c.mode?(a="events.assertions.summary",s={assertionId:e.entity.id}):"evidence_items"===c.mode&&(a="events.genes.summary.variants.summary.evidence.summary",s={geneId:e.entity.gene_id,variantId:e.entity.variant_id,evidenceId:e.entity.id,"#":"evidence"}),n.metaKey){var o=t.href(a,s,{absolute:!0});i.open(o,"_blank")}else t.go(a,s)})},r()}t.$inject=["$scope","$state","$window","$location","uiGridConstants","Datatables","_"],angular.module("civic.events").directive("browseGrid",e).controller("BrowseGridController",t)}(),function(){"use strict";function e(){return{restrict:"E",replace:!0,scope:{evidence:"=",variant:"=",source:"=",rows:"=",showGeneCol:"=",showVariantCol:"=",context:"=",rounded:"="},templateUrl:"app/views/events/common/evidenceGrid.tpl.html",controller:"EvidenceGridController"}}function t(e,t,i,n,a,s,o,r,l){function c(e,t){l.has(t.selection.lastSelectedRow,"entity")&&"rejected"===e&&"rejected"===t.selection.lastSelectedRow.entity.status||l.has(t.selection.lastSelectedRow,"entity")&&"submitted"===e&&"submitted"===t.selection.lastSelectedRow.entity.status||(l.includes(u,e)?l.pull(u,e):u.push(e),t.queueGridRefresh())}var d=e.ctrl={},u=["accepted","submitted"];d.context=e.context,d.showGridKey=!1,d.keyPopover={templateUrl:"app/views/events/common/evidenceGridPopoverKey.tpl.html",title:"Evidence Grid Column Key"},d.exportPopover={templateUrl:"app/views/events/common/gridExportPopover.tpl.html",title:"Save CSV",include:"all",type:"csv"},d.tooltipPopupDelay=500,d.evidenceLevels={A:"A - Validated",B:"B - Clinical",C:"C - Case Study",D:"D - Preclinical",E:"E - Inferential"},d.rowsToShow=void 0===e.rows?5:e.rows,d.evidenceGridOptions={minRowsToShow:d.rowsToShow-1,enableHorizontalScrollbar:o.scrollbars.NEVER,enableVerticalScrollbar:o.scrollbars.ALWAYS,enableFiltering:!0,enableColumnMenus:!1,enableSorting:!0,enableRowSelection:!0,enableRowHeaderSelection:!1,multiSelect:!1,noUnselect:!0,modifierKeysToMultiSelect:!1,exporterOlderExcelCompatibility:!0,exporterHeaderFilter:function(e){var t=l.find(d.evidenceGridOptions.columnDefs,{displayName:e});return t.headerTooltip?t.headerTooltip:e},exporterPdfDefaultStyle:{fontSize:7},exporterPdfPageSize:"LETTER",exporterPdfOrientation:"landscape",exporterPdfTableStyle:{margin:[0,0,0,0]},exporterPdfTableHeaderStyle:{fontSize:10,bold:!0,italics:!0,color:"darkgrey"},exporterPdfMaxGridWidth:630,exporterPdfTableLayout:"lightHorizontalLines",exporterMenuCsv:!1,exporterMenuPdf:!1,enableGridMenu:!0,exporterMenuExcel:!1,gridMenuShowHideColumns:!1,rowTemplate:"app/views/events/common/evidenceGridRowTemplate.tpl.html",gridMenuCustomItems:[{title:"Show Accepted",active:function(){return l.includes(u,"accepted")},action:function(e){c("accepted",this.grid)}},{title:"Show Submitted",active:function(){return l.includes(u,"submitted")},action:function(e){c("submitted",this.grid)}},{title:"Show Rejected",active:function(){return l.includes(u,"rejected")},action:function(e){c("rejected",this.grid)}}],data:[],columnDefs:[{name:"status",headerTooltip:"Status",displayName:"ST",type:"string",visible:!1,filter:{noTerm:!0,condition:function(e,t){return l.includes(u,t)}}},{name:"flag",type:"boolean",headerTooltip:"Flag",displayName:"FLAG",visible:!1},{name:"id",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",displayName:"EID",headerTooltip:"Evidence ID",type:"number",enableFiltering:!0,allowCellFocus:!1,minWidth:50,width:"8%",cellTemplate:"app/views/events/common/evidenceGridIdCell.tpl.html"},{name:"gene",field:"state_params.gene.name",displayName:"GENE",visible:e.showGeneCol,headerTooltip:"Gene",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",type:"string",enableFiltering:!0,allowCellFocus:!1,filter:{condition:o.filter.CONTAINS},cellTemplate:"app/views/events/common/evidenceGridGeneCell.tpl.html",width:"6%"},{name:"variant",field:"state_params.variant.name",displayName:"VARIANT",visible:e.showVariantCol,headerTooltip:"Variant",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",type:"string",enableFiltering:!0,allowCellFocus:!1,filter:{condition:o.filter.CONTAINS},cellTemplate:"app/views/events/common/evidenceGridVariantCell.tpl.html",width:"8%"},{name:"disease",field:"disease.name",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",displayName:"DIS",headerTooltip:"Disease",type:"string",allowCellFocus:!1,enableFiltering:!0,filter:{condition:o.filter.CONTAINS},cellTemplate:"app/views/events/common/evidenceGridDiseaseCell.tpl.html"},{name:"druglist",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",displayName:"DRUGS",headerTooltip:"Drugs",type:"string",allowCellFocus:!1,enableFiltering:!0,filter:{condition:o.filter.CONTAINS},cellTemplate:"app/views/events/common/evidenceGridDrugCell.tpl.html"},{name:"description",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",displayName:"DESC",headerTooltip:"Description",width:"6%",type:"string",enableFiltering:!0,allowCellFocus:!1,filter:{condition:o.filter.CONTAINS},cellTemplate:"app/views/events/common/evidenceGridEvidenceCell.tpl.html"},{name:"evidence_level",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",displayName:"EL",headerTooltip:"Evidence Level",type:"string",allowCellFocus:!1,filter:{type:o.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"A",label:"A - Validated"},{value:"B",label:"B - Clinical"},{value:"C",label:"C - Case Study"},{value:"D",label:"D - Preclinical"},{value:"E",label:"E - Inferential"}]},sort:{direction:o.ASC},width:"6%",minWidth:50,cellTemplate:"app/views/events/common/evidenceGridLevelCell.tpl.html"},{name:"evidence_type",
headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",displayName:"ET",headerTooltip:"Evidence Type",type:"string",allowCellFocus:!1,filter:{type:o.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"Predictive",label:"Predictive"},{value:"Prognostic",label:"Prognostic"},{value:"Diagnostic",label:"Diagnostic"},{value:"Predisposing",label:"Predisposing"},{value:"Oncogenic",label:"Oncogenic"},{value:"Functional",label:"Functional"}]},width:"6%",minWidth:50,cellTemplate:"app/views/events/common/evidenceGridTypeCell.tpl.html"},{name:"evidence_direction",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",displayName:"ED",headerTooltip:"Evidence Direction",type:"string",allowCellFocus:!1,filter:{type:o.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"Supports",label:"Supports"},{value:"Does not Support",label:"Does not Support"},{value:"N/A",label:"N/A"}]},width:"6%",minWidth:50,cellTemplate:"app/views/events/common/evidenceDirectionCell.tpl.html"},{name:"clinical_significance",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",displayName:"CS",headerTooltip:"Clinical Significance",type:"string",allowCellFocus:!1,filter:{type:o.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"Sensitivity/Response",label:"Sensitivity/Response"},{value:"Resistance",label:"Resistance"},{value:"Adverse Response",label:"Adverse Response"},{value:"Reduced Sensitivity",label:"Reduced Sensitivity"},{value:"Positive",label:"Positive"},{value:"Negative",label:"Negative"},{value:"Better Outcome",label:"Better Outcome"},{value:"Poor Outcome",label:"Poor Outcome"},{value:"Gain of Function",label:"Gain of Function"},{value:"Loss of Function",label:"Loss of Function"},{value:"Unaltered Function",label:"Unaltered Function"},{value:"Neomorphic",label:"Neomorphic"},{value:"Dominant Negative",label:"Dominant Negative"},{value:"Unknown",label:"Unknown"},{value:"N/A",label:"N/A"}]},width:"6%",minWidth:50,cellTemplate:"app/views/events/common/evidenceGridClinicalSignificanceCell.tpl.html"},{name:"variant_origin",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",displayName:"VO",headerTooltip:"Variant Origin",type:"string",allowCellFocus:!1,filter:{type:o.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"Somatic",label:"Somatic"},{value:"Rare Germline",label:"Rare Germline"},{value:"Common Germline",label:"Common Germline"},{value:"Unknown",label:"Unknown"},{value:"N/A",label:"N/A"}]},width:"6%",minWidth:50,cellTemplate:"app/views/events/common/evidenceGridVariantOriginCell.tpl.html"},{name:"rating",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",displayName:"ER",headerTooltip:"Evidence Rating",type:"number",allowCellFocus:!1,filter:{type:o.filter.SELECT,condition:o.filter.GREATER_THAN_OR_EQUAL,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"5",label:"5 stars"},{value:"4",label:"4 stars"},{value:"3",label:"3 stars"},{value:"2",label:"2 stars"},{value:"1",label:"1 stars"}]},sort:{direction:o.DESC},width:"6%",minWidth:50,cellTemplate:"app/views/events/common/evidenceGridRatingCell.tpl.html"},{name:"phenotypes_list",displayName:"Associated Phenotypes",headerTooltip:"Associated Phenotypes",type:"string",visible:!1,allowCellFocus:!1,enableFiltering:!0},{name:"source.source_type",displayName:"Source Type",headerTooltip:"Source Type",type:"string",visible:!1,allowCellFocus:!1,enableFiltering:!0},{name:"source.citation_id",displayName:"Citation ID",headerTooltip:"Citation ID",type:"string",visible:!1,allowCellFocus:!1,enableFiltering:!0},{name:"source.clinical_trial_ids",displayName:"Clinical Trial IDs",headerTooltip:"Clinical Trial IDs",type:"string",visible:!1,allowCellFocus:!1,enableFiltering:!0}]},d.evidenceGridOptions.onRegisterApi=function(o){function c(e){return l.map(e,function(e){return l.isArray(e.drugs)&&e.drugs.length>0?e.druglist=l.chain(e.drugs).map("name").value().join(", "):e.druglist="N/A",l.isArray(e.source.clinical_trials)&&e.source.clinical_trials.length>0?e.source.clinical_trial_ids=l.chain(e.source.clinical_trials).map("nct_id").value().join(", "):e.source.clinical_trial_ids=null,l.isArray(e.phenotypes)&&e.phenotypes.length>0?e.phenotypes_list=l.chain(e.phenotypes).without("").map("hpo_class").value().join(", "):e.phenotypes_list=null,null!==e.rating&&void 0!==e.rating||(e.rating=0),e})}function p(e){var t=s("date")(new Date,"yyyy-MM-ddTHH:MM:ss");return l.isUndefined(e)?"CIViC_evidence_"+t+".csv":"CIViC_"+e.name+"_evidence_"+t+".csv"}d.gridApi=o;var m=!1;d.evidenceGridOptions.data=c(e.evidence),d.exportData=function(){d.evidenceGridOptions.exporterCsvFilename=p(e.variant);var t="all"===d.exportPopover.include?r.ALL:r.VISIBLE;"csv"===d.exportPopover.type?o.exporter.csvExport(t,r.ALL):o.exporter.pdfExport(t,r.ALL)},e.$watchCollection("evidence",function(e){l.every(e,{status:"rejected"})?u=["accepted","submitted","rejected"]:l.includes(u,"rejected")||(u=["accepted","submitted"]),l.isUndefined(e)||d.gridApi.grid.queueRefresh().then(function(){d.evidenceGridOptions.data=c(e)})}),o.core.on.rowsRendered(e,function(){if(l.has(i,"evidenceId")){var t=l.find(e.evidence,function(e){return e.id===+i.evidenceId});l.isUndefined(t)||("rejected"===t.status&&(a.debug("highlight row is for rejected entity."),l.includes(u,"rejected")||u.push("rejected")),m=!0,o.selection.selectRow(t),o.grid.scrollTo(t),m=!1)}}),o.selection.on.rowSelectionChanged(e,function(e,a){var s={};if(void 0!==i.geneId&&void 0!==i.variantId){if(s=l.merge(i,{evidenceId:e.entity.id,"#":"evidence"}),!m)if(a.metaKey){var o=n.href("events.genes.summary.variants.summary.evidence.summary",s,{absolute:!0});t.open(o,"_blank")}else n.go("events.genes.summary.variants.summary.evidence.summary",s)}else void 0!==e.entity.state_params&&(s={geneId:e.entity.state_params.gene.id,variantId:e.entity.state_params.variant.id,evidenceId:e.entity.id,"#":"evidence"},m||n.go("events.genes.summary.variants.summary.evidence.summary",s))})}}t.$inject=["$scope","$window","$stateParams","$state","$log","$filter","uiGridConstants","uiGridExporterConstants","_"],angular.module("civic.events").directive("evidenceGrid",e).controller("EvidenceGridController",t)}(),function(){"use strict";function e(){return{restrict:"E",replace:!0,scope:{changes:"=",baseState:"@"},templateUrl:"app/views/events/common/revisionsGrid.tpl.html",controller:"RevisionsGridController"}}function t(e,t,i,n,a,s){var o=e.ctrl={};e.$state=t,e.$stateParams=i,o.rowsToShow=6,o.revisionsGridOptions={minRowsToShow:o.rowsToShow-1,enableHorizontalScrollbar:a.scrollbars.NEVER,enableVerticalScrollbar:a.scrollbars.ALWAYS,enableFiltering:!0,enableColumnMenus:!1,enableSorting:!0,enableRowSelection:!0,enableRowHeaderSelection:!1,multiSelect:!1,modifierKeysToMultiSelect:!1,noUnselect:!0,columnDefs:[{name:"id",displayName:"RID",enableFiltering:!1,allowCellFocus:!1,width:"5%"},{name:"user",displayName:"Submitted by",enableFiltering:!0,allowCellFocus:!1,cellFilter:"user.display_name",cellTemplate:'<div class="ui-grid-cell-contents"><user-block user="row.entity[col.field]"</div>',filter:{condition:a.filter.CONTAINS}},{name:"status",displayName:"Status",allowCellFocus:!1,enableFiltering:!0,filter:{condition:a.filter.CONTAINS}},{name:"created_at",displayName:"Created",allowCellFocus:!1,enableFiltering:!1,sort:{direction:a.DESC},filter:{condition:a.filter.CONTAINS},cellTemplate:"app/views/events/common/revisionsGridCreatedCell.tpl.html"}]},o.revisionsGridOptions.onRegisterApi=function(n){if(o.gridApi=n,o.revisionsGridOptions.data=e.changes,s.has(i,"revisionId")){var a=s.find(e.changes,function(e){return e.id===+i.revisionId});n.core.on.rowsRendered(e,function(){n.selection.selectRow(a),n.grid.scrollTo(a)})}n.selection.on.rowSelectionChanged(e,function(i){var n=s.merge(e.$stateParams,{revisionId:i.entity.id}),a=e.baseState+".list.summary";t.go(a,n)}),e.$watchCollection("changes",function(e){o.revisionsGridOptions.data=e})}}t.$inject=["$scope","$state","$stateParams","$location","uiGridConstants","_"],angular.module("civic.events").directive("revisionsGrid",e).controller("RevisionsGridController",t)}(),function(){"use strict";function e(){return{restrict:"E",replace:!0,scope:{variants:"=",rows:"=",context:"=",variantGroup:"="},templateUrl:"app/views/events/variantGroups/summary/variantGrid.tpl.html",controller:"VariantGridController"}}function t(e,t,i,n,a,s,o,r){var l=e.ctrl={};l.exportPopover={templateUrl:"app/views/events/common/gridExportPopover.tpl.html",title:"Save CSV",include:"all",type:"csv"},l.rowsToShow=void 0===e.rows?5:e.rows,l.variantGridOptions={minRowsToShow:l.rowsToShow-1,enablePaging:!1,enableHorizontalScrollbar:s.scrollbars.NEVER,enableVerticalScrollbar:s.scrollbars.NEVER,enableFiltering:!0,enableColumnMenus:!1,enableSorting:!0,enableRowSelection:!0,enableRowHeaderSelection:!1,multiSelect:!1,modifierKeysToMultiSelect:!1,noUnselect:!0,columnDefs:[{name:"entrez_name",displayName:"Gene",type:"string",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/genericHighlightCell.tpl.html",width:"9%",filter:{condition:s.filter.CONTAINS}},{name:"name",displayName:"Variant Name",enableFiltering:!0,allowCellFocus:!1,type:"string",cellTemplate:"app/views/browse/directives/browseGridVariantCell.tpl.html",width:"20%",filter:{condition:s.filter.CONTAINS}},{name:"variant_group_list",displayName:"Variant Group(s)",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/genericHighlightCell.tpl.html",type:"string",width:"20%",filter:{condition:s.filter.CONTAINS}},{name:"variant_type_list",displayName:"Variant Types(s)",enableFiltering:!0,allowCellFocus:!1,type:"string",filter:{condition:s.filter.CONTAINS},cellTemplate:"app/views/events/variantGroups/summary/variantGridTooltipCell.tpl.html"},{name:"description",displayName:"Description",type:"string",allowCellFocus:!1,enableFiltering:!0,filter:{condition:s.filter.CONTAINS},cellTemplate:"app/views/events/variantGroups/summary/variantGridDescriptionCell.tpl.html"},{name:"coordinates.chromosome",visible:!1,displayName:"Chromosome 1",type:"string",enableFiltering:!0,allowCellFocus:!1},{name:"coordinates.start",visible:!1,displayName:"Chromosome 1 Start",type:"string",enableFiltering:!0,allowCellFocus:!1},{name:"coordinates.stop",visible:!1,displayName:"Chromosome 1 Stop",type:"string",enableFiltering:!0,allowCellFocus:!1},{name:"coordinates.chromosome2",visible:!1,displayName:"Chromosome 2",type:"string",enableFiltering:!0,allowCellFocus:!1},{name:"coordinates.start2",visible:!1,displayName:"Chromosome 2 Start",type:"string",enableFiltering:!0,allowCellFocus:!1},{name:"coordinates.stop2",visible:!1,displayName:"Chromosome 2 Stop",type:"string",enableFiltering:!0,allowCellFocus:!1},{name:"coordinates.reference_build",visible:!1,displayName:"Reference Build",type:"string",enableFiltering:!0,allowCellFocus:!1}]},l.variantGridOptions.onRegisterApi=function(s){function c(){return"CIViC_variants_"+a("date")(new Date,"yyyy-MM-ddTHH:MM:ss")+".csv"}function d(e){return r.map(e,function(e){return r.isArray(e.variant_groups)&&e.variant_groups.length>0?e.variant_group_list=r.map(e.variant_groups,"name").join(", "):e.variant_group_list="N/A",r.isArray(e.variant_types)&&e.variant_types.length>0?e.variant_type_list=r.map(e.variant_types,"display_name").join(", "):e.variant_type_list="N/A",e})}var u=e.variants;l.gridApi=s,l.context=e.context,l.variantGroup=e.variantGroup,l.variantGridOptions.data=d(u),l.exportData=function(){l.variantGridOptions.exporterCsvFilename=c();var e="all"===l.exportPopover.include?o.ALL:o.VISIBLE;"csv"===l.exportPopover.type?s.exporter.csvExport(e,o.ALL):s.exporter.pdfExport(e,o.ALL)},e.$watchCollection("variants",function(e){l.variantGridOptions.minRowsToShow=e.length+1,l.variantGridOptions.data=d(e)}),s.selection.on.rowSelectionChanged(e,function(e,a){var s=r.merge(i,{variantId:e.entity.id,geneId:e.entity.gene_id});if(a.metaKey){var o=n.href("events.genes.summary.variants.summary",s,{absolute:!0});t.open(o,"_blank")}else n.go("events.genes.summary.variants.summary",s)})}}t.$inject=["$scope","$window","$stateParams","$state","$filter","uiGridConstants","uiGridExporterConstants","_"],angular.module("civic.events").directive("variantGrid",e).controller("VariantGridController",t)}(),function(){"use strict";function e(){return{restrict:"E",replace:!0,scope:{changes:"=",rows:"=",context:"="},templateUrl:"app/views/events/common/changesGrid/changesGrid.tpl.html",controller:"ChangesGridController"}}function t(e,t,i,n,a,s,o,r){var l=e.ctrl={};l.exportPopover={templateUrl:"app/views/events/common/gridExportPopover.tpl.html",title:"Save CSV",include:"all",type:"csv"},l.rowsToShow=void 0===e.rows?5:e.rows,l.changesGridOptions={minRowsToShow:l.rowsToShow-1,enablePaging:!1,enableHorizontalScrollbar:o.scrollbars.NEVER,enableVerticalScrollbar:o.scrollbars.NEVER,enableFiltering:!0,enableColumnMenus:!1,enableSorting:!0,enableRowSelection:!0,enableRowHeaderSelection:!1,multiSelect:!1,modifierKeysToMultiSelect:!1,noUnselect:!0,columnDefs:[{name:"created_at",displayName:"Created",width:"15%",cellTemplate:'<div class="ui-grid-cell-contents"><span ng-bind="row.entity[col.field]|timeAgo"></span></div>',enableFiltering:!1,allowCellFocus:!1,type:"date",sort:{direction:o.DESC},enableSorting:!0},{name:"user",displayName:"Created by",type:"string",enableFiltering:!0,allowCellFocus:!1,enableSorting:!1,width:"18%",cellTemplate:'<div class="ui-grid-cell-contents"><user-block user="row.entity[col.field]"</div>',filter:{condition:function(e,t,i,n){return t.display_name.includes(e)}}},{name:"status",displayName:"Status",type:"string",width:"8%",allowCellFocus:!1,enableFiltering:!0,enableSorting:!0,cellTemplate:"app/views/events/common/changesGrid/entityStatusCell.tpl.html",filter:{type:o.filter.SELECT,condition:o.filter.EXACT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"new",label:"new"},{value:"applied",label:"applied"},{value:"closed",label:"closed"},{value:"superseded",label:"superseded"}]}},{name:"type",displayName:"Type",type:"string",width:"10%",allowCellFocus:!1,enableFiltering:!0,enableSorting:!0,filter:{type:o.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"Assertion",label:"Assertion"},{value:"Evidence Item",label:"Evidence Item"},{value:"Gene",label:"Gene"},{value:"Variant",label:"Variant"},{value:"Variant Group",label:"Variant Group"}]}},{name:"full_name",displayName:"Name",type:"string",cellTemplate:"app/views/events/common/changesGrid/tooltipCell.tpl.html",allowCellFocus:!1,enableFiltering:!0,enableSorting:!0,filter:{condition:o.filter.CONTAINS}},{name:"fields",displayName:"Fields",type:"string",allowCellFocus:!1,enableFiltering:!0,enableSorting:!0,filter:{condition:o.filter.CONTAINS}}]},l.changesGridOptions.onRegisterApi=function(t){function i(){return"CIViC_changes_"+a("date")(new Date,"yyyy-MM-ddTHH:MM:ss")+".csv"}function c(e){return e=r.map(e,function(e){var t=e.state_params;e.type=r.startCase(e.moderated_object.type);var i=["gene","variant","variant_group","evidence_item","assertion"],n=[];return r.each(i,function(e){r.has(t,e)&&n.push(t[e].name)}),e.full_name=n.join(" / "),e.fields=r.keys(e.suggested_changes).join(", "),e})}var d=e.changes;l.gridApi=t,l.context=e.context,l.variantGroup=e.variantGroup,l.changesGridOptions.data=c(d),e.$watchCollection("changes",function(e){e&&(t.grid.columns[3].filters[0].condition=o.filter.EXACT,l.changesGridOptions.minRowsToShow=e.length+1,l.changesGridOptions.data=c(e))}),l.exportData=function(){l.changesGridOptions.exporterCsvFilename=i(e.variant);var n="all"===l.exportPopover.include?s.ALL:s.VISIBLE;"csv"===l.exportPopover.type?t.exporter.csvExport(n,s.ALL):t.exporter.pdfExport(n,s.ALL)},t.selection.on.rowSelectionChanged(e,function(e,t){var i=e.entity,a={Assertion:"events.assertions",Gene:"events.genes",Variant:"events.genes.summary.variants",VariantGroup:"events.genes.summary.variantGroups",EvidenceItem:"events.genes.summary.variants.summary.evidence"},s={};r.each(i.state_params,function(e,t){var i;i="suggested_change"===t?"revisionId":"evidence_item"===t?"evidenceId":"variant_group"===t?"variantGroupId":"source"===t?"sourceId":t+"Id",s[i]=e.id});var o=i.moderated_object.type;!1===i.unlinkable&&n.go(a[o]+".talk.revisions.list.summary",s)})}}t.$inject=["$scope","$window","$stateParams","$state","$filter","uiGridExporterConstants","uiGridConstants","_"],angular.module("civic.events").directive("changesGrid",e).controller("ChangesGridController",t)}(),function(){"use strict";function e(){return{restrict:"E",replace:!0,scope:{mode:"=",items:"="},templateUrl:"app/views/events/common/evidenceSelector/evidenceSelector.tpl.html",controller:"EvidenceSelectorController"}}function t(e,t,i,n,a,s,o){function r(){l(c.mode,c.count,c.page,c.sorting,c.filters).then(function(e){c.gridOptions.data=e.result,c.gridOptions.columnDefs=p[c.mode],c.totalItems=e.total})}function l(e,t,i,n,s){var r;if(r={mode:"evidence_items",count:t,page:i},s.length>0&&o.each(s,function(e){r["filter["+e.field+"]"]=e.term}),n.length>0){r.sort_priority="";var l=n.length;o.each(n,function(e,t){r["sorting["+e.field+"]"]=e.direction,r.sort_priority+=e.field,t+1<l&&(r.sort_priority+=",")})}return a.query(r)}var c=e.ctrl={},d=c.maxRows=5;c.mode=e.mode,c.totalItems=Number(),c.page=1,c.count=d,c.filters=[],c.sorting=[{field:"id",direction:"asc"}],e.$watch("ctrl.totalItems",function(){c.totalPages=Math.ceil(c.totalItems/5)});var u={A:"Validated",B:"Clinical",C:"Case Study",D:"Preclinical",E:"Inferential"};c.addItem=function(t){s.get(t.id).then(function(t){e.items.unshift(t)})},e.$watchCollection("items",function(e){o.each(e,function(e){o.isUndefined(e.evidence_level_string)&&(e.evidence_level_string=e.evidence_level+" - "+u[e.evidence_level],e.drugs.length>0?e.drugsStr=o.chain(e.drugs).map("name").value().join(", "):e.drugsStr="N/A")})}),c.removeItem=function(t){e.items=o.reject(e.items,{id:t.id})},c.isInItems=function(t){return o.some(e.items,{id:t})},c.gridOptions={enablePaginationControls:!1,useExternalFiltering:!0,useExternalSorting:!0,useExternalPaging:!0,paginationPageSizes:[d],paginationPageSize:d,minRowsToShow:d,enableHorizontalScrollbar:n.scrollbars.NEVER,enableVerticalScrollbar:n.scrollbars.NEVER,enableFiltering:!0,enableColumnMenus:!1,enableSorting:!0,enableRowSelection:!1,enableRowHeaderSelection:!1,multiSelect:!1,modifierKeysToMultiSelect:!1,noUnselect:!0,rowTemplate:"app/views/events/common/evidenceSelector/evidenceSelectorRowTemplate.tpl.html"};var p={browse:[{name:"status",headerTooltip:"Status",displayName:"ST",type:"string",visible:!1},{name:"id",displayName:"EID",visible:!0,type:"number",enableSorting:!0,enableFiltering:!0,headerTooltip:"Evidence ID",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",cellTemplate:"app/views/events/common/evidenceGridIdCell.tpl.html",filter:{condition:n.filter.CONTAINS},minWidth:75,width:"5%"},{name:"gene_name",displayName:"GENE",enableFiltering:!0,allowCellFocus:!1,headerTooltip:"Gene Entrez Name",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",cellTemplate:"app/views/events/common/evidenceGridGeneCell.tpl.html",filter:{condition:n.filter.CONTAINS},width:"8%"},{name:"variant_name",displayName:"VARIANT",enableFiltering:!0,allowCellFocus:!1,headerTooltip:"Variant Name",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",cellTemplate:"app/views/events/common/evidenceGridVariantCell.tpl.html",filter:{condition:n.filter.CONTAINS},width:"10%"},{name:"disease",displayName:"DIS",headerTooltip:"Disease",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/evidenceGridDiseaseCell.tpl.html",filter:{condition:n.filter.CONTAINS}},{name:"drugs",displayName:"DRUGS",headerTooltip:"Drugs",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/evidenceGridDrugCell.tpl.html",filter:{condition:n.filter.CONTAINS}},{name:"description",displayName:"DESC",headerTooltip:"Description",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/evidenceGridEvidenceCell.tpl.html",width:"6%",filter:{condition:n.filter.CONTAINS}},{name:"evidence_level",enableFiltering:!0,allowCellFocus:!1,displayName:"EL",headerTooltip:"Evidence Level",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",cellTemplate:"app/views/events/common/evidenceGridLevelCell.tpl.html",width:"6%",minWidth:50,filter:{type:n.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"A",label:"A - Validated"},{value:"B",label:"B - Clinical"},{value:"C",label:"C - Case Study"},{value:"D",label:"D - Preclinical"},{value:"E",label:"E - Inferential"}]}},{name:"evidence_type",displayName:"ET",headerTooltip:"Evidence Type",enableFiltering:!0,allowCellFocus:!1,headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",filter:{type:n.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"Predictive",label:"Predictive"},{value:"Prognostic",label:"Prognostic"},{value:"Diagnostic",label:"Diagnostic"},{value:"Predisposing",label:"Predisposing"},{value:"Oncogenic",label:"Oncogenic"},{value:"Functional",label:"Functional"}]},width:"6%",minWidth:50,cellTemplate:"app/views/events/common/evidenceGridTypeCell.tpl.html"},{name:"evidence_direction",displayName:"ED",headerTooltip:"Evidence Direction",cellTemplate:"app/views/events/common/evidenceDirectionCell.tpl.html",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",allowCellFocus:!1,filter:{type:n.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"Supports",label:"Supports"},{value:"Does Not Support",label:"Does not Support"}]},width:"6%",minWidth:50},{name:"clinical_significance",displayName:"CS",headerTooltip:"Clinical Significance",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",allowCellFocus:!1,filter:{type:n.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"Sensitivity/Response",label:"Sensitivity/Response"},{value:"Resistance",label:"Resistance"},{value:"Better Outcome",label:"Better Outcome"},{value:"Poor Outcome",label:"Poor Outcome"},{value:"Positive",label:"Positive"},{value:"Negative",label:"Negative"},{value:"Adverse Response",label:"Adverse Response"},{value:"Reduced Sensitivity",label:"Reduced Sensitivity"},{value:"Gain of Function",label:"Gain of Function"},{value:"Loss of Function",label:"Loss of Function"},{value:"Unaltered Function",label:"Unaltered Function"},{value:"Neomorphic",label:"Neomorphic"},{value:"Dominant Negative",label:"Dominant Negative"},{value:"Unknown",label:"Unknown"},{value:"N/A",label:"N/A"}]},width:"6%",minWidth:50,cellTemplate:"app/views/events/common/evidenceGridClinicalSignificanceCell.tpl.html"},{name:"variant_origin",displayName:"VO",headerTooltip:"Variant Origin",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",allowCellFocus:!1,filter:{type:n.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"Somatic",label:"Somatic"},{value:"Rare Germline",label:"Rare Germline"},{value:"Common Germline",label:"Common Germline"},{value:"Unknown",label:"Unknown"},{value:"N/A",label:"N/A"}]},width:"6%",minWidth:50,cellTemplate:"app/views/events/common/evidenceGridVariantOriginCell.tpl.html"},{name:"rating",displayName:"ER",headerTooltip:"Evidence Rating",headerCellTemplate:"app/views/events/common/evidenceGridTooltipHeader.tpl.html",allowCellFocus:!1,filter:{type:n.filter.SELECT,condition:n.filter.GREATER_THAN_OR_EQUAL,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"5",label:"5 stars"},{value:"4",label:"4 stars"},{value:"3",label:"3 stars"},{value:"2",label:"2 stars"},{value:"1",label:"1 stars"}]},width:"6%",minWidth:50,cellTemplate:"app/views/events/common/evidenceGridRatingCell.tpl.html"},{name:"action_add",displayName:"",width:"40",allowCellFocus:!1,enableFiltering:!1,cellTemplate:"app/views/events/common/evidenceSelector/evidenceSelectorAddCell.tpl.html"}],list:[{name:"description",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/genericHighlightCell.tpl.html",filter:{condition:n.filter.CONTAINS}},{name:"gene_name",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/genericHighlightCell.tpl.html",filter:{condition:n.filter.CONTAINS}},{name:"variant_name",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/genericHighlightCell.tpl.html",filter:{condition:n.filter.CONTAINS}},{name:"disease",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/genericHighlightCell.tpl.html",filter:{condition:n.filter.CONTAINS}},{name:"drugs",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/genericHighlightCell.tpl.html",filter:{condition:n.filter.CONTAINS}},{name:"evidence_level",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/genericHighlightCell.tpl.html",displayName:"EL",headerTooltip:"Evidence Level",filter:{type:n.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"A",label:"A - Validated"},{value:"B",label:"B - Clinical"},{value:"C",label:"C - Case Study"},{value:"D",label:"D - Preclinical"},{value:"E",label:"E - Inferential"}]}},{name:"evidence_type",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/genericHighlightCell.tpl.html",displayName:"ET",headerTooltip:"Evidence Type",filter:{type:n.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"Predictive",label:"Predictive"},{value:"Prognostic",label:"Prognostic"},{value:"Diagnostic",label:"Diagnostic"},{value:"Predisposing",label:"Predisposing"},{value:"Oncogenic",label:"Oncogenic"},{value:"Functional",label:"Functional"}]}},{name:"evidence_direction",displayName:"ED",headerTooltip:"Evidence Direction",cellTemplate:"app/views/events/common/genericHighlightCell.tpl.html",allowCellFocus:!1,filter:{type:n.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"Supports",label:"Supports"},{value:"Does Not Support",label:"Does not Support"}]}},{name:"clinical_significance",displayName:"CS",headerTooltip:"Clinical Significance",cellTemplate:"app/views/events/common/genericHighlightCell.tpl.html",allowCellFocus:!1,filter:{type:n.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"Sensitivity/Response",label:"Sensitivity/Response"},{value:"Resistance",label:"Resistance"},{value:"Better Outcome",label:"Better Outcome"},{value:"Poor Outcome",label:"Poor Outcome"},{value:"Positive",label:"Positive"},{value:"Negative",label:"Negative"},{value:"Adverse Response",label:"Adverse Response"},{value:"Reduced Sensitivity",label:"Reduced Sensitivity"},{value:"Gain of Function",label:"Gain of Function"},{value:"Loss of Function",label:"Loss of Function"},{value:"Unaltered Function",label:"Unaltered Function"},{value:"Neomorphic",label:"Neomorphic"},{value:"Dominant Negative",label:"Dominant Negative"},{value:"Unknown",label:"Unknown"},{value:"N/A",label:"N/A"}]}},{name:"variant_origin",displayName:"VO",headerTooltip:"Variant Origin",cellTemplate:"app/views/events/common/genericHighlightCell.tpl.html",allowCellFocus:!1,filter:{type:n.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"Somatic",label:"Somatic"},{value:"Rare Germline",label:"Rare Germline"},{value:"Common Germline",label:"Common Germline"},{value:"Unknown",label:"Unknown"},{value:"N/A",label:"N/A"}]}},{name:"rating",displayName:"ER",headerTooltip:"Evidence Rating",cellTemplate:"app/views/events/common/genericHighlightCell.tpl.html",allowCellFocus:!1,filter:{type:n.filter.SELECT,condition:n.filter.GREATER_THAN_OR_EQUAL,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"5",label:"5 stars"},{value:"4",label:"4 stars"},{value:"3",label:"3 stars"},{value:"2",label:"2 stars"},{value:"1",label:"1 stars"}]}},{name:"action_remove",displayName:"",width:"70",allowCellFocus:!1,enableFiltering:!1,cellTemplate:"app/views/events/common/evidenceSelector/evidenceSelectorRemoveCell.tpl.html"}]};c.gridOptions.onRegisterApi=function(t){c.gridApi=t,c.pageChanged=function(){r()},t.core.on.filterChanged(e,function(){var e=o.filter(this.grid.columns,function(e){return o.has(e.filter,"term")&&!o.isEmpty(e.filter.term)&&o.isString(e.filter.term)});e.length>0?c.filters=o.map(e,function(e){return{field:e.field,term:e.filter.term}}):c.filters=[],c.page=1,r()}),t.core.on.sortChanged(e,function(e,t){t.length>0?c.sorting=o.map(t,function(e){return{field:e.field,direction:e.sort.direction}}):c.sorting=[],r()})},r()}t.$inject=["$scope","$state","$window","uiGridConstants","Datatables","Evidence","_"],angular.module("civic.events").directive("evidenceSelector",e).controller("EvidenceSelectorController",t)}(),function(){"use strict";function e(){return{restrict:"E",replace:!0,scope:{genes:"=",rows:"=",context:"=",variantGroup:"="},templateUrl:"app/views/events/common/geneGrid/geneGrid.tpl.html",controller:"GeneGridController"}}function t(e,t,i,n,a,s,o,r){var l=e.ctrl={};l.exportPopover={templateUrl:"app/views/events/common/gridExportPopover.tpl.html",title:"Save CSV",include:"all",type:"csv"},l.rowsToShow=void 0===e.rows?5:e.rows,l.geneGridOptions={minRowsToShow:l.rowsToShow-1,enablePaging:!1,enableHorizontalScrollbar:o.scrollbars.NEVER,enableVerticalScrollbar:o.scrollbars.NEVER,enableFiltering:!0,enableColumnMenus:!1,enableSorting:!0,enableRowSelection:!0,enableRowHeaderSelection:!1,multiSelect:!1,modifierKeysToMultiSelect:!1,noUnselect:!0,columnDefs:[{name:"name",displayName:"Entrez Name",type:"string",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/browse/directives/browseGridVariantCell.tpl.html",width:"10%"},{name:"variant_list",displayName:"Variants",enableFiltering:!0,allowCellFocus:!1,type:"string",width:"40%",cellTemplate:"app/views/events/common/geneGrid/tooltipCell.tpl.html",filter:{condition:o.filter.CONTAINS}},{name:"variant_count",displayName:"Count",enableFiltering:!1,allowCellFocus:!1,type:"number",width:"8%",filter:{condition:o.filter.CONTAINS}},{name:"description",displayName:"Description",type:"string",allowCellFocus:!1,enableFiltering:!0,cellTemplate:"app/views/events/common/geneGrid/tooltipCell.tpl.html",filter:{condition:o.filter.CONTAINS}}]},l.geneGridOptions.onRegisterApi=function(o){function c(){return"CIViC_genes_"+a("date")(new Date,"yyyy-MM-ddTHH:MM:ss")+".csv"}function d(e){return e=r.map(e,function(e){return r.isArray(e.variants)&&e.variants.length>0?(e.variant_list=r.map(e.variants,"name").sort().join(", "),e.variant_count=e.variants.length):(e.variant_list="No variants found.",e.variant_count=0),0===Number(e.description.length)&&(e.description="No description found."),e})}var u=e.genes;l.gridApi=o,l.context=e.context,l.variantGroup=e.variantGroup,l.geneGridOptions.data=d(u),e.$watchCollection("genes",function(e){l.geneGridOptions.minRowsToShow=e.length+1,l.geneGridOptions.data=d(e)}),l.exportData=function(){l.geneGridOptions.exporterCsvFilename=c(e.variant);var t="all"===l.exportPopover.include?s.ALL:s.VISIBLE
;"csv"===l.exportPopover.type?o.exporter.csvExport(t,s.ALL):o.exporter.pdfExport(t,s.ALL)},o.selection.on.rowSelectionChanged(e,function(e,a){var s=r.merge(i,{geneId:e.entity.id});if(a.metaKey){var o=n.href("events.genes.summary",s,{absolute:!0});t.open(o,"_blank")}else n.go("events.genes.summary",s)})}}t.$inject=["$scope","$window","$stateParams","$state","$filter","uiGridExporterConstants","uiGridConstants","_"],angular.module("civic.events").directive("geneGrid",e).controller("GeneGridController",t)}(),function(){"use strict";function e(e){e.state("suggest",{abstract:!0,url:"/suggest",template:'<ui-view id="suggest-view"></ui-view>',data:{titleExp:'"Suggest"',navMode:"sub"}}).state("suggest.source",{url:"/source",templateUrl:"app/views/suggest/source/suggestSource.tpl.html",controller:"SuggestSourceController",data:{titleExp:'"Suggest Source"',navMode:"sub"}})}e.$inject=["$stateProvider"],angular.module("civic.sources").config(e)}(),function(){"use strict";function e(e){e.state("sources",{abstract:!0,url:"/sources/:sourceId",template:'<ui-view id="sources-view"></ui-view>',data:{titleExp:'"Sources"',navMode:"sub"}}).state("sources.summary",{url:"/summary",templateUrl:"app/views/sources/summary/sourcesSummary.tpl.html",controller:"SourcesSummaryController",data:{titleExp:'"Source Summary"',navMode:"sub"},resolve:{source:["$stateParams","Sources",function(e,t){return t.get(e.sourceId)}],comments:["$stateParams","Sources",function(e,t){return t.queryComments(e.sourceId)}]}})}e.$inject=["$stateProvider"],angular.module("civic.sources").config(e)}(),function(){"use strict";function e(e,t,i,n,a,s,o,r,l,c){var d=c.evidenceHelpText,u=c.evidenceAttributeDescriptions,p=c.optionMethods.make_options,m=e.vm={};m.showSuccessMessage=!1,m.showForm=!0,m.currentUser=null,n.reloadCurrentUser().then(function(e){m.currentUser=e,m.isAuthenticated=n.isAuthenticated(),m.actionOrg=m.currentUser.most_recent_organization}),m.duplicates=[],m.error={},m.newSuggestion={source:{citation_id:"",source_type:""},comment:{title:"Source Suggestion Comment"}},m.suggestionFields=[{key:"source.source_type",type:"horizontalSelectHelp",wrapper:"attributeDefinition",templateOptions:{label:"Source Type",required:!0,options:[{value:"",label:"Please select a Source Type"}].concat(p(u.source_type)),valueProp:"value",labelProp:"label",helpText:d["Source Type"],data:{attributeDefinition:"&nbsp;",attributeDefinitions:u.source_type},onChange:function(e,t,n){t.templateOptions.data.attributeDefinition=t.templateOptions.data.attributeDefinitions[e];var a=i.find(n.fields,{key:"source.citation_id"});a.value(""),a.templateOptions.data.citation="--",a.templateOptions.data.sourceType=e||void 0}}},{key:"source.citation_id",type:"publication",templateOptions:{label:"Source ID",required:!0,data:{citation:"--"},helpText:d.Source},asyncValidators:{validId:{expression:function(e,i,n){var a=n.model.source.source_type,s=t.defer();if(n.options.templateOptions.loading=!0,e.length>0&&""!==a)if(e.match(/[^0-9]+/))n.options.templateOptions.data.citation="Citation ID must be a number",s.reject(!1);else{var o={citationId:e,sourceType:a};r.verify(o).then(function(e){n.options.templateOptions.data.citation=e.citation,s.resolve(!0)},function(e){404===e.status?n.options.templateOptions.data.citation="No "+a+" source found with specified ID.":n.options.templateOptions.data.citation="Error fetching source, check console log for details.",s.reject(!1)})}else n.options.templateOptions.data.citation="--",s.resolve(!1);return n.options.templateOptions.loading=!1,s.promise},message:'"This does not appear to be a valid source ID."'}},controller:["$scope","$stateParams",function(e,t){t.sourceId&&l.get(t.sourceId).then(function(t){e.model.source=t,e.to.data.citation=t.citation})}],expressionProperties:{"templateOptions.disabled":'model.source.source_type === "" || model.source.source_type === undefined',"templateOptions.label":'model.source.source_type ? model.source.source_type === "ASCO" ? "ASCO ID" : "PubMed ID" : "Source ID"',"templateOptions.placeholder":'model.source.source_type ? model.source.source_type === "ASCO" ? "Search by ASCO Abstract Number" : "Search by PubMed ID" : "Please select Source Type"',"templateOptions.helpText":'model.source.source_type ? model.source.source_type === "ASCO" ? "'+d.SourceASCO+'" : "'+d.SourcePubMed+'" : "Please enter a Source Type before entering a Source ID."'},modelOptions:{debounce:{default:300,blur:0},updateOn:"default blur"}},{key:"gene",type:"horizontalTypeaheadHelp",model:m.newSuggestion.suggestion,wrapper:["entrezIdDisplay","validationMessages"],controller:["$scope","$stateParams","Genes",function(e,t,n){t.geneId&&n.getName(t.geneId).then(function(t){e.model.gene=i.pick(t,["id","name","entrez_id"]),e.to.data.entrez_id=t.entrez_id})}],templateOptions:{label:"Gene Entrez Name",value:"vm.newSuggestion.gene",minLength:32,required:!1,editable:!0,formatter:"model[options.key].name",typeahead:"item as item.name for item in to.data.typeaheadSearch($viewValue)",templateUrl:"components/forms/fieldTypes/geneTypeahead.tpl.html",onSelect:"to.data.entrez_id = $model.entrez_id",helpText:d["Gene Entrez Name"],data:{entrez_id:"--",typeaheadSearch:function(e){return s.beginsWith(e).then(function(e){return e})}}},modelOptions:{debounce:{default:200,blur:0},updateOn:"default blur"}},{key:"variant",type:"horizontalTypeaheadHelp",wrapper:["noResultsMessage"],model:m.newSuggestion.suggestion,className:"input-caps",controller:["$scope","$stateParams","Variants",function(e,t,i){t.variantId&&i.get(t.variantId).then(function(t){e.model.variant={name:t.name}})}],templateOptions:{label:"Variant Name",minLength:32,helpText:d["Variant Name"],formatter:"model[options.key].name",popupTemplateUrl:"components/forms/fieldTypes/variantTypeaheadPopup.tpl.html",templateUrl:"components/forms/fieldTypes/variantTypeahead.tpl.html",typeahead:"item as item.name for item in options.data.typeaheadSearch($viewValue, model.gene.name)",typeaheadMinLength:0,required:!1,editable:!0,noResults:"to.data.noResults",data:{noResults:!1,noResultsMessage:"NOTE: This appears to be a new variant for the selected gene. Please ensure it has not already been entered under a similar name before you create it."}},data:{typeaheadSearch:function(e,t){var n={mode:"variants",count:30,page:0,"filter[variant]":e,"filter[entrez_gene]":t,"sorting[variant]":"asc"};return o.query(n).then(function(e){return i.map(i.uniq(e.result,"variant"),function(e){return{name:e.variant}})})}}},{key:"disease",type:"horizontalTypeaheadHelp",model:m.newSuggestion.suggestion,wrapper:["loader","diseasedisplay","validationMessages"],templateOptions:{label:"Disease",value:"vm.suggestion.doid",required:!1,editable:!0,minLength:32,helpText:"Please enter a disease name.",typeahead:"item as item.name for item in to.data.typeaheadSearch($viewValue)",onSelect:"to.data.doid = $model.doid",templateUrl:"components/forms/fieldTypes/diseaseTypeahead.tpl.html",data:{doid:"--",typeaheadSearch:function(e){return a.beginsWith(e).then(function(e){return i.map(e,function(e){return e.aliases.length>0?(e.alias_list=e.aliases.join(", "),e.alias_list.length>70&&(e.alias_list=i.truncate(e.alias_list,70))):e.alias_list="--",e})})}}},expressionProperties:{"templateOptions.disabled":"model.noDoid === true","templateOptions.required":"model.noDoid === false"},hideExpression:"model.noDoid"},{templateUrl:"app/views/add/evidence/addEvidenceDuplicateWarning.tpl.html",controller:["$scope","Search",function(e,t){function n(e){a.duplicates=[],i.every(e,function(e){return i.isString(e)&&e.length>0})&&t.post({operator:"AND",queries:[{field:"gene_name",condition:{name:"contains",parameters:[e[0]]}},{field:"variant_name",condition:{name:"contains",parameters:[e[1]]}},{field:"source_type",condition:{name:"is_equal_to",parameters:[e[2]]}},{field:"citation_id",condition:{name:"is_equal_to",parameters:[e[3]]}}],entity:"evidence_items",save:!1}).then(function(e){a.duplicates=e.results})}var a=e.vm={};a.duplicates=[],a.pubmedName="",e.pubmedField=i.find(e.fields,{key:"pubmed_id"}),e.$watchGroup(["model.gene.name","model.variant.name","model.source.source_type","model.source.citation_id"],n)}]},{key:"text",type:"horizontalCommentHelp",model:m.newSuggestion.comment,templateOptions:{rows:5,minimum_length:3,label:"Comment",currentUser:n.currentUser,value:"text",required:!0,helpText:d.suggestionComment}}],m.switchOrg=function(e){m.actionOrg=i.find(m.currentUser.organizations,{id:e})},m.submit=function(e){m.error={};var t={source:e.source,comment:e.comment,organization:m.actionOrg};!i.isUndefined(e.gene)&&i.isObject(e.gene)&&(t.gene_name=e.gene.name),!i.isUndefined(e.variant)&&i.isObject(e.variant)&&(t.variant_name=e.variant.name),i.isUndefined(e.disease)||(i.isObject(e.disease)?t.disease_name=e.disease.name:t.disease_name=e.disease),l.suggest(t).then(function(e){m.newSourceId=e.id,m.showForm=!1,m.showSuccessMessage=!0,m.actionOrg.id!=m.currentUser.most_recent_organization.id&&n.reloadCurrentUser()},function(e){m.error=e},function(){})}}e.$inject=["$scope","$q","_","Security","Diseases","Genes","Datatables","Publications","Sources","ConfigService"],angular.module("civic.sources").controller("SuggestSourceController",e)}(),function(){"use strict";function e(){return{restrict:"E",replace:!0,scope:{sources:"=",rows:"=",context:"="},templateUrl:"app/views/sources/components/sourceGrid.tpl.html",controller:"SourceGridController"}}function t(e,t,i,n,a,s,o){var r=e.ctrl={};r.exportPopover={templateUrl:"app/views/events/common/gridExportPopover.tpl.html",title:"Save CSV",include:"all",type:"csv"},r.rowsToShow=e.rows?e.rows:10,r.sourceGridOptions={minRowsToShow:r.rowsToShow-1,enablePaging:!1,enableHorizontalScrollbar:s.scrollbars.NEVER,enableVerticalScrollbar:s.scrollbars.NEVER,enableFiltering:!0,enableColumnMenus:!1,enableSorting:!0,enableRowSelection:!0,enableRowHeaderSelection:!1,multiSelect:!1,modifierKeysToMultiSelect:!1,noUnselect:!0,columnDefs:[{name:"source_type",displayName:"Type",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/genericHighlightCell.tpl.html",type:"string",width:"8%",filter:{type:s.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"PubMed",label:"PubMed"},{value:"ASCO",label:"ASCO"}]}},{name:"citation_id",displayName:"Citation ID",enableFiltering:!0,allowCellFocus:!1,type:"number",cellTemplate:"app/views/events/common/genericHighlightCell.tpl.html",width:"8%",filter:{condition:s.filter.CONTAINS}},{name:"name",displayName:"Title",enableFiltering:!0,allowCellFocus:!1,type:"string",width:"20%",cellTemplate:"app/views/sources/components/cellTemplateTooltip.tpl.html",filter:{condition:s.filter.CONTAINS}},{name:"author_string",displayName:"Authors",enableFiltering:!0,allowCellFocus:!1,type:"string",width:"20%",cellTemplate:"app/views/sources/components/cellTemplateTooltip.tpl.html",filter:{condition:s.filter.CONTAINS}},{name:"publication_date_string",displayName:"Date",type:"date",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/genericHighlightCell.tpl.html",width:"10%"},{name:"journal",displayName:"Journal",type:"string",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/sources/components/cellTemplateTooltip.tpl.html",width:"15%"},{name:"abstract",displayName:"Abstract",type:"string",allowCellFocus:!1,enableFiltering:!0,cellTemplate:"app/views/sources/components/cellTemplateTooltip.tpl.html",filter:{condition:s.filter.CONTAINS}},{name:"evidence_item_count",displayName:"EIDs",type:"number",allowCellFocus:!1,enableFiltering:!1,cellTemplate:"app/views/sources/components/cellTemplateTooltip.tpl.html",filter:{condition:s.filter.CONTAINS}}]},r.sourceGridOptions.onRegisterApi=function(s){function l(){return"CIViC_sources_"+n("date")(new Date,"yyyy-MM-ddTHH:MM:ss")+".csv"}function c(e){return o.map(e,function(e){var t=[e.publication_date.year];return o.isUndefined(e.publication_date.month)||t.push(e.publication_date.month),o.isUndefined(e.publication_date.day)||t.push(e.publication_date.day),e.publication_date_string=t.join("-"),e})}var d=e.sources;r.gridApi=s,r.context=e.context,r.sourceGridOptions.data=c(d),e.$watchCollection("sources",function(e){r.sourceGridOptions.minRowsToShow=e.length+1,r.sourceGridOptions.data=c(e)}),r.exportData=function(){r.sourceGridOptions.exporterCsvFilename=l(e.variant);var t="all"===r.exportPopover.include?a.ALL:a.VISIBLE;"csv"===r.exportPopover.type?s.exporter.csvExport(t,a.ALL):s.exporter.pdfExport(t,a.ALL)},s.selection.on.rowSelectionChanged(e,function(e,n){var a={sourceId:e.entity.id};if(n.metaKey){var s=t.href("sources.summary",a,{absolute:!0});i.open(s,"_blank")}else t.go("sources.summary",a)})}}t.$inject=["$scope","$state","$window","$filter","uiGridExporterConstants","uiGridConstants","_"],angular.module("civic.sources").directive("sourceGrid",e).controller("SourceGridController",t)}(),function(){"use strict";function e(){return{restrict:"E",replace:!0,scope:{suggestions:"=",rows:"=",mode:"="},templateUrl:"app/views/sources/components/sourceSuggestionGrid.tpl.html",controller:"SourceSuggestionGridController"}}function t(e,t){e.rejectSuggestion=function(i,n,a){t.setStatus({suggestionId:i,status:n,reason:a}).then(function(){e.$emit("suggestion:updated")}),e.popoverIsOpen=!1}}function i(e,t,i,n,a,s){function o(e,t){n.includes(c,e)?n.pull(c,e):c.push(e),t.queueGridRefresh()}var r=e.vm={},l=e.mode;r.setSuggestion=function(t,n,a){i.setStatus({suggestionId:t,status:n,reason:a}).then(function(){e.$emit("suggestion:updated")})},r.setLocation=function(e){t.url(e)},r.hasEditorPerms=function(){return a.isAdmin()||a.isEditor()},r.isAuthenticated=function(){return a.isAuthenticated()};var c=["new"];r.rowsToShow=e.rows?e.rows:10,r.sourceSuggestionGridOptions={minRowsToShow:r.rowsToShow-1,enablePaging:!1,enableHorizontalScrollbar:s.scrollbars.NEVER,enableVerticalScrollbar:s.scrollbars.NEVER,enableFiltering:!0,enableColumnMenus:!1,enableSorting:!0,columnDefs:[{name:"status",displayName:"Status",enableFiltering:!0,allowCellFocus:!1,type:"string",width:"8%",filter:{noTerm:!0,condition:function(e,t){return n.isUndefined(e)?n.includes(c,t):n.includes(c,t)&&n.includes(t,e)}},cellTemplate:"app/views/sources/components/cellTemplateStatus.tpl.html"},{name:"created_at",displayName:"Submitted",width:"8%",enableFiltering:!1,allowCellFocus:!1,visible:!1,type:"date",sort:{direction:s.DESC},cellTemplate:'<div class="ui-grid-cell-contents">{{ row.entity[col.field] | timeAgo }}</div>'},{name:"submitter",displayName:"Submitter",enableFiltering:!0,allowCellFocus:!1,type:"string",sortingAlgorithm:function(e,t){return void 0===e&&void 0===t?0:void 0===e?-1:void 0===t?1:e.display_name.toLowerCase()<t.display_name.toLowerCase()?-1:e.display_name.toLowerCase()>t.display_name.toLowerCase()?1:0},filter:{condition:function(e,t){return new RegExp(e,"i").exec(t.username)}},cellTemplate:'<div class="ui-grid-cell-contents"><user-block user="row.entity[col.field]"</div>'},{name:"source_type",displayName:"Type",enableFiltering:!0,allowCellFocus:!1,cellTemplate:"app/views/events/common/genericHighlightCell.tpl.html",type:"string",width:"8%",filter:{type:s.filter.SELECT,term:null,disableCancelFilterButton:!1,selectOptions:[{value:null,label:"--"},{value:"PubMed",label:"PubMed"},{value:"ASCO",label:"ASCO"}]}},{name:"citation_id",displayName:"Citation ID",width:"8%",visible:!0,cellTemplate:'<div class="ui-grid-cell-contents">{{ row.entity[col.field] }}</div>',enableFiltering:!0,allowCellFocus:!1,type:"string",filter:{condition:s.filter.CONTAINS}},{name:"citation",displayName:"Citation",visible:"full"===l,enableFiltering:!0,allowCellFocus:!1,width:"13%",type:"string",cellTemplate:"app/views/sources/components/cellTemplateCitation.tpl.html",filter:{condition:s.filter.CONTAINS}},{name:"gene",displayName:"Gene",width:"6%",type:"string",allowCellFocus:!1,enableFiltering:!0,cellTemplate:"app/views/events/common/geneGrid/tooltipCell.tpl.html",filter:{condition:s.filter.CONTAINS}},{name:"variant",displayName:"Variant",width:"12%",type:"string",allowCellFocus:!1,enableFiltering:!0,cellTemplate:"app/views/events/common/geneGrid/tooltipCell.tpl.html",filter:{condition:s.filter.CONTAINS}},{name:"disease",displayName:"Disease",type:"string",allowCellFocus:!1,enableFiltering:!0,cellTemplate:"app/views/events/common/geneGrid/tooltipCell.tpl.html",filter:{condition:s.filter.CONTAINS}},{name:"initial_comment",displayName:"Comment",type:"string",allowCellFocus:!1,enableFiltering:!0,cellTemplate:"app/views/events/common/geneGrid/tooltipCell.tpl.html",filter:{condition:s.filter.CONTAINS}},{name:"action",displayName:"Actions",width:"140",allowCellFocus:!1,enableFiltering:!1,cellTemplate:"app/views/sources/components/cellTemplateActions.tpl.html"}],enableGridMenu:!0,gridMenuShowHideColumns:!1,gridMenuCustomItems:[{title:"Show Curated",active:function(){return n.includes(c,"curated")},action:function(e){o("curated",this.grid)}},{title:"Show Rejected",active:function(){return n.includes(c,"rejected")},action:function(e){o("rejected",this.grid)}}]},r.sourceSuggestionGridOptions.onRegisterApi=function(t){function i(e){return n.map(e,function(e){var t=[];return n.has(e,"gene")&&null!==e.gene&&t.push("geneName="+e.gene),n.has(e,"variant")&&null!==e.variant&&t.push("variantName="+e.variant),n.has(e,"disease")&&null!==e.disease&&t.push("diseaseName="+e.disease),n.has(e,"source_type")&&null!==e.source_type&&t.push("sourceType="+e.source_type),n.has(e,"citation_id")&&null!==e.citation_id&&t.push("citationId="+e.citation_id),t.push("sourceId="+e.source_id),e.addEvidenceUrl="/add/evidence/basic?"+t.join("&"),e})}var a=e.suggestions;r.gridApi=t,r.context=e.context,r.sourceSuggestionGridOptions.data=i(a),e.$watchCollection("suggestions",function(e){r.sourceSuggestionGridOptions.minRowsToShow=e.length+1,r.sourceSuggestionGridOptions.data=i(e)})}}t.$inject=["$scope","Sources"],i.$inject=["$scope","$location","Sources","_","Security","uiGridConstants"],angular.module("civic.sources").directive("sourceSuggestionGrid",e).controller("SourceSuggestionGridController",i).controller("cellTemplateActionsController",t)}(),function(){"use strict";function e(e,t,i,n,a,s,o){var r=e.vm={};r.isEditor=s.isEditor(),r.isAdmin=s.isAdmin(),r.source=function(e){e.author_list_string=t(e.author_list).sortBy("position").map(function(e){return[e.fore_name,e.last_name].join(" ")}).value().join(", ");var i=[e.publication_date.year];return t.isUndefined(e.publication_date.month)||i.push(e.publication_date.month),t.isUndefined(e.publication_date.day)||i.push(e.publication_date.day),e.publication_date_string=i.join("-"),e}(i),r.source.submitComment=a.submitComment,r.source.deleteComment=a.deleteComment,r.comments=a.data.comments;var l={operator:"AND",queries:[{field:"source_type",condition:{name:"is_equal_to",parameters:[i.source_type]}},{field:"citation_id",condition:{name:"is_equal_to",parameters:[i.citation_id]}}],entity:"evidence_items",save:!0};o.post(l).then(function(e){r.evidence_items=e.results}),e.$on("suggestion:updated",function(){a.get(i.id).then(function(e){angular.copy(e,r.source)})})}e.$inject=["$scope","_","source","comments","Sources","Security","Search"],angular.module("civic.sources").controller("SourcesSummaryController",e)}(),function(){"use strict";function e(e){e.state("users",{abstract:!0,url:"/users/:userId",template:'<ui-view id="users-view"></ui-view>',controller:"UsersViewController"}).state("users.profile",{url:"/profile",templateUrl:"app/views/users/profile/profile.tpl.html",resolve:{Users:"Users",user:["Users","$stateParams",function(e,t){return e.get(t.userId)}],events:["Users","$stateParams",function(e,t){return e.queryEvents(t.userId)}]},controller:"ProfileController",data:{navMode:"sub",titleExp:'"Profile: " + user.display_name'}}).state("users.edit",{url:"/edit",templateUrl:"app/views/users/profile/edit/profileEdit.tpl.html",resolve:{Users:"Users",user:["Users","$stateParams",function(e,t){return e.get(t.userId)}]},controller:"ProfileEditController",data:{navMode:"sub",titleExp:'"Profile: " + user.display_name'}})}function t(){}e.$inject=["$stateProvider"],angular.module("civic.users.profile",[]),angular.module("civic.users.common",[]),angular.module("civic.users").config(e).controller("UsersViewController",t)}(),function(){"use strict";function e(e,t,i,n){var a=e.vm={};a.user=i,a.events=n.result;var s={entity:"evidence_items",operator:"AND",save:!1,queries:[{field:"submitter_id",condition:{name:"is_equal_to",parameters:[i.id]}}]};t.post(s).then(function(e){a.evidence=e.results},function(){})}e.$inject=["$scope","Search","user","events"],angular.module("civic.users.profile").controller("ProfileController",e)}(),function(){"use strict";function e(e,t,i,n,a,s){var o=e.vm={};o.user=s,o.userEdit=angular.copy(s),o.currentUser=n.currentUser,o.secondsReturn=5,o.submitSuccess=!1,o.submitFail=!1,o.userEditFields=[{key:"name",type:"horizontalInputHelp",templateOptions:{label:"Name",minLength:8,value:"vm.userEdit.name",helpText:"Name"}},{key:"username",type:"horizontalInputHelp",templateOptions:{label:"User Name",minLength:8,value:"vm.userEdit.user",helpText:"Username"}},{key:"email",type:"horizontalInputHelp",templateOptions:{label:"Email Address",minLength:5,value:"vm.userEdit.email",helpText:"Email address will not be visible to others or shared. Email addresses will only be used for sending CIViC notifications, news, and updates."}},{key:"area_of_expertise",type:"horizontalSelectHelp",templateOptions:{label:"Areas of Expertise",options:[{value:null,label:"Please select an Area of Expertise"},{value:"Patient Advocate",label:"Patient Advocate"},{value:"Clinical Scientist",label:"Clinical Scientist"},{value:"Research Scientist",label:"Research Scientist"}],valueProp:"value",labelProp:"label",value:"vm.userEdit.area_of_expertise",helpText:"Area of Expertise"}}],o.saveProfile=function(e){a.update(e).then(function(e){o.user=n.currentUser=e,o.submitSuccess=!0,o.count=o.secondsReturn;var a=i(function(){o.count<=1?(t.go("users.profile",{userId:s.id}),i.cancel(a)):o.count--},1e3)}).catch(function(){o.submitFail=!1})}}e.$inject=["$scope","$state","$interval","Security","Users","user"],angular.module("civic.users.profile").controller("ProfileEditController",e)}(),function(){"use strict";function e(e,t,i){var n=e.vm={};n.currentUser=i.currentUser,n.showCoi="admin"===e.user.role||"editor"===e.user.role,e.$watch(function(){return i.currentUser},function(t){_.isNull(t)||(n.currentUser=t,n.showCoiNotice=e.user.id===t.id&&(i.isAdmin()||i.isEditor())&&("missing"===t.conflict_of_interest.coi_valid||"expired"===t.conflict_of_interest.coi_valid))}),n.stats={},t.getUser(e.user.id).then(function(e){n.stats=e})}e.$inject=["$scope","Stats","Security"],angular.module("civic.users").controller("UserSummaryController",e).directive("userSummary",function(){return{restrict:"E",scope:{user:"="},controller:"UserSummaryController",templateUrl:"app/views/users/common/userSummary.tpl.html"}})}(),function(){"use strict";function e(e){e.state("organizations",{abstract:!0,url:"/organizations/:organizationId",template:'<ui-view id="organizations-view"></ui-view>',data:{titleExp:'"Organizations"',navMode:"sub"}}).state("organizations.summary",{url:"/summary",templateUrl:"app/views/organizations/summary/organizationsSummary.tpl.html",controller:"OrganizationsSummaryController",data:{titleExp:'"Organization Summary"',navMode:"sub"},resolve:{organization:["$stateParams","Organizations",function(e,t){return t.get(e.organizationId)}],stats:["$stateParams","Stats",function(e,t){return t.getOrganization(e.organizationId)}]}})}e.$inject=["$stateProvider"],angular.module("civic.organizations").config(e)}(),function(){"use strict";function e(e,t,i,n){e.organization=i,e.stats=n;var a={entity:"evidence_items",operator:"AND",save:!1,queries:[{field:"organization_id",condition:{name:"is_equal_to",parameters:[e.organization.id]}}],"grid-view":!0};t.post(a).then(function(t){e.evidence=t.results},function(){e.evidence=[]})}e.$inject=["$scope","Search","organization","stats"],angular.module("civic.organizations").controller("OrganizationsSummaryController",e)}(),function(){"use strict";function e(e){e.state("add",{abstract:!0,url:"/add",template:'<ui-view id="add-view"></ui-view>',controller:"AddViewController",onExit:["$deepStateRedirect",function(e){e.reset()}]})}function t(){}e.$inject=["$stateProvider"],angular.module("civic.add.evidence",[]),angular.module("civic.add").config(e).controller("AddViewController",t)}(),function(){"use strict";function e(e){e.state("add.evidence",{abstract:!0,url:"/evidence",templateUrl:"app/views/add/evidence/AddEvidenceView.tpl.html",resolve:{Evidence:"Evidence"},controller:"AddEvidenceController",controllerAs:"vm"}).state("add.evidence.basic",{url:"/basic?geneId&variantId&geneName&variantName&diseaseName&pubmedId&sourceType&sourceId&citationId&variantOrigin&evidenceType&evidenceDirection&evidenceLevel&clinicalSignificance&isSuggestedSource",template:"<add-evidence-basic></add-evidence-basic>",data:{titleExp:'"Add Evidence"',navMode:"sub"}})}function t(e,t){function i(){angular.copy(t,this.state.baseParams),this.state.baseState="add.evidence",this.state.baseUrl=e.href(this.state.baseState,t),angular.copy({view:{backgroundColor:"pageBackground"}},this.styles)}return{init:i,state:{baseParams:{},baseState:"",baseUrl:""},styles:{}}}function i(e,t){t.init(),this.type="EVIDENCE ITEM",this.AddEvidenceViewModel=e,this.AddEvidenceViewOptions=t}e.$inject=["$stateProvider"],t.$inject=["$state","$stateParams"],i.$inject=["Evidence","AddEvidenceViewOptions"],angular.module("civic.add.evidence").config(e).factory("AddEvidenceViewOptions",t).controller("AddEvidenceController",i)}(),function(){"use strict";function e(){return{restrict:"E",scope:{},templateUrl:"app/views/add/evidence/addEvidenceBasic.tpl.html",controller:"AddEvidenceBasicController"}}function t(e,t,i,n,a,s,o,r,l,c,d,u,p,m,v,g,h){var f=h.evidenceAttributeDescriptions,y=h.optionMethods.make_options,b=h.optionMethods.el_options,w=h.optionMethods.cs_options,_=h.optionMethods.merge_props,C=function(e){return e+" - "+f.rating[e].replace(" - ","<br/>")},x=h.evidenceHelpText,I=e.vm={};I.evidenceModel=s,I.evidenceOptions=m,I.currentUser=null,I.showPrefillPrompt=!g.isUndefined(g.find(n,function(e){return!g.isUndefined(e)})),I.showForm=!0,I.showSuccessMessage=!1,I.showInstructions=!0,I.scroll=function(){var e=document.getElementById("add-evidence-basic");i.scrollToElementAnimated(e)},I.duplicates=!0,I.newEvidence={gene:"",variant:"",source:{citation_id:"",source_type:""},description:"",disease:{name:""},disease_name:"",noDoid:!1,drugs:[],drug_interaction_type:null,rating:"",phenotypes:[],evidence_level:"",evidence_type:"",evidence_direction:"",clinical_significance:"",variant_origin:"",keepSourceStatus:!1,organization:null},I.newEvidence.comment={title:"Additional Comments",text:""},I.newEvidence.drugs=[],I.newEvidence.source_suggestion_id=g.isUndefined(n.sourceId)?null:Number(n.sourceId),I.formErrors={},I.formMessages={},I.errorMessages=v.errorMessages,I.errorPrompts=v.errorPrompts,a.reloadCurrentUser().then(function(e){I.currentUser=e,I.isEditor=a.isEditor(),I.isAdmin=a.isAdmin(),I.isAuthenticated=a.isAuthenticated(),I.newEvidence.organization=I.currentUser.most_recent_organization});var k=function(e){return"Functional"===e.evidence_type},S=function(e){var t=g.find(e.fields,{key:"disease"}),i=g.find(e.fields,{key:"noDoid"}),n=g.find(e.fields,{key:"disease_name"});t.value({name:""}),i.value(!1),n.value&&n.value("")};I.evidenceFields=[{key:"gene",type:"horizontalTypeaheadHelp",wrapper:["entrezIdDisplay"],controller:["$scope","$stateParams","Genes",function(e,t,i){t.geneId&&i.getName(t.geneId).then(function(t){e.model.gene=g.pick(t,["id","name","entrez_id"]),e.to.data.entrez_id=t.entrez_id}),t.geneName&&i.exactMatch(t.geneName).then(function(t){e.model.gene=t[0],e.to.data.entrez_id=t[0].entrez_id})}],templateOptions:{label:"Gene Entrez Name",value:"vm.newEvidence.gene",minLength:32,required:!0,editable:!1,formatter:"model[options.key].name",typeahead:"item as item.name for item in to.data.typeaheadSearch($viewValue)",templateUrl:"components/forms/fieldTypes/geneTypeahead.tpl.html",onSelect:"to.data.entrez_id = $model.entrez_id",helpText:x["Gene Entrez Name"],data:{entrez_id:"--",typeaheadSearch:function(e){return o.beginsWith(e).then(function(e){return g.map(e,function(e){return e.aliases.length>0&&(e.alias_list=e.aliases.join(", "),e.alias_list.length>100&&(e.alias_list=g.truncate(e.alias_list,100))),e})})}}},modelOptions:{debounce:{default:300}}},{key:"variant",type:"horizontalTypeaheadHelp",wrapper:["noResultsMessage"],className:"input-caps",controller:["$scope","$stateParams","Variants",function(e,t,i){t.variantId&&i.get(t.variantId).then(function(t){e.model.variant={name:t.name}}),t.variantName&&(e.model.variant={name:t.variantName})}],templateOptions:{label:"Variant Name",required:!0,value:"vm.newEvidence.variant",popupTemplateUrl:"components/forms/fieldTypes/variantTypeaheadPopup.tpl.html",templateUrl:"components/forms/fieldTypes/variantTypeahead.tpl.html",minLength:32,helpText:x["Variant Name"],formatter:"model[options.key].name",typeahead:"item as item.name for item in options.data.typeaheadSearch($viewValue, model.gene.name)",typeaheadMinLength:0,editable:!0,noResults:"to.data.noResults",data:{noResults:!1,noResultsMessage:"NOTE: This appears to be a new variant for the selected gene. Please ensure it has not already been entered under a similar name before you create it."}},data:{typeaheadSearch:function(e,t){var i={mode:"variants",count:50,page:0,"filter[variant]":e,"filter[entrez_gene]":t,"sorting[variant]":"asc"};return d.query(i).then(function(e){return g.map(g.uniq(e.result,"variant"),function(e){return{name:e.variant}})})}}},{key:"source.source_type",type:"horizontalSelectHelp",wrapper:"attributeDefinition",controller:["$scope","$stateParams","ConfigService","_",function(e,t,i,n){if(t.sourceType){var a=t.sourceType,s=n.keys(i.evidenceAttributeDescriptions.source_type);if(n.includes(s,a)){e.model.source.source_type=a,e.to.data.attributeDefinition=e.to.data.attributeDefinitions[a];n.find(e.fields,{key:"source.citation_id"}).templateOptions.data.sourceType=a}}}],templateOptions:{label:"Source Type",required:!0,options:[{value:"",label:"Please select a Source Type"}].concat(y(f.source_type)),valueProp:"value",labelProp:"label",helpText:x["Source Type"],data:{attributeDefinition:"&nbsp;",attributeDefinitions:f.source_type},onChange:function(e,t,i){var n=t.value();t.templateOptions.data.attributeDefinition=t.templateOptions.data.attributeDefinitions[n];var a=g.find(i.fields,{key:"source.citation_id"});a.value(""),a.templateOptions.data.citation="--",a.templateOptions.data.sourceType=n||void 0}}},{key:"source.citation_id",type:"publication",templateOptions:{label:"Source ID",required:!0,data:{citation:"--",sourceType:void 0}},asyncValidators:{validId:{expression:function(e,i,n){var a=n.model.source.source_type,s=t.defer();if(n.options.templateOptions.loading=!0,e.length>0&&""!==a)if(e.match(/[^0-9]+/))n.options.templateOptions.data.citation="Citation ID must be a number",s.reject(!1);else{var o={citationId:e,sourceType:a};r.verify(o).then(function(e){n.options.templateOptions.data.citation=e.citation,s.resolve(!0)},function(e){404===e.status?n.options.templateOptions.data.citation="No "+a+" source found with specified ID.":n.options.templateOptions.data.citation="Error fetching source, check console log for details.",s.reject(!1)})}else n.options.templateOptions.data.citation="--",s.resolve(!1);return n.options.templateOptions.loading=!1,s.promise},message:'"This does not appear to be a valid source ID."'}},controller:["$scope","$stateParams",function(e,t){t.citationId&&(e.model.source.citation_id=t.citationId)}],expressionProperties:{"templateOptions.disabled":'to.data.sourceType === "" || to.data.sourceType === undefined',
"templateOptions.label":'to.data.sourceType ? to.data.sourceType === "ASCO" ? "ASCO Web ID" : "PubMed ID" : "Source ID"',"templateOptions.placeholder":'to.data.sourceType ? to.data.sourceType === "ASCO" ? "Search by ASCO ID" : "Search by PubMed ID" : "Please select Source Type"',"templateOptions.helpText":'to.data.sourceType ? to.data.sourceType === "ASCO" ? "'+x.SourceASCO+'" : "'+x.SourcePubMed+'" : "Please enter a Source Type before entering a Source ID."'},modelOptions:{debounce:{default:300,blur:0},updateOn:"default blur"}},{templateUrl:"app/views/add/evidence/addEvidenceDuplicateWarning.tpl.html",controller:["$scope","Search",function(e,t){function i(e){n.duplicates=[],g.every(e,function(e){return g.isString(e)&&e.length>0})&&t.post({operator:"AND",queries:[{field:"gene_name",condition:{name:"contains",parameters:[e[0]]}},{field:"variant_name",condition:{name:"contains",parameters:[e[1]]}},{field:"source_type",condition:{name:"is_equal_to",parameters:[e[2]]}},{field:"citation_id",condition:{name:"is_equal_to",parameters:[e[3]]}}],entity:"evidence_items",save:!1}).then(function(e){n.duplicates=e.results})}var n=e.vm={};n.duplicates=[],n.pubmedName="",e.sourceField=g.find(e.fields,{key:"source.citation_id"}),e.$watchGroup(["model.gene.name","model.variant.name","model.source.source_type","model.source.citation_id"],i)}]},{key:"variant_origin",type:"horizontalSelectHelp",wrapper:"attributeDefinition",controller:["$scope","$stateParams","ConfigService","_",function(e,t,i,n){if(t.variantOrigin){var a=t.variantOrigin,s=n.keys(i.evidenceAttributeDescriptions.variant_origin);n.includes(s,a)&&(e.model.variant_origin=t.variantOrigin,e.to.data.attributeDefinition=e.to.data.attributeDefinitions[a])}}],templateOptions:{label:"Variant Origin",required:!0,value:"vm.newEvidence.variant_origin",options:[{value:"",label:"Please select a Variant Origin"}].concat(y(f.variant_origin)),valueProp:"value",labelProp:"label",helpText:x["Variant Origin"],data:{attributeDefinition:"&nbsp;",attributeDefinitions:f.variant_origin},onChange:function(e,t){t.templateOptions.data.attributeDefinition=t.templateOptions.data.attributeDefinitions[e]}}},{key:"evidence_type",type:"horizontalSelectHelp",wrapper:"attributeDefinition",controller:["$scope","$stateParams","ConfigService","_",function(e,t,i,n){if(t.evidenceType){var a=t.evidenceType,s=n.keys(i.evidenceAttributeDescriptions.evidence_type.evidence_item);n.includes(s,a)&&(e.model.evidence_type=t.evidenceType,e.to.data.attributeDefinition=e.to.data.attributeDefinitions[a])}}],templateOptions:{label:"Evidence Type",required:!0,value:"vm.newEvidence.evidence_type",ngOptions:'option["value"] as option["label"] for option in to.options',options:[{value:"",label:"Please select an Evidence Type"}].concat(y(f.evidence_type.evidence_item)),onChange:function(e,t,i){var n=g.find(i.fields,{key:"clinical_significance"}),a=g.find(i.fields,{key:"evidence_direction"});n.value(""),a.value(""),n.templateOptions.data.attributeDefinition="",a.templateOptions.data.attributeDefinition="","Functional"===e&&S(i),i.model.drugs="Predictive"===e?[""]:[],t.templateOptions.data.attributeDefinition=t.templateOptions.data.attributeDefinitions[e]},helpText:x["Evidence Type"],data:{attributeDefinition:"&nbsp;",attributeDefinitions:f.evidence_type.evidence_item}}},{key:"clinical_significance",type:"horizontalSelectHelp",wrapper:"attributeDefinition",controller:["$scope","$stateParams","ConfigService","_",function(e,t,i,n){if(t.clinicalSignificance&&t.evidenceType){var a=t.evidenceType,s=t.clinicalSignificance,o=n.keys(i.evidenceAttributeDescriptions.clinical_significance.evidence_item[a]);n.includes(o,s)&&(e.model.clinical_significance=t.clinicalSignificance,e.to.data.attributeDefinition=e.to.data.attributeDefinitions[s])}}],templateOptions:{label:"Clinical Significance",required:!0,value:"vm.newEvidence.clinical_significance",clinicalSignificanceOptions:[{type:"default",value:"",label:"Please select a Clinical Significance"}].concat(w(f.clinical_significance.evidence_item)),ngOptions:'option["value"] as option["label"] for option in to.options',options:[{type:"default",value:"",label:"Please select a Clinical Significance"}].concat(w(f.clinical_significance.evidence_item)),helpText:x["Clinical Significance"],data:{attributeDefinition:"Please choose Evidence Type before selecting Clinical Significance.",attributeDefinitions:_(f.clinical_significance.evidence_item),updateDefinition:function(e,t,i){t.templateOptions.data.attributeDefinition=t.templateOptions.data.attributeDefinitions[i.model.clinical_significance]}},onChange:function(e,t,i){t.templateOptions.data.updateDefinition(e,t,i),"Functional"===g.find(i.fields,{key:"evidence_type"}).value()&&S(i)}},expressionProperties:{"templateOptions.options":function(e,t,i){return g.filter(i.to.clinicalSignificanceOptions,function(e){return!(e.type!==i.model.evidence_type&&"default"!==e.type&&"N/A"!==e.type)})},"templateOptions.disabled":'model.evidence_type === ""'}},{key:"disease",type:"horizontalTypeaheadHelp",wrapper:["loader","diseasedisplay"],templateOptions:{label:"Disease",value:"vm.newEvidence.doid",required:!0,minLength:32,helpText:x.Disease,typeahead:"item as item.name for item in to.data.typeaheadSearch($viewValue)",onSelect:"to.data.doid = $model.doid",templateUrl:"components/forms/fieldTypes/diseaseTypeahead.tpl.html",data:{doid:"--",prepopSearched:!1,typeaheadSearch:function(e){return l.beginsWith(e).then(function(e){return g.map(e,function(e){return e.aliases.length>0?(e.alias_list=e.aliases.join(", "),e.alias_list.length>70&&(e.alias_list=g.truncate(e.alias_list,70))):e.alias_list="--",e})})}}},controller:["$scope","$stateParams","Diseases",function(e,t,i){t.diseaseName&&!e.to.prepopSearched&&i.exactMatch(t.diseaseName).then(function(i){i[0]?(e.model.disease=i[0],e.to.data.doid=i[0].doid):e.to.data.doid='Suggested disease "'+t.diseaseName+'" not found.',e.to.prepopSearched=!0})}],expressionProperties:{"templateOptions.disabled":"model.noDoid === true","templateOptions.required":"model.noDoid === false"},hideExpression:function(e,t,i){return k(i.model)||i.model.noDoid}},{key:"disease_name",type:"horizontalInputHelp",templateOptions:{label:"Disease Name",required:!0,value:"vm.newEvidence.disease_name",minLength:32,helpText:x["Disease Name"]},hideExpression:"!model.noDoid"},{key:"noDoid",type:"horizontalCheckbox",templateOptions:{label:"Could not find disease.",onChange:function(e,t,i){i.model.disease={name:""},i.model.disease_name=""}},hideExpression:function(e,t,i){return k(i.model)}},{key:"description",type:"horizontalTextareaHelp",templateOptions:{rows:5,required:!0,label:"Evidence Statement",value:"vm.newEvidence.description",minLength:32,helpText:x["Evidence Statement"]}},{key:"evidence_level",type:"horizontalSelectHelp",wrapper:"attributeDefinition",templateOptions:{label:"Evidence Level",options:[{value:"",label:"Please select an Evidence Level"}].concat(b(f.evidence_level_brief)),valueProp:"value",required:!0,labelProp:"label",helpText:x["Evidence Level"],data:{attributeDefinition:"&nbsp;",attributeDefinitions:f.evidence_level},onChange:function(e,t){t.templateOptions.data.attributeDefinition=t.templateOptions.data.attributeDefinitions[e]}},controller:["$scope","$stateParams","ConfigService",function(e,t,i){if(t.evidenceLevel){var n=t.evidenceLevel,a=g.keys(i.evidenceAttributeDescriptions.evidence_level);g.includes(a,n)&&(e.model.evidence_level=t.evidenceLevel,e.to.data.attributeDefinition=e.to.data.attributeDefinitions[n])}}]},{key:"evidence_direction",type:"horizontalSelectHelp",wrapper:"attributeDefinition",controller:["$scope","$stateParams","ConfigService","_",function(e,t,i,n){if(t.evidenceDirection&&t.evidenceType){var a=t.evidenceType,s=t.evidenceDirection,o=n.keys(i.evidenceAttributeDescriptions.evidence_direction.evidence_item[a]);n.includes(o,s)&&(e.model.evidence_direction=t.evidenceDirection,e.to.data.attributeDefinition=e.to.data.attributeDefinitions[a][s])}}],templateOptions:{label:"Evidence Direction",required:!0,value:"vm.newEvidence.evidence_direction",options:[{value:"",label:"Please select an Evidence Direction"}].concat(y(f.evidence_direction.evidence_item.Diagnostic)),valueProp:"value",labelProp:"label",helpText:x["Evidence Direction"],evidenceDirectionOptions:[{type:"default",value:"",label:"Please select an Evidence Direction"}].concat(w(f.evidence_direction.evidence_item)),data:{attributeDefinition:"Please choose Evidence Type before selecting Evidence Direction.",attributeDefinitions:f.evidence_direction.evidence_item,updateDefinition:function(e,t,i){t.templateOptions.data.attributeDefinition=t.templateOptions.data.attributeDefinitions[i.model.evidence_type][i.model.evidence_direction]}},onChange:function(e,t,i){t.templateOptions.data.updateDefinition(e,t,i)}},expressionProperties:{"templateOptions.options":function(e,t,i){return g.filter(i.to.evidenceDirectionOptions,function(e){return!(e.type!==i.model.evidence_type&&"default"!==e.type&&"N/A"!==e.type)})},"templateOptions.disabled":'model.evidence_type === ""'}},{key:"drugs",type:"multiInput",templateOptions:{label:"Drug Names",entityName:"Drug",showAddButton:!0,addFormTemplate:"components/forms/fieldTypes/multiInputAddDrugForm.tpl.html",inputOptions:{type:"typeahead",wrapper:null,templateOptions:{typeahead:"item.name for item in options.data.typeaheadSearch($viewValue)",templateUrl:"components/forms/fieldTypes/drugTypeahead.tpl.html",onSelect:"options.data.pushNew(model, index)",editable:!1},data:{pushNew:function(e,t){e.splice(t+1,0,"")},typeaheadSearch:function(e){return p.query(e).then(function(e){return g.map(e,function(e){return e.aliases.length>0?(e.alias_list=e.aliases.join(", "),e.alias_list.length>100&&(e.alias_list=g.truncate(e.alias_list,100))):e.alias_list="--",e})})}}},helpText:x["Drug Names"]},hideExpression:function(e,t,i){return"Predictive"!==i.model.evidence_type},expressionProperties:{"templateOptions.required":function(e,t,i){return"Predictive"===i.model.evidence_type}}},{key:"drug_interaction_type",type:"horizontalSelectHelp",wrapper:"attributeDefinition",templateOptions:{label:"Drug Interaction Type",required:!0,value:"vm.newEvidence.drug_interaction_type",options:[{type:"default",value:null,label:"Please select a Drug Interaction Type"}].concat(y(f.drug_interaction_type)),valueProp:"value",labelProp:"label",helpText:x["Drug Interaction Type"],data:{attributeDefinition:"&nbsp;",attributeDefinitions:f.drug_interaction_type},onChange:function(e,t){t.templateOptions.data.attributeDefinition=t.templateOptions.data.attributeDefinitions[e]}},hideExpression:function(e,t,i){return!("Predictive"===i.model.evidence_type&&g.without(i.model.drugs,"").length>1)}},{key:"phenotypes",type:"multiInput",templateOptions:{label:"Associated Phenotypes",entityName:"Phenotype",showAddButton:!1,inputOptions:{type:"typeahead",wrapper:null,templateOptions:{typeahead:"item.name for item in options.data.typeaheadSearch($viewValue)",templateUrl:"components/forms/fieldTypes/hpoTypeahead.tpl.html",onSelect:"options.data.pushNew(model, index)",editable:!1},data:{pushNew:function(e,t){e.splice(t+1,0,"")},typeaheadSearch:function(e){return c.query(e).then(function(e){return g.map(e,function(e){return{id:e.hpo_id,name:e.hpo_class}})})}}},helpText:x.Phenotypes}},{key:"rating",type:"horizontalRatingHelp",templateOptions:{label:"Rating",required:!0,options:[{value:"",label:"Please select an Evidence Rating"},{value:1,label:C(1)},{value:2,label:C(2)},{value:3,label:C(3)},{value:4,label:C(4)},{value:5,label:C(5)}],valueProp:"value",labelProp:"label",helpText:x.Rating}},{key:"keepSourceStatus",type:"horizontalCheckboxHelp",defaultValue:!1,hideExpression:function(e,t,i){return null===i.model.source_suggestion_id},templateOptions:{label:"Originating source suggestion supports the creation of additional evidence items",helpText:x.keepSourceStatus}},{key:"text",type:"horizontalCommentHelp",model:I.newEvidence.comment,templateOptions:{rows:5,minimum_length:3,label:"Additional Comments",currentUser:a.currentUser,value:"text",required:!1,helpText:x["Additional Comments"]},validators:{length:{expression:function(e,t,i){var n=e||t;return n.length>=i.to.minimum_length||0===n.length},message:'"Comment must be at least " + to.minimum_length + " characters long to submit."'}}}],I.switchOrg=function(e){I.newEvidence.organization=g.find(I.currentUser.organizations,{id:e})},I.submit=function(e){e.evidenceId=e.id,e.drugs=g.without(e.drugs,""),e.phenotypes=g.without(e.phenotypes,""),e.drugs.length<2&&(e.drug_interaction_type=null),g.isString(e.variant)&&(e.variant={name:e.variant}),I.formErrors={},I.formMessages={},!0===e.keepSourceStatus&&(e=g.omit(e,"source_suggestion_id")),e.noDoid&&(e.disease={name:e.disease_name}),s.add(e).then(function(t){I.formMessages.submitSuccess=!0,I.showInstructions=!1,I.showForm=!1,I.showSuccessMessage=!0,I.linkParams={geneId:t.gene.id,variantId:t.variant.id,evidenceId:t.evidence_item.id},I.linkNames={gene:t.gene.name,variant:t.variant.name,evidence_item:t.evidence_item.name},e.organization.id!=I.currentUser.most_recent_organization.id&&a.reloadCurrentUser()}).catch(function(e){I.formErrors[e.status]=!0}).finally(function(){})}}t.$inject=["$scope","$q","$document","$stateParams","Security","Evidence","Genes","Publications","Diseases","Phenotypes","Datatables","Sources","DrugSuggestions","AddEvidenceViewOptions","formConfig","_","ConfigService"],angular.module("civic.add.evidence").directive("addEvidenceBasic",e).controller("AddEvidenceBasicController",t)}(),function(){"use strict";function e(e){e.state("add.assertion",{url:"/assertion?geneId?geneName?variantId?variantName?variantOrigin?diseaseName?evidenceType?evidenceDirection?clinicalSignificance",templateUrl:"app/views/add/assertion/addAssertion.tpl.html",resolve:{Assertions:"Assertions",acmgCodes:["Assertions",function(e){return e.queryAcmgCodes()}]},controller:"AddAssertionController",controllerAs:"vm",data:{title:"Add Assertion",navMode:"sub"}})}function t(e,t,i,n,a,s,o,r,l,c,d,u,p,m){var v=this;v.type="ASSERTION";var g=a.evidenceHelpText,h=a.evidenceAttributeDescriptions,f=a.assertionAttributeDescriptions,y=a.optionMethods.make_options,b=a.optionMethods.cs_options,w=a.optionMethods.merge_props,_=a.assertionAttributeDescriptions.ampLevels;a.assertionAttributeDescriptions.nccnGuidelines;v.showForm=!0,v.showSuccessMessage=!1,v.showInstructions=!0,v.formErrors={},v.formMessages={},v.validationMessages=n.validationMessages,v.errorPrompts=n.errorPrompts,v.currentUser=null,l.reloadCurrentUser().then(function(e){v.currentUser=e,v.isEditor=l.isEditor(),v.isAdmin=l.isAdmin(),v.isAuthenticated=l.isAuthenticated(),v.assertion.organization=v.currentUser.most_recent_organization}),v.assertion={gene:{name:""},variant:{name:""},variant_origin:"",description:"",disease:{name:""},drugs:[],drug_interaction_type:null,evidence_direction:"",evidence_type:"",clinical_significance:"",amp_level:"",acmg_codes:[""],phenotypes:[],nccn_guideline:{name:""},nccn_guideline_version:"",fda_regulatory_approval:!1,fda_companion_test:!1,evidence_items:[],comment:{title:"Additional Comments",text:""}},v.options={removeChromeAutoComplete:!0},v.assertionFields=[{key:"gene",type:"horizontalTypeaheadHelp",wrapper:["entrezIdDisplay"],controller:["$scope","$stateParams","Genes",function(e,t,n){t.geneId&&"undefined"!==t.geneId&&n.getName(t.geneId).then(function(t){e.model.gene=i.pick(t,["id","name","entrez_id"]),e.to.data.entrez_id=t.entrez_id}),t.geneName&&"undefined"!==t.geneName&&n.beginsWith(t.geneName).then(function(t){e.model.gene=t[0],e.to.data.entrez_id=t[0].entrez_id})}],templateOptions:{label:"Gene Entrez Name",minLength:32,required:!0,editable:!1,formatter:"model[options.key].name",typeahead:"item as item.name for item in to.data.typeaheadSearch($viewValue)",templateUrl:"components/forms/fieldTypes/geneTypeahead.tpl.html",onSelect:"to.data.entrez_id = $model.entrez_id",selectOnBlur:!0,helpText:g["Gene Entrez Name"],data:{entrez_id:"--",typeaheadSearch:function(e){return c.queryLocal(e).then(function(e){return i.map(e,function(e){return e.aliases.length>0&&(e.alias_list=e.aliases.join(", "),e.alias_list.length>70&&(e.alias_list=i.truncate(e.alias_list,70))),e})})}}},watcher:{listener:function(e,t,n,a){if(!i.isUndefined(e.formControl)&&e.formControl.$valid){var s=i.find(a.fields,{key:"variant"});s.templateOptions.data.message=""}if(!i.isUndefined(e.formControl)&&e.formControl.$invalid){a.model.variant={name:""};var s=i.find(a.fields,{key:"variant"});s.templateOptions.data.message="Please specify a gene before selecting a variant."}}},modelOptions:{debounce:{default:300}}},{key:"variant",type:"horizontalTypeaheadHelp",wrapper:["fieldMessage"],className:"input-caps",controller:["$scope","$stateParams","Variants",function(e,t,i){t.variantId&&"undefined"!==t.variantId&&i.get(t.variantId).then(function(t){e.model.variant={name:t.name}}),t.variantName&&"undefined"!==t.variantName&&(e.model.variant={name:t.variantName})}],templateOptions:{label:"Variant Name",required:!0,editable:!1,value:"vm.newEvidence.variant",popupTemplateUrl:"components/forms/fieldTypes/variantTypeaheadPopup.tpl.html",templateUrl:"components/forms/fieldTypes/variantTypeahead.tpl.html",minLength:32,helpText:g["Variant Name"],formatter:"model[options.key].name",typeahead:"item as item.name for item in options.data.typeaheadSearch($viewValue, model.gene.name)",typeaheadMinLength:0,selectOnBlur:!0,data:{message:"Please specify a Gene before choosing a Variant."}},expressionProperties:{"templateOptions.disabled":function(e,t,i){return!!i.model.gene&&""==i.model.gene.name}},data:{typeaheadSearch:function(e,t){var n={mode:"variants",count:50,page:0,"filter[variant]":e,"filter[entrez_gene]":t,"sorting[variant]":"asc"};return r.query(n).then(function(e){return i.map(i.uniq(e.result,"variant"),function(e){return{name:e.variant}})})}}},{key:"variant_origin",type:"horizontalSelectHelp",wrapper:"attributeDefinition",controller:["$scope","$stateParams","ConfigService","_",function(e,t,i,n){if(t.variantOrigin){var a=t.variantOrigin,s=n.keys(i.evidenceAttributeDescriptions.variant_origin);n.includes(s,a)&&(e.model.variant_origin=t.variantOrigin,e.to.data.attributeDefinition=e.to.data.attributeDefinitions[a])}}],templateOptions:{label:"Variant Origin",value:"vm.newEvidence.variant_origin",options:[{value:"",label:"Please select a Variant Origin"}].concat(y(h.variant_origin)),required:!0,valueProp:"value",labelProp:"label",helpText:g["Variant Origin"],data:{attributeDefinition:"&nbsp;",attributeDefinitions:h.variant_origin},onChange:function(e,t){t.templateOptions.data.attributeDefinition=t.templateOptions.data.attributeDefinitions[e]}}},{key:"disease",type:"horizontalTypeaheadHelp",wrapper:["loader","diseasedisplay"],templateOptions:{label:"Disease",value:"vm.newEvidence.doid",required:!0,minLength:32,helpText:"Please enter a disease name. Disease must exist in the CIViC database.",typeahead:"item as item.name for item in to.data.typeaheadSearch($viewValue)",onSelect:"to.data.doid = $model.doid",templateUrl:"components/forms/fieldTypes/diseaseTypeahead.tpl.html",data:{doid:"--",typeaheadSearch:function(e){return d.beginsWith(e).then(function(e){return i.map(e,function(e){return e.aliases.length>0?(e.alias_list=e.aliases.join(", "),e.alias_list.length>70&&(e.alias_list=i.truncate(e.alias_list,70))):e.alias_list="--",e})})}}},controller:["$scope","$stateParams","Diseases",function(e,t,i){t.diseaseName&&i.beginsWith(t.diseaseName).then(function(t){e.model.disease=t[0],e.to.data.doid=t[0].doid})}]},{key:"evidence_type",type:"horizontalSelectHelp",wrapper:"attributeDefinition",controller:["$scope","$stateParams","ConfigService","_",function(e,t,i,n){if(t.evidenceType){var a=t.evidenceType,s=n.keys(i.evidenceAttributeDescriptions.evidence_type.assertion);n.includes(s,a)&&(e.model.evidence_type=t.evidenceType,e.to.data.attributeDefinition=e.to.data.attributeDefinitions[a])}}],templateOptions:{label:"Assertion Type",required:!0,value:"vm.newEvidence.evidence_type",ngOptions:'option["value"] as option["label"] for option in to.options',options:[{value:"",label:"Please select an Assertion Type"}].concat(y(h.evidence_type.assertion)),onChange:function(e,t,n){var a=i.find(n.fields,{key:"clinical_significance"}),s=i.find(n.fields,{key:"evidence_direction"});a.value(""),s.value(""),a.templateOptions.data.attributeDefinition="",s.templateOptions.data.attributeDefinition="",n.model.drugs="Predictive"===e?[""]:[],t.templateOptions.data.attributeDefinition=t.templateOptions.data.attributeDefinitions[e],"Predisposing"!==e&&(n.model.acmg_codes=[""])},helpText:"Type of clinical outcome associated with the assertion description.",data:{attributeDefinition:"&nbsp;",attributeDefinitions:h.evidence_type.assertion}},watcher:{listener:function(e,t,n,a){!i.isUndefined(e.formControl)&&e.formControl.$valid&&(i.find(a.fields,{key:"evidence_direction"}).templateOptions.data.attributeDefinition="",i.find(a.fields,{key:"clinical_significance"}).templateOptions.data.attributeDefinition=""),(i.isUndefined(e.formControl)||e.formControl.$invalid)&&(i.find(a.fields,{key:"evidence_direction"}).templateOptions.data.attributeDefinition="Please choose Assertion Type before selecting Assertion Direction.",i.find(a.fields,{key:"clinical_significance"}).templateOptions.data.attributeDefinition="Please choose Assertion Type before selecting Assertion Direction.")}}},{key:"evidence_direction",type:"horizontalSelectHelp",wrapper:"attributeDefinition",controller:["$scope","$stateParams","ConfigService","_",function(e,t,i,n){if(t.evidenceDirection&&t.evidenceType){var a=t.evidenceType,s=t.evidenceDirection,o=n.keys(i.evidenceAttributeDescriptions.evidence_direction.assertion[a]);n.includes(o,s)&&(e.model.evidence_direction=t.evidenceDirection,e.to.data.attributeDefinition=e.to.data.attributeDefinitions[a][s])}}],templateOptions:{label:"Assertion Direction",required:!0,value:"vm.newEvidence.evidence_direction",options:[{value:"",label:"Please select an Assertion Direction"}].concat(y(h.evidence_direction.assertion.Diagnostic)),valueProp:"value",labelProp:"label",evidenceDirectionOptions:[{type:"default",value:"",label:"Please select an Assertion Direction"}].concat(b(h.evidence_direction.assertion)),helpText:"An indicator of whether the assertion statement supports or refutes the clinical significance of an event. Assertion Type must be selected before this field is enabled.",data:{attributeDefinition:"Please choose Assertion Type before selecting Assertion Direction.",attributeDefinitions:h.evidence_direction.assertion,updateDefinition:function(e,t,i){t.templateOptions.data.attributeDefinition=t.templateOptions.data.attributeDefinitions[i.model.evidence_type][i.model.evidence_direction]}},onChange:function(e,t,i){t.templateOptions.data.updateDefinition(e,t,i)}},expressionProperties:{"templateOptions.options":function(e,t,n){return i.filter(n.to.evidenceDirectionOptions,function(e){return!(e.type!==n.model.evidence_type&&"default"!==e.type&&"N/A"!==e.type)})},"templateOptions.disabled":'model.evidence_type === ""'}},{key:"clinical_significance",type:"horizontalSelectHelp",wrapper:"attributeDefinition",controller:["$scope","$stateParams","ConfigService","_",function(e,t,i,n){if(t.clinicalSignificance&&t.evidenceType){var a=t.evidenceType,s=t.clinicalSignificance,o=n.keys(i.evidenceAttributeDescriptions.clinical_significance.assertion[a]);n.includes(o,s)&&(e.model.clinical_significance=t.clinicalSignificance,e.to.data.attributeDefinition=e.to.data.attributeDefinitions[s])}}],templateOptions:{label:"Clinical Significance",required:!0,value:"vm.newEvidence.clinical_significance",clinicalSignificanceOptions:[{type:"default",value:"",label:"Please select a Clinical Significance"}].concat(b(h.clinical_significance.assertion)),ngOptions:'option["value"] as option["label"] for option in to.options',options:[{type:"default",value:"",label:"Please select a Clinical Significance"}].concat(b(h.clinical_significance.assertion)),helpText:"Positive or negative association of the Variant with predictive, prognostic, diagnostic, or predisposing assertion types. If the variant was not associated with a positive or negative outcome, N/A should be selected. Assertion Type must be selected before this field is enabled.",data:{attributeDefinition:"Please choose Assertion Type before selecting Clinical Significance.",attributeDefinitions:w(h.clinical_significance.assertion),updateDefinition:function(e,t,i){t.templateOptions.data.attributeDefinition=t.templateOptions.data.attributeDefinitions[i.model.clinical_significance]}},onChange:function(e,t,i){t.templateOptions.data.updateDefinition(e,t,i)}},expressionProperties:{"templateOptions.options":function(e,t,n){return i.filter(n.to.clinicalSignificanceOptions,function(e){return!(e.type!==n.model.evidence_type&&"default"!==e.type&&"N/A"!==e.type)})},"templateOptions.disabled":'model.evidence_type === ""'}},{key:"drugs",type:"multiInput",templateOptions:{label:"Drug Name(s)",entityName:"Drug",showAddButton:!0,addFormTemplate:"components/forms/fieldTypes/multiInputAddDrugForm.tpl.html",inputOptions:{type:"typeahead",templateOptions:{typeahead:"item.name for item in options.data.typeaheadSearch($viewValue)",templateUrl:"components/forms/fieldTypes/drugTypeahead.tpl.html",onSelect:"options.data.pushNew(model, index)",editable:!1},data:{pushNew:function(e,t){e.splice(t+1,0,"")},typeaheadSearch:function(e){return m.query(e).then(function(e){return i.map(e,function(e){return e.aliases.length>0?(e.alias_list=e.aliases.join(", "),e.alias_list.length>70&&(e.alias_list=i.truncate(e.alias_list,70))):e.alias_list="--",e})})}}},helpText:g["Drug Names"]},hideExpression:function(e,t,i){return"Predictive"!==i.model.evidence_type}},{key:"drug_interaction_type",type:"horizontalSelectHelp",wrapper:"attributeDefinition",templateOptions:{label:"Drug Interaction Type",required:!0,options:[{type:"default",value:null,label:"Please select a Drug Interaction Type"}].concat(y(h.drug_interaction_type)),valueProp:"value",labelProp:"label",helpText:g["Drug Interaction Type"],data:{attributeDefinition:"&nbsp;",attributeDefinitions:h.drug_interaction_type},onChange:function(e,t){t.templateOptions.data.attributeDefinition=t.templateOptions.data.attributeDefinitions[e]}},hideExpression:function(e,t,n){return!("Predictive"===n.model.evidence_type&&i.without(n.model.drugs,"").length>1)}},{key:"amp_level",type:"horizontalSelectHelp",wrapper:"attributeDefinition",templateOptions:{label:"AMP/ASCO/CAP Category",options:[{value:"",label:"Please select an AMP/ASCO/CAP Category"}].concat(y(_)),valueProp:"value",labelProp:"label",helpText:'If applicable, please provide the <a href="http://www.ncbi.nlm.nih.gov/pubmed/27993330" target="_blank">AMP/ASCO/CAP somatic variant classification</a>.',data:{attributeDefinition:"&nbsp;",attributeDefinitions:f.ampLevels},onChange:function(e,t){t.templateOptions.data.attributeDefinition=t.templateOptions.data.attributeDefinitions[e]}},hideExpression:function(e,t,i){return"Predisposing"===i.model.evidence_type}},{key:"acmg_codes",type:"multiInput",templateOptions:{label:"ACMG/AMP Code(s)",entityName:"ACMG/AMP Code",showAddButton:!1,inputOptions:{type:"typeahead",wrapper:["acmgDescription"],templateOptions:{formatter:"model[options.key].name",typeahead:"item as item.code for item in options.data.typeaheadSearch($viewValue)",onSelect:"options.data.pushNew(model, index, to)",typeaheadMinLength:1,selectOnBlur:!0},data:{pushNew:function(e,t,i){e.splice(t+1,0,"")},typeaheadSearch:function(e){return s.queryAcmgCodes(e).then(function(e){return e})}}},data:{message:""}},expressionProperties:{},hideExpression:function(e,t,i){return"Predisposing"!==i.model.evidence_type}},{key:"phenotypes",type:"multiInput",templateOptions:{label:"Associated Phenotypes",entityName:"Phenotype",showAddButton:!1,inputOptions:{type:"typeahead",wrapper:null,templateOptions:{typeahead:"item as item.name for item in options.data.typeaheadSearch($viewValue)",templateUrl:"components/forms/fieldTypes/hpoTypeahead.tpl.html",onSelect:"options.data.pushNew(model, index)",editable:!1},data:{pushNew:function(e,t){e.splice(t+1,0,"")},typeaheadSearch:function(e){return p.query(e).then(function(e){return i.map(e,function(e){return{id:e.hpo_id,name:e.hpo_class}})})}}},helpText:g.Phenotypes}},{key:"nccn_guideline",type:"horizontalTypeaheadHelp",wrapper:["loader"],templateOptions:{label:"NCCN Guideline",value:"vm.newEvidence.nccn_guideline",editable:!1,required:!1,helpText:'If applicable, please provide cancer (e.g., Breast Cancer) and version (e.g., 5.2016) for the appropriate <a href="http://www.nccn.org/professionals/physician_gls/default.aspx#site" target="_blank">NCCN guideline</a>.',typeahead:"item as item.name for item in to.data.typeaheadSearch($viewValue)",data:{typeaheadSearch:function(e){return u.contains(e).then(function(e){return e})}}}},{key:"nccn_guideline_version",type:"horizontalInputHelp",templateOptions:{label:"NCCN Guideline Version",minLength:32,helpText:""}},{key:"fda_regulatory_approval",type:"horizontalCheckbox",templateOptions:{label:"Assertion has FDA regulatory approval.",onChange:function(e,t,i){!1===e&&(i.model.fda_companion_test=!1)}},hideExpression:function(e,t,i){return"Predictive"!==i.model.evidence_type}},{key:"fda_companion_test",type:"horizontalCheckbox",templateOptions:{label:"Assertion has FDA companion test."}},{key:"summary",type:"horizontalInputHelp",templateOptions:{label:"Summary",required:!0,minLength:24,helpText:"A short, one sentence summary of this new assertion"}},{key:"description",type:"horizontalTextareaHelp",templateOptions:{rows:8,label:"Description",required:!0,minLength:32,helpText:"Your complete, original description of this new assertion, limited to one paragraph"}},{key:"evidence_items",type:"evidenceSelectorField",wrapper:["simpleHasError"],templateOptions:{label:"Supporting Evidence",helpText:"Please use the grids to add/remove evidence items."}},{key:"text",type:"horizontalCommentHelp",model:v.assertion.comment,templateOptions:{rows:5,minimum_length:3,label:"Additional Comments",currentUser:l.currentUser,value:"text",required:!1,helpText:"Please provide any additional comments you wish to make about this assertion. This comment will appear as the first comment in this assertion's comment thread."},validators:{length:{expression:function(e,t,i){var n=e||t;return n.length>=i.to.minimum_length||0===n.length},message:'"Comment must be at least " + to.minimum_length + " characters long to submit."'}}}],v.switchOrg=function(e){v.assertion.organization=i.find(v.currentUser.organizations,{id:e})},v.add=function(e){var t=i.cloneDeep(e);t.drugs=i.without(t.drugs,""),t.acmg_codes=i.chain(t.acmg_codes).without("").map("code").value(),t.evidence_items=i.map(t.evidence_items,"id"),t.phenotypes=i.chain(t.phenotypes).without("").map("name").value(),s.add(t).then(function(t){v.formMessages.submitSuccess=!0,v.showInstructions=!1,v.showForm=!1,v.showSuccessMessage=!0,v.newAssertionId=t.assertion.id,v.newAssertionName=t.assertion.name,v.formErrors={},e.organization.id!=v.currentUser.most_recent_organization.id&&l.reloadCurrentUser()}).catch(function(e){v.formErrors[e.status]=e}).finally(function(){})}}e.$inject=["$stateProvider"],t.$inject=["$scope","$stateParams","_","formConfig","ConfigService","Assertions","acmgCodes","Datatables","Security","Genes","Diseases","NccnGuidelines","Phenotypes","DrugSuggestions"],angular.module("civic.add").config(e).controller("AddAssertionController",t)}(),function(){"use strict";function e(e){e.state("add.variantGroup",{url:"/variantGroup?geneId",templateUrl:"app/views/add/variantGroup/addVariantGroup.tpl.html",resolve:{VariantGroups:"VariantGroups"},controller:"AddVariantGroupController",controllerAs:"vm",data:{title:"Add Variant Group",navMode:"sub"}})}function t(e,t,i,n,a,s,o){var r=this;r.type="VARIANT GROUP",r.showForm=!0,r.showSuccessMessage=!1,r.showInstructions=!0,r.formErrors={},
r.formMessages={},r.errorMessages=n.errorMessages,r.errorPrompts=n.errorPrompts,r.variantGroup={name:"",description:"",variants:[{id:0,name:""}],organization:null},r.currentUser=null,o.reloadCurrentUser().then(function(e){r.currentUser=e,r.isEditor=o.isEditor(),r.isAdmin=o.isAdmin(),r.isAuthenticated=o.isAuthenticated(),r.variantGroup.organization=r.currentUser.most_recent_organization}),r.variantGroupFields=[{key:"name",type:"horizontalInputHelp",templateOptions:{label:"Name",disabled:!1,value:r.variantGroup.name,helpText:"A brief and meaningful name for the new variant group."}},{key:"description",type:"horizontalTextareaHelp",templateOptions:{rows:8,label:"Description",value:"vm.variantGroup.description",focus:!0,minLength:32,helpText:"A brief description of this new variant group."}},{key:"variants",type:"multiInput",templateOptions:{label:"Variants",entityName:"Variant",showAddButton:!1,inputOptions:{type:"typeahead",wrapper:null,templateOptions:{formatter:"model[options.key].name",typeahead:"item as item.name for item in options.data.typeaheadSearch($viewValue)",popupTemplateUrl:"components/forms/fieldTypes/variantTypeaheadPopup.tpl.html",onSelect:"options.data.pushNew(model, index)"},data:{pushNew:function(e,t){e.splice(t+1,0,"")},typeaheadSearch:function(e){var t={mode:"variants",count:5,page:0,"filter[variant]":e,"sorting[variant]":"asc"};return s.query(t).then(function(e){return i.map(e.result,function(e){return{name:e.entrez_gene+" - "+e.variant,id:e.variant_id}})})}}},helpText:'Click the X button to delete a variant, click the + button to add a variant. Note that variants must be known to CIViC to be available for including here. New variants may be added as part of an evidence item using the <a href="/add/evidence/basic" target="_self">Add Evidence form</a>.'}}],r.switchOrg=function(e){r.variantGroup.organization=i.find(r.currentUser.organizations,{id:e})},r.add=function(e){e.variants=i.without(e.variants,""),a.add(e).then(function(t){r.formMessages.submitSuccess=!0,r.showInstructions=!1,r.showForm=!1,r.showSuccessMessage=!0,r.newGroupId=t.id,r.newGeneId=t.variants[0].gene_id,e.organization.id!=r.currentUser.most_recent_organization.id&&o.reloadCurrentUser()}).catch(function(e){r.formErrors[e.status]=!0}).finally(function(){})}}e.$inject=["$stateProvider"],t.$inject=["$scope","$stateParams","_","formConfig","VariantGroups","Datatables","Security"],angular.module("civic.add").config(e).controller("AddVariantGroupController",t)}(),function(){"use strict";function e(e,t,i){t.defaults.stripTrailingSlashes=!1,e.state("community.main",{url:"/main",templateUrl:"app/views/community/main/communityMain.tpl.html",resolve:{Users:"Users",Community:"Community"},controller:"CommunityMainController",controllerAs:"vm",data:{navMode:"sub",title:"Community"}}),i.when("/community","/community/main")}function t(e,t,i,n){var a=this;a.isEditor=i.isEditor(),a.isAdmin=i.isAdmin(),a.isAuthenticated=i.isAuthenticated(),a.leaderboards={},a.users=[],n.getUserLeaderboards().then(function(e){angular.copy(e,a.leaderboards)})}e.$inject=["$stateProvider","$resourceProvider","$urlRouterProvider"],t.$inject=["$scope","_","Security","Community"],angular.module("civic.add").config(e).controller("CommunityMainController",t)}(),function(){"use strict";function e(e,t){t.defaults.stripTrailingSlashes=!1,e.state("community.organizations",{url:"/organizations",templateUrl:"app/views/community/organizations/organizationsMain.tpl.html",resolve:{Users:"Users",Community:"Community"},controller:"OrganizationsMainController",controllerAs:"vm",data:{navMode:"sub",title:"Community"}})}function t(e,t,i,n){var a=this;a.isEditor=i.isEditor(),a.isAdmin=i.isAdmin(),a.isAuthenticated=i.isAuthenticated(),a.leaderboards={},a.users=[],n.getOrganizationLeaderboards().then(function(e){angular.copy(e,a.leaderboards)})}e.$inject=["$stateProvider","$resourceProvider"],t.$inject=["$scope","_","Security","Community"],angular.module("civic.add").config(e).controller("OrganizationsMainController",t)}(),function(){"use strict";function e(e){e.state("community",{abstract:!0,url:"/community",templateUrl:"app/views/community/CommunityView.tpl.html",controller:"CommunityViewController",data:{titleExp:'"Community"'},onExit:["$deepStateRedirect",function(e){e.reset()}]})}function t(){}e.$inject=["$stateProvider"],angular.module("civic.community.main",[]),angular.module("civic.community").config(e).controller("CommunityViewController",t)}(),function(){"use strict";function e(e){e.state("curation",{abstract:!0,url:"/curation",templateUrl:"app/views/curation/curation.tpl.html",data:{titleExp:'"Curation"',navMode:"sub"}}).state("curation.flags",{url:"/flags",templateUrl:"app/views/curation/flags/flags.tpl.html",controller:"FlagsQueueController",resolve:{openFlags:["Flags",function(e){return e.queryOpen()}]},data:{titleExp:'"Curation: Open Flags"',navMode:"sub"}}).state("curation.sources",{url:"/sources",templateUrl:"app/views/curation/sources/sourcesQueue.tpl.html",controller:"SourcesQueueController",data:{titleExp:'"Curation: Sources"',navMode:"sub"}}).state("curation.evidence",{url:"/evidence",templateUrl:"app/views/curation/evidence/evidenceQueues.tpl.html",data:{titleExp:'"Curation: Evidence"',navMode:"sub"}})}e.$inject=["$stateProvider"],angular.module("civic.curation").config(e)}(),function(){"use strict";function e(e,t,i){(e.vm={}).openFlags=i}e.$inject=["$scope","$state","openFlags"],angular.module("civic.curation").controller("FlagsQueueController",e)}(),function(){"use strict";function e(e,t,i){var n=e.vm={};n.suggestedSources=[],n.viewPublication=function(e){var i={sourceId:e};t.go("sources.summary",i)},i.getSuggested({count:999}).then(function(e){n.suggestedSources=e.result}),e.$on("suggestion:updated",function(){i.getSuggested({count:999}).then(function(e){n.suggestedSources=e.result})})}e.$inject=["$scope","$state","Sources"],angular.module("civic.curation").controller("SourcesQueueController",e)}(),function(){"use strict";function e(){return{restrict:"E",replace:!0,scope:{},templateUrl:"app/views/curation/flags/directives/flagsGrid.tpl.html",controller:"FlagsGridController"}}function t(e,t,i,n,a,s,o,r){function l(){c(d.count,d.page,d.sorting,d.filters).then(function(e){o.isUndefined(e.total)&&!o.isUndefined(e._meta)?d.totalItems=e._meta.total_count:o.isUndefined(e.total)||(d.totalItems=e.total)})}function c(e,i,n,a){var s;return s={count:e,page:i},t.id&&(s.id=t.id),a.length>0&&o.each(a,function(e){s["filter["+e.field+"]"]=e.term}),n.length>0&&o.each(n,function(e){s["sorting["+e.field+"]"]=e.direction}),r.queryOpen(s)}var d=t.ctrl={},u=d.maxRows=20;d.events=t.events,d.totalItems=Number(),d.page=t.page||1,d.count=u,d.filters=[],d.sorting=[],d.isFiltered=d.filters.length>0,t.$watch("ctrl.totalItems",function(){d.totalPages=Math.ceil(d.totalItems/u)}),d.gridOptions={enablePaginationControls:!1,useExternalFiltering:!0,useExternalSorting:!0,useExternalPaging:!0,paginationPageSizes:[u],paginationPageSize:u,minRowsToShow:u-1,enableHorizontalScrollbar:s.scrollbars.NEVER,enableVerticalScrollbar:s.scrollbars.NEVER,enableFiltering:!1,enableColumnMenus:!1,enableSorting:!1,enableRowSelection:!1,enableRowHeaderSelection:!1,multiSelect:!1,modifierKeysToMultiSelect:!1,noUnselect:!0,columnDefs:[{name:"flagging_user",displayName:"Flagging User",type:"string",enableFiltering:!0,allowCellFocus:!1,enableSorting:!1,width:"15%",cellTemplate:'<div class="ui-grid-cell-contents"><user-block user="row.entity[col.field]"</div>',filter:{condition:s.filter.CONTAINS}},{name:"entity_type",displayName:"Entity Type",type:"string",allowCellFocus:!1,enableFiltering:!1,enableSorting:!1,width:"15%",filter:{condition:s.filter.CONTAINS}},{name:"entity_name",displayName:"Entity Name",type:"string",allowCellFocus:!1,enableFiltering:!1,enableSorting:!1,width:"20%",filter:{condition:s.filter.CONTAINS}},{name:"flagging_comment",displayName:"Flagging Comment",enableFiltering:!0,allowCellFocus:!1,enableSorting:!1,cellTemplate:'<div class="ui-grid-cell-contents" tooltip-placement="left" uib-tooltip="{{row.entity[col.field]}}"><span ng-bind="row.entity[col.field]"></span></div>',filter:{condition:s.filter.CONTAINS}},{name:"created_at",displayName:"Flagged",type:"date",sort:{direction:s.DESC},width:"15%",allowCellFocus:!1,enableFiltering:!1,enableSorting:!0,cellTemplate:'<div class="ui-grid-cell-contents"><span ng-bind="row.entity[col.field]|timeAgo"></span></div>',filter:{condition:s.filter.CONTAINS}},{name:"action",displayName:"Actions",width:"15%",allowCellFocus:!1,enableFiltering:!1,cellTemplate:'<div class="ui-grid-cell-contents text-right"><button ng-click="grid.appScope.ctrl.viewFlag(row)"class="btn btn-xs btn-primary">View Flagged Entity</button></div>'}]},d.gridOptions.onRegisterApi=function(i){d.gridApi=i,d.pageChanged=function(){e.info("page changed: "+d.page),a.search("page",d.page),l()},i.core.on.filterChanged(t,function(){e.info("filter changed.");var t=o.filter(this.grid.columns,function(e){return o.has(e.filter,"term")&&!o.isEmpty(e.filter.term)&&o.isString(e.filter.term)});t.length>0?d.filters=o.map(t,function(e){return{field:e.field,term:e.filter.term}}):d.filters=[],d.page=1,l()}),i.core.on.sortChanged(t,function(t,i){e.info("sort changed."),i.length>0?d.sorting=o.map(i,function(e){return{field:e.field,direction:e.sort.direction}}):d.sorting=[],l()}),d.viewFlag=function(e){var t=e.entity,i={Gene:"events.genes",Variant:"events.genes.summary.variants",VariantGroup:"events.genes.summary.variantGroups",EvidenceItem:"events.genes.summary.variants.summary.evidence"},a={};o.each(t.state_params,function(e,t){var i,n;"evidence_item"===t?(i="evidenceId",n="evidence"):"variant"===t?(i="variantId",n="variant"):"variant_group"===t?(i="variantGroupId",n="variant-group"):i=t+"Id",a[i]=e.id,a["#"]=n}),!0!==o.isUndefined(t.unlinkable)&&!1!==t.unlinkable||n.go(i[t.flaggable_type]+".summary",a)}},t.$watchCollection(function(){return r.data.collection},function(e){d.gridOptions.data=o.map(e,function(e){e.flagging_comment=e.comments[0].text,o.isUndefined(e.comments[1])||(e.resolving_comment=e.comments[1].text);var t=o.chain(e.state_params).findKey({id:e.flaggable_id}).value();return e.entity_type=i("keyToLabel")(t).toUpperCase(),e.entity_name=o.chain(e.state_params).find({id:e.flaggable_id}).value().name,e})}),l()}t.$inject=["$log","$scope","$filter","$state","$location","uiGridConstants","_","Flags"],angular.module("civic.curation").directive("flagsGrid",e).controller("FlagsGridController",t)}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/directives/addDrugForm.tpl.html",'<div class="addDrugForm"><div ng-if="vm.showForm"><div class="row"><div class="col-xs-12"><p class="small">Enter a new drug name below to add it to CIViC. Please ensure that the new drug name is not included in the <a href="https://ncithesaurus.nci.nih.gov/ncitbrowser/pages/advanced_search.jsf?dictionary=NCI%20Thesaurus" alt="NCIthesaurus Advanced Search" target="_blank">NCIt database</a>.</p></div></div><div class="row"><div class="col-xs-12"><form class="form-horizontal" name="vm.form" autocomplete="off" novalidate style="padding: 0; margin-bottom: 12px"><formly-form options="vm.options" model="vm.newDrug" fields="vm.newDrugFields"></formly-form></form></div></div><div class="row"><div class="col-xs-6"><button type="button" class="btn btn-sm btn-default pull-left" ng-click="vm.close()">Cancel</button></div><div class="col-xs-6"><button type="button" class="btn btn-sm btn-success pull-right" ng-disabled="vm.form.$invalid" ng-click="vm.submit(vm.newDrug)">Create</button></div></div></div><div ng-if="vm.showSuccess" class="row"><div class="col-xs-12"><div class="alert alert-success" role="alert"><strong>Success:</strong> New drug <strong>{{vm.createdDrug.name}}</strong> was created.</div></div><div class="col-xs-12"><button class="btn btn-block btn-sm btn-success" ng-click="vm.addDrug()">Insert new drug <strong>{{vm.createdDrug.name}}</strong> into Drug Names</button></div></div><div ng-if="vm.showConflict" class="row"><div class="col-xs-12"><div class="alert alert-warning" role="alert"><strong>Conflict:</strong> A drug named <strong>{{vm.conflictDrug.name}}</strong> already exists in the CIViC database.</div></div><div class="col-xs-12"><button class="btn btn-block btn-sm btn-success" ng-click="vm.addDrug()">Insert existing drug <strong>{{vm.conflictDrug.name}}</strong> to Drug Names field</button></div></div><div ng-if="vm.showError" class="row"><div class="col-xs-12"><div class="alert alert-danger" role="alert"><strong>Error:</strong> An unknown server error occurred. Please check the browser console for more information and report an issue if the problem persists.</div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/directives/assertionTag.tpl.html","<div class=\"assertionTag\"><span uib-tooltip-template=\"'assertionTagTooltip.tpl.html'\"><a ui-sref=\"events.assertions.summary({ assertionId: assertion.id })\" class=\"assertion-tag\" ng-class=\"{ 'statusAccepted': assertion.status === 'accepted', 'statusSubmitted': assertion.status === 'submitted', 'statusRejected': assertion.status === 'rejected' }\"><i class=\"glyphicon glyphicon-exclamation-sign pending-alert\" ng-if=\"assertion.pending_evidence_count > 0 || assertion.open_change_count > 0\" ng-class=\"{'pending-evidence': assertion.pending_evidence_count > 0,\n        'pending-changes': assertion.open_change_count > 0,\n        'pending-both': assertion.pending_evidence_count > 0 &&\n"+'        assertion.open_change_count > 0}"></i> <span ng-bind-html="assertion.name" class="assertion-name">AssertionName</span></a></span></div><script type="text/ng-template" id="assertionTagTooltip.tpl.html"><span>\n    <span ng-if="assertion.summary.length > 0">{{assertion.summary}}<br/></span>\n  <span ng-if="assertion.status !== \'accepted\'">\n      <strong>Status:</strong> {{ assertion.status }}\n      <br/>\n    </span>\n  <strong>Evidence Items:</strong> <span ng-bind="assertion.evidence_item_count">item count</span>\n  <br/>\n  <span ng-if="assertion.pending_evidence_count > 0" style="display:block;">Has {{ assertion.pending_evidence_count }} pending evidence</span>\n  <span ng-if="assertion.open_change_count > 0" style="display:block;">Has {{ assertion.open_change_count }} pending change{{assertion.open_change_count > 1 ? \'s\' : \'\' }}</span>\n  </span><\/script>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/directives/badge.tpl.html",'<div class="trophyBadge" uib-tooltip="{{badge.description}}"><div class="badge-image"><img ng-src="{{badge.image_urls.x32}}" width="32" height="32"></div><div class="badge-name">{{badge.tier | capitalize}} {{badge.name}}</div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/directives/cancelButton.tpl.html",'<a ng-click="cancel()"><button type="button" class="btn btn-default btn-md">Cancel</button></a>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/directives/civicLogo.tpl.html",'<div class="civicLogo"><a ui-sref="home"><div ng-switch on="$root.view.navMode"><span ng-switch-when="home"><img src="assets/images/CIViC_logo.png" alt="CIViC: Clinical Interpretation of Variations in Cancer" width="375" height="240" class="img-responsive"> </span><span ng-switch-when="sub"><img src="assets/images/CIViC_logo_sm.png" alt="CIViC: Clinical Interpretation of Variations in Cancer" width="155" height="76"></span></div></a></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/directives/eventEntity.tpl.html",'<div class="eventEntity">\x3c!-- preposition, if necessary --\x3e <span ng-switch="event.event_type"><span ng-switch-when="commented">&nbsp;commented on</span> <span ng-switch-when="submitted">&nbsp;submitted</span> <span ng-switch-when="accepted">&nbsp;accepted</span> <span ng-switch-when="rejected">&nbsp;rejected</span> <span ng-switch-when="change suggested">&nbsp;suggested a revision to</span> <span ng-switch-when="change accepted">&nbsp;accepted a revision to</span> <span ng-switch-when="change rejected">&nbsp;rejected a revision to</span> <span ng-switch-when="reverted">&nbsp;reverted</span> <span ng-switch-default></span> </span><span ng-switch="event.subject_type"><span ng-switch-when="genes"><span class="subject-type">gene</span> </span><span ng-switch-when="variants"><span class="subject-type">variant</span> </span><span ng-switch-when="variantgroups"><span class="subject-type">variant group</span> </span><span ng-switch-when="evidenceitems"><span class="subject-type">evidence item</span> </span><span ng-switch-when="suggestedchanges"><span class="subject-type">a suggested revision to</span> </span></span><strong><span ng-bind="vm.entityName">GENE / VARIANT / EVIDENCE</span></strong></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/directives/eventItem.tpl.html",'<div class="eventItem" ng-click="vm.eventClick(event)" ng-class="{ hover: mouseover, dark: theme === \'dark\', light: theme === \'light\', unseen: vm.seen === false }" ng-mouseover="mouseover = event.unlinkable === true ? false : true" ng-mouseleave="mouseover=false"><div class="user-time"><user-block user="event.user"></user-block><span ng-if="event.organization">&nbsp;for&nbsp;<organization-block organization="event.organization"></organization-block></span><br></div><div class="entity">\x3c!-- preposition, if necessary --\x3e <span ng-switch="event.event_type"><span ng-switch-when="commented">&nbsp;commented on</span> <span ng-switch-when="flagged">&nbsp;flagged</span> <span ng-switch-when="flag resolved">&nbsp;resolved flagged on</span> <span ng-switch-when="submitted">&nbsp;submitted</span> <span ng-switch-when="assertion submitted">&nbsp;submitted</span> <span ng-switch-when="assertion rejected">&nbsp;rejected</span> <span ng-switch-when="assertion accepted">&nbsp;accepted</span> <span ng-switch-when="accepted">&nbsp;accepted</span> <span ng-switch-when="rejected">&nbsp;rejected</span> <span ng-switch-when="change suggested">&nbsp;suggested a revision to</span> <span ng-switch-when="change accepted">&nbsp;accepted a revision to</span> <span ng-switch-when="change rejected">&nbsp;rejected a revision to</span> <span ng-switch-when="publication suggested">&nbsp;suggested </span><span ng-switch-when="reverted">&nbsp;reverted </span><span ng-switch-default></span> </span><span ng-switch="event.subject_type"><span ng-switch-when="assertions"><span class="subject-type">assertion</span> </span><span ng-switch-when="genes"><span class="subject-type">gene</span> </span><span ng-switch-when="variants"><span class="subject-type">variant</span> </span><span ng-switch-when="variantgroups"><span class="subject-type">variant group</span> </span><span ng-switch-when="evidenceitems"><span class="subject-type">evidence item</span> </span><span ng-switch-when="sources"><span class="subject-type">publication </span></span><span ng-switch-when="suggestedchanges"><span class="subject-type">a suggested revision to</span> </span></span><strong><span ng-bind="vm.entityName">GENE / VARIANT / EVIDENCE</span> <span ng-if="event.unlinkable === true" class="small" style="color: #AAA">(unlinkable)</span></strong><br>&nbsp;<span ng-bind="event.timestamp|timeAgo">time ago</span></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/directives/evidenceSelectorItem.tpl.html",'<div class="evidenceSelectorItem"><div class="row header"><div class="col-xs-10 title"><h3><a ng-href="/links/evidence/{{ctrl.item.id}}" target="_self">EID{{ ctrl.item.id }} <span class="glyphicon glyphicon-flag" style="color: #942830; font-size: 80%" ng-if="ctrl.item.flagged"></span> </a><span ng-if="ctrl.item.gene != undefined && ctrl.item.variant != undefined"><a ng-href="/links/gene/{{ctrl.item.gene.id}}" target="_self"><span style="color: #AAA">GENE</span> {{ ctrl.item.gene.name }} </a><a ng-href="/links/variant/{{ctrl.item.variant.id}}" target="_self"><span style="color: #AAA">VARIANT</span> {{ ctrl.item.variant.name }}</a></span></h3></div><div class="col-xs-2 actions" ng-if="ctrl.removeItem !== undefined"><button ng-click="ctrl.removeItem(ctrl.item)" class="btn btn-xs btn-cell-remove"><i class="glyphicon glyphicon-minus"></i></button></div></div><div class="row summary"><div class="col-xs-12 explanation"><p ng-bind-html="ctrl.item.description"></p></div></div><div class="row"><div class="col-xs-12 col-md-6 details"><table class="table table-condensed summary-details"><colgroup><col width="40%"><col width="60%"></colgroup><tr><td class="name" style="line-height: 2em">Evidence Level:</td><td class="value"><span class="levelBadge" ng-class="{\'levelA\': ctrl.item.evidence_level === \'A\', \'levelB\': ctrl.item.evidence_level === \'B\',\'levelC\': ctrl.item.evidence_level === \'C\', \'levelD\': ctrl.item.evidence_level === \'D\', \'levelE\': ctrl.item.evidence_level === \'E\' }" uib-tooltip="{{tipText.evidence_level[ctrl.item.evidence_level]}}" tooltip-placement="right" class="help-tooltip">{{ ctrl.item.evidence_level_string }}</span></td></tr><tr><td class="name">Evidence Type:</td><td class="value"><span ng-bind="ctrl.item.evidence_type" uib-tooltip="{{tipText.evidence_type[ctrl.item.evidence_type]}}" tooltip-placement="right" class="help-tooltip">evidence type</span></td></tr><tr><td class="name">Evidence Direction:</td><td class="value"><span ng-bind="ctrl.item.evidence_direction" uib-tooltip="{{tipText.evidence_direction[ctrl.item.evidence_type][ctrl.item.evidence_direction]}}" tooltip-placement="right" class="help-tooltip">ctrl.item.evidence_direction</span></td></tr><tr><td class="name">Clinical Significance:</td><td class="value"><span ng-bind="ctrl.item.clinical_significance" uib-tooltip="{{tipText.clinical_significance[ctrl.item.evidence_type][ctrl.item.clinical_significance]}}" tooltip-placement="right" class="help-tooltip" class="help-tooltip">ctrl.item.clinical_significance</span></td></tr><tr><td class="name">Variant Origin:</td><td class="value"><span ng-bind="ctrl.item.variant_origin" uib-tooltip="{{tipText.variant_origin[ctrl.item.variant_origin]}}" tooltip-placement="right" class="help-tooltip">ctrl.item.variant_origin</span></td></tr><tr ng-if="ctrl.item.evidence_type == \'Predictive\'"><td class="name">Drug:</td><td class="value">{{ ctrl.item.drugsStr }}<span ng-if="ctrl.item.drug_interaction_type">&nbsp;({{ ctrl.item.drug_interaction_type }})</span></td></tr><tr ng-if="ctrl.item.assertions.length > 0"><td class="name" style="padding-top: 5px;padding-bottom: 0">Supports Assertions:</td><td class="value assertions"><assertion-tag ng-repeat="assertion in ctrl.item.assertions | orderBy:\'id\'" ng-show="assertion.status !== \'rejected\' || showAll === true" assertion="assertion"></assertion-tag></td></tr></table></div><div class="col-xs-12 col-md-6 details"><table class="table table-condensed summary-details"><colgroup><col width="40%"><col width="60%"></colgroup><tr ng-if="ctrl.item.evidence_type !== \'Functional\'"><td class="name">Disease:</td><td class="value"><a target="_blank" href="{{ ctrl.item.disease.url }}" _target="blank">{{ ctrl.item.disease.name }}</a></td></tr><tr><td class="name">Associated Phenotype{{ ctrl.item.phenotypes.length > 1 ? \'s\' : \'\' }}:</td><td class="value" ng-bind-html="ctrl.item.phenotypesStr"></td></tr><tr><td class="name">Citation:</td><td class="value"><a ui-sref="sources.summary({sourceId: ctrl.item.source.id })">{{ ctrl.item.source.citation }}</a></td></tr><tr><td class="name">Source:</td><td class="value"><a ui-sref="sources.summary({sourceId: crtl.item.source.id })">{{ ctrl.item.source.citation }}</a></td></tr><tr><td class="name"><span ng-switch="ctrl.item.source.source_type"><span ng-switch-when="PubMed">PubMed ID: </span><span ng-switch-when="ASCO">ASCO ID:</span></span></td><td class="value"><a ng-href="{{ctrl.item.source.source_url}}" class="btn btn-xs button-new-window" target="_blank"><span class="glyphicon glyphicon-new-window"></span> <span ng-bind="ctrl.item.source.citation_id"></span></a></td></tr><tr ng-if="ctrl.item.source.clinical_trials.length > 0"><td class="name">Clinical Trial<span ng-if="ctrl.item.source.clinical_trials.length > 1">s</span>:</td><td class="value"><span ng-repeat="trial in ctrl.item.source.clinical_trials">{{ $first ? \'\' : $last ? ( ctrl.item.source.clinical_trials.length > 2 ? \' and \' : \' and \' ) : \' \' }} <a ng-href="{{trial.clinical_trial_url}}" class="btn btn-xs button-new-window" style="margin-bottom: 4px" target="_blank"><span class="glyphicon glyphicon-new-window"></span> <span ng-bind="trial.nct_id"></span></a></span></td></tr><tr><td class="name">Evidence Rating:</td><td class="value"><span uib-rating ng-model="ctrl.item.rating" max="5" read-only="true" uib-tooltip="{{tipText.rating[ctrl.item.rating]}}" tooltip-placement="left" class="help-tooltip"></span></td></tr><tr ng-if=""><td colspan="2">Evidence Rating:</td></tr></table></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/directives/footerMenu.tpl.html",'<div class="footerMenu"><div class="pull-right"><div class="footer-menu"><ul><li ng-repeat="item in menuItems" ui-sref-active="active"><div ng-if="item.url"><a href="https://griffithlab.github.io/civic-api-docs/">{{item.label}}</a></div><div ng-if="item.state"><a ui-sref="{{ item.state}}">{{ item.label }}</a></div></li></ul></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/directives/headerSearch.tpl.html",'<div class="headerSearch" ng-show="$root.view.navMode == \'home\'"><quick-search class="col-xs-5 col-md-12"></quick-search><div class="col-xs-7 col-md-12"><div class="row button-row"><div ng-class="{\'col-xs-3\': vm.isAuthenticated(), \'col-xs-4\': !vm.isAuthenticated()}"><a type="button" class="btn btn-sm btn-default btn-block btn-subhead-default" ng-disabled="$state.includes(\'browse\')" ui-sref="browse.variants">Browse</a></div><div ng-class="{\'col-xs-3\': vm.isAuthenticated(), \'col-xs-4\': !vm.isAuthenticated()}"><a type="button" class="btn btn-default btn-sm btn-block btn-subhead-default" ng-disabled="$state.includes(\'search\')" ui-sref="search.evidence">Search</a></div><div ng-class="{\'col-xs-3\': vm.isAuthenticated(), \'col-xs-4\': !vm.isAuthenticated()}"><a type="button" class="btn btn-default btn-sm btn-block btn-subhead-default" ng-disabled="$state.includes(\'activity\')" ui-sref="activity">Activity</a></div><div ng-if="vm.isAuthenticated()" ng-class="{\'col-xs-3\': vm.isAuthenticated(), \'col-xs-4\': !vm.isAuthenticated()}"><span uib-dropdown><a href type="button" class="btn btn-default btn-sm btn-block btn-subhead-default" id="add-dropdown" uib-dropdown-toggle>Add&nbsp;&nbsp;<span class="caret"></span></a><ul class="dropdown-menu" role="menu" uib-dropdown-menu aria-labelledby="add-dropdown"><li role="menuitem"><a ui-sref="add.evidence.basic">Evidence Item</a></li><li role="menuitem"><a ui-sref="add.assertion">Assertion</a></li><li role="menuitem"><a ui-sref="suggest.source">Source Suggestion</a></li><li role="menuitem"><a ui-sref="add.variantGroup">Variant Group</a></li></ul></span></div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/directives/loginButton.tpl.html",'<div class="loginButton"><div ng-show="isAuthenticated()" class="user-controls"><div class="btn-group" uib-dropdown><button type="button" class="btn btn-xs btn-info" ui-sref="users.profile({userId: currentUser.id})"><span class="avatar" ng-if="showCoiNotice" style="background-color: transparent"><i class="glyphicon glyphicon-exclamation-sign" style="color: #F00"></i> </span><span class="avatar" ng-if="!showCoiNotice" style="background-color: transparent"><img ng-src="{{currentUser.avatars.x14}}" width="14" height="14"> </span><span class="username">{{currentUser.display_name}}</span></button> <button type="button" class="btn btn-xs btn-info dropdown-toggle" uib-dropdown-toggle><span ng-bind="totalNotifications" class="badge small" ng-if="hasNotifications"></span> <span class="caret"></span></button><ul class="dropdown-menu-right" uib-dropdown-menu role="menu"><li ng-if="hasNotifications" class="dropdown-header">Notifications<br></li><li ng-if="count > 0" ng-repeat="(label, count) in currentUser.unread_notifications"><a ui-sref="account.notifications({category: \'{{label}}\', page: 1, count: 10, show_read: false, show_unlinkable: false})"><span ng-bind="label | keyToLabel">type</span> <span ng-bind="count" class="badge">count</span></a></li><li class="dropdown-header">Curator Tools</li><li><a ui-sref="curation.sources"><span>Source Suggestions</span> <span ng-bind="currentUser.curation_counts.new_source_suggestions" class="badge">count</span></a></li><li><a ui-sref="curation.flags"><span>Open Flags</span> <span ng-bind="currentUser.curation_counts.open_flags" class="badge">count</span></a></li><li ng-if="isAdmin()" class="dropdown-header">Administrator Tools</li><li ng-if="isAdmin()"><a ng-href="{{adminUrl}}" target="_blank">Admin Console</a> <a ng-href="{{queuesUrl}}" target="_blank">Background Workers</a></li><li class="dropdown-header">Account</li><li><a ui-sref="account.notifications({category: \'all\', page: 1, count: 10, show_read: false, show_unlinkable: false})">My Account</a></li><li><a ng-click="logout(currentUrl)">Sign Out</a></li><li class="coi-button" ng-if="showCoiNotice"><a ui-sref="account.profile" class="btn btn-xs btn-block btn-danger"><i class="glyphicon glyphicon-hand-up"></i>&nbsp; Please Update COI Statement</a></li></ul></div></div><div ng-hide="isAuthenticated()" class="viewer-controls"><button class="btn btn-xs btn-login" ng-click="showLogin()">Sign In/Sign Up</button></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/directives/loginToolbar.tpl.html",'<div class="loginToolbar"><div class="login-toolbar-lg hidden-xs hidden-sm"><login-button user="currentUser" admin-url="adminUrl"></login-button></div><div class="login-toolbar-sm hidden-md hidden-lg"><login-button user="currentUser" admin-url="adminUrl"></login-button></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/directives/mainMenu.tpl.html",'<div class="mainMenu">\x3c!-- for larger displays --\x3e<div class="main-menu-lg hidden-xs hidden-sm"><ul><li ng-repeat="item in menuItems" ui-sref-active="active"><a ui-sref="{{ item.state}}">{{ item.label }}</a></li><li><login-toolbar></login-toolbar></li></ul></div>\x3c!-- for smaller displays --\x3e<div class="main-menu-sm hidden-md hidden-lg"><ul class="main-menu-sm hidden-md hidden-lg"><li ng-repeat="item in menuItems" ui-sref-active="active"><a ui-sref="{{ item.state}}">{{ item.label }}</a></li><li style="position: relative"><login-toolbar></login-toolbar></li></ul></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){
e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/directives/mentionItem.tpl.html",'<div class="mentionItem" ng-click="vm.eventClick(mention.event)" ng-class="{ hover: mouseover, dark: theme === \'dark\', light: theme === \'light\', unseen: vm.seen === false }" ng-mouseover="mouseover=true" ng-mouseleave="mouseover=false"><div class="user-time"><user-block user="mention.originating_user"></user-block>&nbsp;mentioned you <span ng-bind="mention.created_at|timeAgo">time ago</span><br></div><div class="entity">\x3c!-- preposition, if necessary --\x3e in a comment on <span ng-switch="mention.event.subject_type"><span ng-switch-when="genes"><span class="subject-type">gene</span> </span><span ng-switch-when="variants"><span class="subject-type">variant</span> </span><span ng-switch-when="variantgroups"><span class="subject-type">variant group</span> </span><span ng-switch-when="evidenceitems"><span class="subject-type">evidence item</span> </span><span ng-switch-when="suggestedchanges"><span class="subject-type">a suggested revision to</span> </span></span><strong><span ng-bind="vm.entityName">GENE / VARIANT / EVIDENCE</span></strong></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/directives/organizationBlock.tpl.html",'<span class="organizationBlock"><button type="button" class="btn btn-xs btn-organization" ng-class="{\'highlight\': highlight == true}" ui-sref="organizations.summary({organizationId: organization.id})"><span class="avatar"><img ng-src="{{organization.profile_image.x14}}" width="14" height="14"> </span><span class="organization-name">{{organization.name}}</span></button></span>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/directives/organizationCard.tpl.html",'<div class="organizationCard" ng-class="vm.organization.role"><div class="row"><div class="col-xs-12"><div class="organization-avatar" ng-click="vm.organizationClick(vm.organization.id)"><div class="avatar-bg"><img ng-src="{{vm.organization.profile_image.x128}}" class="img-responsive"></div></div></div></div><div class="row"><div class="col-xs-12 organization-link"><a ui-sref="organizations.summary({organizationId: vm.organization.id})"><span ng-bind="vm.organization.name" class="card-name"></span></a> <span ng-if="vm.organization.parent.id !== undefined">at <a ui-sref="organizations.summary({organizationId: vm.organization.parent.id})"><span ng-bind="vm.organization.parent.name" class="card-name"></span></a></span></div></div><div class="row" ng-if="vm.organization.community_params !== undefined"><div class="col-xs-3"><div class="secondary-organization-attributes attr-left"><ul><li class="attr-key">Actions</li><li class="attr-value"><span ng-bind="vm.organization.community_params.action_count | number:0 | ifEmpty: \'--\'"></span></li></ul></div></div><div class="col-xs-5" ng-if="vm.organization.community_params.most_recent_action_timestamp !== null"><div class="secondary-organization-attributes attr-right"><ul><li class="attr-key">Last Action</li><li class="attr-value"><span ng-bind="vm.organization.community_params.most_recent_action_timestamp | timeAgo"></span></li></ul></div></div><div class="col-xs-4" ng-if="vm.organization.community_params.member_count != null"><div class="secondary-organization-attributes attr-right"><ul><li class="attr-key">Members</li><li class="attr-value"><span ng-bind="vm.organization.community_params.member_count"></span></li></ul></div></div></div><div class="row"><div class="col-xs-12"><div class="website-link"><a ng-href="{{vm.organization.url}}" target="_blank"><span class="glyphicon glyphicon-new-window"></span> <span>Organization Website</span></a></div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/directives/organizationCardGrid.tpl.html",'<div class="organizationCardGrid"><div class="row users-form"><form novalidate class="form-horizontal"><formly-form model="vm.model" fields="vm.formFields" options="vm.formOptions"></formly-form></form></div><div class="row auto-clear users-rows"><organization-card organization="organization" class="col-xs-6 col-sm-4 col-lg-3" ng-repeat="organization in vm.organizations"></organization-card></div><div class="row" ng-if="vm.users.length < 1"><div class="col-xs-12"><div class="panel panel-default text-center" style="padding-top: 75px;min-height: 250px"><h3>No users found that match search criteria.</h3></div></div></div><div class="row"><div class="col-xs-12 text-center users-pagination"><ul uib-pagination class="pagination-sm" ng-change="vm.pageChanged()" ng-model="vm.page" items-per-page="vm.count" max-size="15" boundary-links="true" rotate="false" align="true" total-items="vm.totalItems" direction-links="true"></ul><p class="page-info small">{{ vm.totalItems }} {{ vm.isFiltered ? "filtered" : "total" }} {{ vm.browseMode }} &nbsp;&nbsp;&nbsp;&nbsp; Page {{ vm.page }} of {{ vm.totalPages }}</p></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/directives/quickSearch.tpl.html",'<div class="quickSearch"><form class="form-horizontal"><div class="input-group"><input type="text" class="form-control input-sm" ng-model="asyncSelected.model" placeholder="Go to Genes &amp; Variants" uib-typeahead="gene as gene.label for gene in getVariants($viewValue)" typeahead-editable="false" typeahead-loading="loadingGenes" typeahead-on-select="onSelect($item, $model, $label)" typeahead-append-to-body="true"> <span class="input-group-btn"><button class="btn btn-default btn-sm" type="button" ng-click="onGo(this)">Go!</button></span></div></form></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/directives/searchHighlighting.tpl.html",'<span class="ui-grid-cell-contents" ng-bind-html="content | highlightSearch:query.filters[0].term"></span>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/directives/simpleTabs.tpl.html",'<div class="simpleTabs"><ul class="nav nav-tabs"><li ui-sref-active="active" ng-repeat="tab in tabs"><a ui-sref="{{tab.state}}">{{tab.heading}}</a></li></ul><div class="tabContent"><div ui-view></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/directives/statsBlock.tpl.html",'<div class="statsBlock {{ vm.cols}}"><div class="info"><table class="table table-condensed"><colgroup><col width="70%"><col width="30%"></colgroup><tr class="title"><td colspan="2" ng-bind="vm.title">TITLE</td></tr><tr class="new"><td class="key">This Week:</td><td class="value" ng-bind="vm.stats.new_this_week">8</td></tr><tr class="new"><td class="key">This Month:</td><td class="value" ng-bind="vm.stats.new_this_month">88</td></tr><tr class="new"><td class="key">This Year:</td><td class="value" ng-bind="vm.stats.new_this_year">888</td></tr><tr class="total"><td class="key">Total:</td><td class="value" ng-bind="vm.stats.total">total</td></tr></table></div>\x3c!--<pre ng-bind="vm.stats|json"></pre>--\x3e</div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/directives/subheader.tpl.html",'<div class="subheader" ng-hide="$root.view.navMode == \'home\'"><div class="container-fluid"><div class="subheader-bg"><div class="row"><div class="col-xs-4 subhead-input"><quick-search></quick-search></div><div class="col-xs-2 subhead-btn"><a type="button" class="btn btn-sm btn-default btn-block btn-subhead-default" ng-disabled="$state.includes(\'browse\')" ui-sref="browse.variants">Browse</a></div><div class="col-xs-2 subhead-btn"><a type="button" class="btn btn-default btn-sm btn-block btn-subhead-default" ng-disabled="$state.includes(\'search\')" ui-sref="search.evidence">Search</a></div><div class="col-xs-2 subhead-btn"><a type="button" class="btn btn-default btn-sm btn-block btn-subhead-default" ng-disabled="$state.includes(\'activity\')" ui-sref="activity">Activity</a></div><div class="col-xs-2 subhead-btn"><div ng-switch="isAuthenticated()"><div ng-switch-when="false"><span uib-tooltip="Please sign in to add Evidence Item, Assertions, or Source Suggestions" tooltip-append-to-body="true"><a type="button" class="btn btn-sm btn-subhead-add btn-block disabled">Add</a></span></div><div ng-switch-when="true"><span uib-tooltip="Add an Evidence Item, Assertion, or Source Suggestion " tooltip-append-to-body="true"><span uib-dropdown><a href type="button" class="btn btn-sm btn-subhead-add btn-block" id="add-dropdown" uib-dropdown-toggle>Add&nbsp;&nbsp;<span class="caret"></span></a><ul class="dropdown-menu" role="menu" uib-dropdown-menu aria-labelledby="add-dropdown"><li role="menuitem"><a ng-href="{{ addEvidenceUrl }}" ng-disabled="$state.includes(\'add.evidence\')">Evidence Item</a></li><li role="menuitem"><a ng-href="{{ addAssertionUrl }}" ng-disabled="$state.includes(\'add.assertion\')">Assertion</a></li><li role="menuitem"><a ui-sref="suggest.source" ng-disabled="$state.includes(\'suggest.source\')">Source Suggestion</a></li><li role="menuitem"><a ng-href="{{ addVariantGroupUrl }}" ng-disabled="$state.includes(\'add.variantGroup\')">Variant Group</a></li></ul></span></span></div></div></div></div>\x3c!-- /.row --\x3e</div>\x3c!-- /.subheader-bg --\x3e</div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/directives/typeaheadWrapper.tpl.html","")}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/directives/userBlock.tpl.html",'<span class="userBlock"><button type="button" class="btn btn-xs btn-user" ui-sref="users.profile({userId: user.id})"><div ng-switch="user.username === \'Admin\'"><div ng-switch-when="false"><span class="avatar"><img ng-src="{{user.avatars.x14}}" width="14" height="14"> </span><span class="username">{{user.display_name}}</span></div><div ng-switch-when="true"><span class="username" style="margin-left: 5px">Admin</span></div></div></button></span>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/directives/userCard.tpl.html",'<div class="userCard" ng-class="vm.user.role"><div class="row"><div class="col-xs-6"><div class="user-avatar" ng-click="vm.userClick(vm.user.id)"><div class="avatar-bg" ng-class="vm.user.role"><img ng-src="{{vm.user.avatars.x128}}" class="img-responsive"></div><span ng-bind="vm.user.username" class="card-name" ng-class="vm.user.role"></span></div></div><div class="col-xs-6"><div class="user-attributes"><ul><li class="attr-key">Name</li><li class="attr-value"><span ng-bind="vm.user.name"></span></li><li class="attr-key">Role</li><li class="attr-value"><span ng-bind="vm.user.role | capitalize"></span></li><li class="attr-key">Expertise</li><li class="attr-value"><span ng-bind="vm.user.area_of_expertise | ifEmpty: \'--\'"></span></li></ul></div></div></div><div class="row"><div class="col-xs-12"><div class="secondary-user-attributes"><ul><li class="attr-key"><span ng-if="vm.user.organizations.length > 1">Most Recent </span>Organization <i class="glyphicon glyphicon-info-sign" ng-if="vm.user.organizations.length > 1" uib-tooltip="{{vm.multiple_orgs_tooltip}}"></i></li><li class="attr-value"><span ng-switch="vm.user.organizations.length > 0"><span ng-switch-when="true"><span uib-tooltip="at {{vm.user.most_recent_organization.parent.name}}" tooltip-append-to-body="true" tooltip-enable="vm.user.most_recent_organization.parent.name != undefined"><organization-block organization="vm.user.most_recent_organization"></organization-block></span></span><span ng-switch-when="false"><i class="text-muted">No organization specified.</i></span></span></li><li class="attr-key">ORCID iD</li><li class="attr-value"><span ng-switch="vm.user.orcid.length > 0"><span ng-switch-when="true"><a ng-href="https://orcid.org/{{vm.user.orcid}}" target="_blank">{{ vm.user.orcid }}</a> </span><span ng-switch-default>--</span></span></li></ul></div></div></div><div class="row" ng-if="vm.user.community_params != undefined"><div class="col-xs-4"><div class="secondary-user-attributes attr-left"><ul><li class="attr-key">Actions</li><li class="attr-value"><span ng-bind="vm.user.community_params.action_count | ifEmpty: \'--\'"></span></li></ul></div></div><div class="col-xs-8" ng-if="vm.user.community_params.most_recent_action_timestamp !== null"><div class="secondary-user-attributes attr-right"><ul><li class="attr-key">Last Action</li><li class="attr-value"><span ng-bind="vm.user.community_params.most_recent_action_timestamp | timeAgo"></span></li></ul></div></div><div class="col-xs-8" ng-if="vm.user.community_params.most_recent_action_timestamp === null"><div class="secondary-user-attributes attr-right"><ul><li class="attr-key">Join Date</li><li class="attr-value"><span ng-bind="vm.user.created_at | timeAgo"></span></li></ul></div></div></div><div class="row"><div class="col-xs-12"><div class="social-media-buttons"><div class="social-icons"><div ng-if="vm.hasSocialProfile" class="social-icons"><span ng-show="vm.user.url.length > 0"><a ng-href="https://{{vm.user.url}}" target="_blank" uib-tooltip="Personal Website"><img src="assets/images/social_icons/link-ico.png" width="24" height="24"></a></span><span ng-show="vm.user.twitter_handle.length > 0"><a ng-href="https://twitter.com/{{vm.user.twitter_handle}}" target="_blank" uib-tooltip="Twitter Account"><img src="assets/images/social_icons/twitter-ico.png" width="24" height="24"> </a></span><span ng-show="vm.user.linkedin_profile.length > 0"><a ng-href="https://linkedin.com/in/{{vm.user.linkedin_profile}}" target="_blank" uib-tooltip="LinkedIn Account"><img src="assets/images/social_icons/linkedin-ico.png" width="24" height="24"> </a></span><span ng-show="vm.user.facebook_profile.length > 0"><a ng-href="https://facebook.com/{{vm.user.facebook_profile}}" target="_blank" uib-tooltip="Facebook Account"><img src="assets/images/social_icons/facebook-ico.png" width="24" height="24"></a></span></div></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/directives/userCardGrid.tpl.html",'<div class="userCardGrid"><div class="row users-form"><form novalidate class="form-horizontal"><formly-form model="vm.model" fields="vm.formFields" options="vm.formOptions"></formly-form></form></div><div class="row auto-clear users-rows"><user-card user="user" class="col-xs-6 col-sm-4 col-lg-3" ng-repeat="user in vm.users"></user-card></div><div class="row" ng-if="vm.users.length < 1"><div class="col-xs-12"><div class="panel panel-default text-center" style="padding-top: 75px;min-height: 250px"><h3>No users found that match search criteria.</h3></div></div></div><div class="row"><div class="col-xs-12 text-center users-pagination"><ul uib-pagination class="pagination-sm" ng-change="vm.pageChanged()" ng-model="vm.page" items-per-page="vm.count" max-size="15" boundary-links="true" rotate="false" align="true" total-items="vm.totalItems" direction-links="true"></ul><p class="page-info small">{{ vm.totalItems }} {{ vm.isFiltered ? "filtered" : "total" }} {{ vm.browseMode }} &nbsp;&nbsp;&nbsp;&nbsp; Page {{ vm.page }} of {{ vm.totalPages }}</p></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/directives/userImage.tpl.html",'<div class="userImage"><span ng-switch="ctrl.hasAvatar"><span ng-switch-when="true"><img ng-src="{{ctrl.user.avatar_url}}" width="{{ ctrl.width }}" height="{{ ctrl.height }}"> </span><span ng-switch-default><img ng-src="assets/images/default-user-img.jpg" width="{{ ctrl.width }}" height="{{ ctrl.height }}"></span></span></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/pages/authTest.tpl.html","<h1>Requires Auth</h1><p>{{ loadedMsg }}</p>")}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/pages/contact.tpl.html",'<div class="contactPage"><div class="title-row"><div class="row"><div class="col-xs-12"><div class="name"><h3>Contact</h3></div></div></div></div><div class="row"><div class="col-xs-12 col-xs-offset-0 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2"><div class="row" style="padding-top: 16px"><div class="col-xs-6"><dl><dt>Nicholas Spies - Lead Curator</dt><dd><a href="https://www.linkedin.com/pub/nicholas-spies/49/699/75a">LinkedIn profile</a></dd><br><dt>Kilannin Krysiak, PhD - Lead Curator</dt><dd><a href="https://griffithlab.org/team/#Postdoctoral_Researchers">Griffith Lab profile</a></dd><br><dt>Arpad Danos, PhD - Lead Curator</dt><dd><a href="https://griffithlab.org/team/#Postdoctoral_Researchers">Griffith Lab profile</a></dd><br><dt>Adam Coffman - Lead Web/Software (Back End) Developer</dt><dd><a href="https://github.com/acoffman">GitHub Profile</a></dd><br><dt>Susanna Kiwala - Lead Web/Software (Back End) Developer</dt><dd><a href="https://github.com/susannasiebert">GitHub Profile</a></dd><br><dt>Josh McMichael - Lead User Experience (Front End) Developer</dt><dd><a href="https://github.com/jmcmichael">GitHub Profile</a></dd><br><dt>Other WashU team members</dt><dd>Benjamin Ainscough, Erica Barnell, Katie Campbell, Kaitlin Clark, Lynzey Kujan, Cody Ramirez, Zachary Skidmore, Alex Wagner. For a complete list of curators, refer to the <a ui-sref="community.main">Community Page</a>.</dd><br><dt>Other developers</dt><dd><a href="https://github.com/JonChristensen">Jon Christensen</a>, <a href="https://github.com/gkarthik">Karthik Gangavarapu</a></dd></dl></div><div class="col-xs-6"><dl><dt>Elaine Mardis, PhD - PI/Mentor, Funding</dt><dd><a href="https://cancer.osu.edu/research-and-education/find-a-researcher/search-researcher-directory/elaine-r-mardis">OSU James profile</a></dd><br><dt>Malachi Griffith, PhD - PI/Mentor, Funding</dt><dd><a href="https://www.genome.wustl.edu/people/malachi-griffith/">Genome Institute profile</a></dd><br><dt>Obi Griffith, PhD - PI/Mentor, Funding</dt><dd><a href="https://www.genome.wustl.edu/people/obi-griffith/">Genome Institute profile</a></dd><br><br><dt>News and updates:</dt><dd>Please follow our twitter account <a href="https://twitter.com/CIViCdb">@CIVICdb</a></dd><br><dt>General inquiries:</dt><dd>Please email <a href="mailto:help@civicdb.org">help@civicdb.org</a></dd><br><dt>Bug reports and feature requests:</dt><dd>Please create an issue in the <a href="https://github.com/genome/civic-server/issues">civic-server</a> or <a href="https://github.com/genome/civic-client/issues">civic-client</a> github repos as appropriate.</dd><br></dl></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/pages/downloadCellTemplate.tpl.html",'<div class="ui-grid-cell-contents"><span ng-switch="row.entity[col.field] !== null"><span ng-switch-when="true"><a class="btn btn-xs btn-default" ng-href="{{row.entity[col.field]}}" target="_self"><span class="glyphicon glyphicon-download-alt"></span> <span ng-switch="row.entity[col.field].includes(\'Summaries\')"><span ng-switch-when="true">Records TSV </span><span ng-switch-when="false">Records VCF </span></span></a></span><span ng-switch-when="false">--</span></span></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/pages/home.tpl.html",'<div class="home-view"><div class="row"><div class="col-xs-12 col-sm-6 discover"><div class="row"><div class="col-sm-12 col-md-6 icon"><a ui-sref="browse.variants"><img src="assets/images/icon_discover.svg" alt="Discover" class="img-responsive"></a></div><div class="col-sm-12 col-md-6 blurb"><p>Discover supported clinical interpretations of mutations related to cancer.</p></div></div></div><div class="col-xs-12 col-sm-6 collaborate"><div class="row"><div class="col-sm-12 col-md-6 icon"><a ui-sref="participate"><img src="assets/images/icon_collaborate.svg" alt="Discover" class="img-responsive" width="90%"></a></div><div class="col-sm-12 col-md-6 blurb"><p>Participate with colleagues to add variants and support for cancer-related mutations.</p></div></div></div></div><div class="row" style="margin-top: 16px"><div class="col-xs-12 intro-block"><div class="row"><div class="col-xs-6"><div class="intro"><h4>The Precision Medicine Revolution</h4><p>Precision medicine refers to the use of prevention and treatment strategies that are tailored to the unique features of each individual and their disease. In the context of cancer this might involve the identification of specific mutations shown to predict response to a targeted therapy. The biomedical literature describing these associations is large and growing rapidly. Currently these interpretations exist largely in private or encumbered databases resulting in extensive repetition of effort.</p></div></div><div class="col-xs-6"><div class="intro"><h4>CIViC\'s Role in Precision Medicine</h4><p>Realizing precision medicine will require this information to be centralized, debated and interpreted for application in the clinic. <strong>CIViC is an open access, open source, community-driven web resource for Clinical Interpretation of Variants in Cancer.</strong> Our goal is to enable precision medicine by providing an educational forum for dissemination of knowledge and active discussion of the clinical significance of cancer genome alterations. For more details refer to the 2017 <a href="http://www.nature.com/ng/journal/v49/n2/full/ng.3774.html">CIViC publication</a> in Nature Genetics.</p></div></div></div></div></div><div class="row" style="margin-top: 16px"><a href="https://docs.civicdb.org/en/latest/curating/editor.html"><img src="assets/images/become-an-editor_banner.png" class="img-responsive" width="1080" height="94"></a></div><div class="row"><div class="col-xs-12 section-header"><h4>Announcements</h4></div></div><div class="row"><div class="col-xs-12 col-md-6"><div class="announcement"><div class="announcement-body" style="margin-bottom: 1em"><p class="date">February 12th, 2021</p><p><span style="color:#faa51b">Pediatric Cancer Variants:</span> Through support from the Childhood Cancer Data Initiative (CCDI), we have executed our initial phase of highlighting pediatric cancer variant content. This <a href="https://civicdb.org/search/evidence/9dfdc53d-4022-43b1-8f3a-6b6bf81caff6" target="_blank" uib-tooltip="Pediatric Cancer Variants Advanced Search">advanced search query</a> displays childhood relevant data contained in CIViC. Stay tuned for more pediatric-focused features as we launch the first open-access searchable childhood-cancer-specific dataset.</p></div></div></div><div class="col-xs-12 col-md-6"><div class="announcement"><div class="announcement-body" style="margin-bottom: 1em"><p class="date">June 29th, 2020</p><div class="row"><div class="col-xs-6"><a href="https://pecan.stjude.cloud/proteinpaint/kras/hg19/civic" target="_blank"><img src="assets/images/partners/protein-paint-integration.png" class="img-responsive" width="500" height="350" style="margin-right: 10px; float: left"></a></div><div class="col-xs-6"><p><span style="color:#faa51b">Explore CIViC Variants in ProteinPaint:</span> St. Jude\'s <a href="https://pecan.stjude.cloud/proteinpaint/" uib-tooltip="ProteinPaint Information" target="_blank">ProteinPaint</a> now incorporates a CIViC variant track, <a href="https://pecan.stjude.cloud/proteinpaint/kras/hg19/civic" uib-tooltip="KRAS ProteinPaint View" target="_blank">displaying CIViC curated data</a> along with a variety of additional sources, and providing one-click access to CIViC\'s variant summaries. We\'ve also added ProteinPaint links to <a href="https://civicdb.org/links/gene/30" target="_blank" uib-tooltip="KRAS CIViC View">our</a> <a href="https://civicdb.org/links/gene/5" target="_blank" uib-tooltip="BRAF CIViC View">gene</a> <a href="https://civicdb.org/links/gene/4" target="_blank" uib-tooltip="ABL1 CIViC View">summaries</a>.</p></div></div></div></div></div></div><div class="row"><div class="col-xs-12 col-sm-6 stats-block"><div class="row"><div class="col-xs-12"><h4>Database and Community Statistics</h4></div></div><div class="row"><stats-block stats="vm.stats.genes" title="Genes" icon-url="" cols="col-xs-4"></stats-block><stats-block stats="vm.stats.variants" title="Variants" icon-url="" cols="col-xs-4"></stats-block><stats-block stats="vm.stats.evidence_items" title="Evidence Items" icon-url="" cols="col-xs-4"></stats-block></div><div class="row" style="margin-top: 16px"><stats-block stats="vm.stats.assertions" title="Assertions" icon-url="" cols="col-xs-4"></stats-block><stats-block stats="vm.stats.drugs" title="Drugs" icon-url="" cols="col-xs-4"></stats-block><stats-block stats="vm.stats.diseases" title="Diseases" icon-url="" cols="col-xs-4"></stats-block></div><div class="row" style="margin-top: 16px"><stats-block stats="vm.stats.sources" title="Publications" icon-url="" cols="col-xs-4"></stats-block><stats-block stats="vm.stats.suggested_changes" title="Revisions" icon-url="" cols="col-xs-4"></stats-block><stats-block stats="vm.stats.users" title="Contributors" icon-url="" cols="col-xs-4"></stats-block></div><div class="row" style="margin-top: 16px"><stats-block stats="vm.stats.comments" title="Comments" icon-url="" cols="col-xs-4"></stats-block></div></div><div class="col-xs-12 col-sm-6 stats-block"><div class="row"><div class="col-xs-12"><h4>CIViC Activity</h4></div></div><div class="row"><div class="col-xs-12"><ul class="events"><li ng-repeat="event in vm.events | limitTo:6"><event-item event="event" theme="\'dark\'">EVENT</event-item></li><li><a class="btn btn-default btn-xs btn-block" ui-sref="activity">View All Activity&nbsp;<i class="glyphicon glyphicon-arrow-right"></i></a></li></ul></div></div></div></div><div class="row" style="margin-top: 32px"><div class="col-xs-12 disclaimer-block"><div class="disclaimer small"><p><strong>Medical Disclaimer: This resource is intended for purely research purposes. It should not be used for emergencies or medical or professional advice.</strong></p><p>CIViC is a community-edited forum for discussion and interpretation of peer-reviewed publications pertaining to the clinical relevance of variants (or biomarker alterations) in cancer. These interpretations may include associations between molecular alterations (or lack of alteration) and one or more drugs, diagnoses, prognoses or other treatment decisions. These interpretations of clinical significance (or lack of clinical significance) are purely for research purposes. A finding of no interpretation does not necessarily indicate lack of relevance for any specific variant or biomarker alteration. Interpretations are not presented in ranked order of potential or predicted importance.These interpretations make no promise or guarantee of any clinical benefit (or lack of clinical benefit).</p><p>The civicdb.org (civic.genome.wustl.edu) website does not provide any medical or healthcare products, services or advice, and is not for medical emergencies or urgent situations. <strong>IF YOU THINK YOU MAY HAVE A MEDICAL EMERGENCY, CALL YOUR DOCTOR OR 911 IMMEDIATELY</strong>. Information contained on this website is not a substitute for a doctor\'s medical judgment or advice. We recommend that you discuss your specific, individual health concerns with your doctor or health care professional.</p></div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/pages/releases.tpl.html",'<div class="releasesPage"><div class="title-row"><div class="row"><div class="col-xs-12"><div class="name"><h3>Data Releases</h3></div></div></div></div><div class="row"><div class="col-xs-12"><p>The CIViC server produces nightly and monthly releases that include a subset of all primary entity records (Genes, Variants, Evidence, Variant Groups, and Assertions). Both TSV and VCF versions are provided below - just locate the specific entity type and data format you wish to obtain, then click on the relevant button to download.</p><p>These records do not contain user profile data, discussion and commentary, data provenance and revision history, or information dynamically obtained from resources external to CIViC (e.g. MyVariant.Info, MyGene.Info). Variant TSV releases only include variant records with accepted evidence records. Variant TSV releases from before August 2020 include all variant records, irregardless of the status of the associated evidence items. Evidence TSV releases only include accepted evidence items and exclude pending or rejected evidence items. Assertion TSV releases only include accepted assertions. Accepted VCF releases include only variants with accepted evidence items and/or accepted assertions. Accepted & Submitted VCF releases include Variants with accepted and/or submitted evidence items and/or assertions.</p><p>In order to comply with the VCF specification, the VCFs can only include variants with complete coordinates. By contrast, the TSV variants file may contain variants with coordinates that have not been fully curated in CIViC. Additional variants are of types that can not be properly represented in VCF format. Thus, the number of variants will be lower in the VCFs compared to the number of variants in the TSV.</p><p>As with all curated evidence and interpretations of CIViC, the contents of these files are made freely available, without restriction under the CC0 license (<a href="https://creativecommons.org/publicdomain/zero/1.0/">Creative Commons Public Domain Dedication, CC0 1.0 Universal</a>).</p><p>If you use CIViC content, please consider citing the <a href="http://www.nature.com/ng/journal/v49/n2/full/ng.3774.html">CIViC publication</a>.</p><div class="well small" style="margin-bottom: 0"><p style="margin-bottom: 0"><strong>PLEASE NOTE:</strong> TSV and VCF releases of CIViC data are provided at regular intervals for the convenience of those who require the use of a static file. For most users, we recomend utilizing our API which is documented <a href="https://griffithlab.github.io/civic-api-docs/">here</a>. Using the API will provide you with the richest metadata about CIViC entries as well as the most current versions of all evidence statements. In fact, the entire CIViC web frontend runs off the exact same API that is available for public use.</p></div></div></div><div class="row"><div class="col-xs-12"><h4>CIViC TSV Releases</h4><div class="gridContainer"><div ui-grid="vm.summariesReleaseGridOptions" ui-grid-pagination ui-grid-auto-resize></div></div><h4>CIViC VCF Releases</h4><div class="gridContainer"><div ui-grid="vm.variantsReleaseGridOptions" ui-grid-pagination ui-grid-auto-resize></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}
e.run(["$templateCache",function(e){e.put("components/security/login/LoginForm.tpl.html",'<form name="form" novalidate class="loginForm"><div class="modal-header"><h4>Sign in</h4></div><div class="modal-body"><div class="alert alert-info">Sign in by choosing one of the methods below:</div><ul class="providers"><li class="google"><a href="api/auth/google_oauth2?origin={{ location | encodeUri }}" target="_self"><div class="btn-label">Sign in with Google</div></a></li><li class="orcid"><a href="api/auth/orcid?origin={{ location | encodeUri }}" target="_self"><div class="btn-label">Sign in with OrcID</div></a></li><li class="github"><a href="api/auth/github?origin={{ location | encodeUri }}" target="_self"><div class="btn-label">Sign in with Github</div></a></li></ul></div><div class="modal-footer">\x3c!--<button class="btn btn-primary login" ng-click="login()" ng-disabled=\'form.$invalid\'>Sign in</button>--\x3e\x3c!--<button class="btn clear" ng-click="clearForm()">Clear</button>--\x3e <button class="btn btn-warning cancel" ng-click="cancelLogin()">Cancel</button></div></form>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/forms/fieldWrappers/mentioCommentMenus.tpl.html",'<div><formly-transclude></formly-transclude>\x3c!-- menu directive for entity suggestions --\x3e<mentio-menu mentio-for="\'commentForm\'" mentio-trigger-char="\'#\'" mentio-items="entities" mentio-template-url="/entity-mentions.tpl" mentio-search="searchEntities(term)" mentio-select="getEntity(item)" mentio-typed-term="typedTerm"></mentio-menu>\x3c!-- dropdown template for entity suggestions--\x3e<script type="text/ng-template" id="/entity-mentions.tpl"><ul class="list-group user-search">\n      <li mentio-menu-item="entity"\n          ng-repeat="entity in items | limitTo:8 track by $index"\n          class="list-group-item">\n        <span class="text-primary">\n          <span ng-bind="entity.display_type" class="text-muted">TYPE</span>\n          <span ng-bind-html="entity.preview | mentioHighlightEntity:typedTerm:\'menu-highlighted\' | unsafe">Preview</span>\n        </span>\n      </li>\n      <li class="list-group-item"><span class="small"><em>Search term: {{ typedTerm }}</em></span></li>\n    </ul><\/script>\x3c!-- ment.io menu directive for user mentions --\x3e<mentio-menu mentio-for="\'commentForm\'" mentio-trigger-char="\'@\'" mentio-items="users" mentio-template-url="/user-mentions.tpl" mentio-search="searchUsers(term)" mentio-select="getUser(item)" mentio-typed-term="typedTerm"></mentio-menu>\x3c!-- dropdown template for user suggestions--\x3e<script type="text/ng-template" id="/user-mentions.tpl"><ul class="list-group user-search">\n      <li mentio-menu-item="user"\n          ng-repeat="user in items track by $index"\n          class="list-group-item">\n        <img ng-src="{{user.avatars.x32}}" class="userImage">\n        &nbsp;\n        <span class="text-primary"\n              ng-bind-html="\'&commat;\' + user.display_name | mentioHighlight:typedTerm:\'menu-highlighted\' | unsafe">\n        </span>\n        &nbsp;&nbsp;\n        <em class="text-muted" ng-bind="user.area_of_expertise"></em>\n      </li>\n      <li class="list-group-item"><span class="small"><em>Search term: {{ typedTerm }}</em></span></li>\n    </ul><\/script></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/forms/fieldTypes/citationTypeahead.tpl.html",'<a tabindex="-1"><strong>ID:</strong> <span ng-bind-html="match.model.citation_id">CITATION ID</span>&nbsp; <strong>CITATION:</strong> <span ng-bind-html="match.model.citation | uibTypeaheadHighlight:query">DESCRIPTIOn</span></a>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/forms/fieldTypes/comment.tpl.html",'<textarea class="form-control" ng-model="model[options.key]"></textarea>\x3c!-- menu directive for entity suggestions --\x3e<mentio-menu mentio-for="\'commentForm\'" mentio-trigger-char="\'#\'" mentio-items="entities" mentio-template-url="/entity-mentions.tpl" mentio-search="searchEntities(term)" mentio-select="getEntity(item)" mentio-typed-term="typedTerm"></mentio-menu>\x3c!-- dropdown template for entity suggestions--\x3e<script type="text/ng-template" id="/entity-mentions.tpl"><ul class="list-group user-search">\n    <li mentio-menu-item="entity"\n      ng-repeat="entity in items | limitTo:8 track by $index"\n      class="list-group-item">\n      <span class="text-primary">\n        <span ng-bind="entity.display_type" class="text-muted">TYPE</span>\n        <span ng-bind-html="entity.preview | mentioHighlightEntity:typedTerm:\'menu-highlighted\' | unsafe">Preview</span>\n      </span>\n    </li>\n    <li class="list-group-item"><span class="small"><em>Search term: {{ typedTerm }}</em></span></li>\n  </ul><\/script>\x3c!-- ment.io menu directive for user mentions --\x3e<mentio-menu mentio-for="\'commentForm\'" mentio-trigger-char="\'@\'" mentio-items="users" mentio-template-url="/user-mentions.tpl" mentio-search="searchUsers(term)" mentio-select="getUser(item)" mentio-typed-term="typedTerm"></mentio-menu>\x3c!-- dropdown template for user suggestions--\x3e<script type="text/ng-template" id="/user-mentions.tpl"><ul class="list-group user-search">\n    <li mentio-menu-item="user"\n      ng-repeat="user in items track by $index"\n      class="list-group-item">\n      <img ng-src="{{user.avatars.x32}}" class="userImage">\n      &nbsp;\n      <span class="text-primary"\n        ng-bind-html="\'&commat;\' + user.display_name | mentioHighlight:typedTerm:\'menu-highlighted\' | unsafe">\n      </span>\n      &nbsp;&nbsp;\n      <em class="text-muted" ng-bind="user.area_of_expertise"></em>\n    </li>\n    <li class="list-group-item"><span class="small"><em>Search term: {{ typedTerm }}</em></span></li>\n  </ul><\/script>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/forms/fieldTypes/diseaseTypeahead.tpl.html",'<a tabindex="-1"><span ng-bind-html="match.label | uibTypeaheadHighlight:query">LABEL</span> <span style="color: #AAA">(DOID: {{match.model.doid}}) -- Aliases: </span><span ng-bind-html="match.model.alias_list | uibTypeaheadHighlight:query">ALIASES</span></a>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/forms/fieldTypes/drugTypeahead.tpl.html",'<a tabindex="-1"><span ng-bind-html="match.model.name | uibTypeaheadHighlight:query">NAME</span> <span style="color: #AAA">(NCIT ID: <span ng-bind-html="match.model.ncit_id | uibTypeaheadHighlight:query">NCIT ID</span> ) -- Aliases: </span><span ng-bind-html="match.model.alias_list | uibTypeaheadHighlight:query">ALIASES</span></a>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/forms/fieldTypes/evidenceSelectorField.tpl.html",'<div class="evidenceSelectorField"><div class="row"><div class="col-xs-12"><label for="{{::id}}" class="col-sm-2 control-label"><span ng-if="to.required" style="color:#999">*&nbsp;</span> {{to.label}}</label></div></div><div class="row"><div class="col-xs-12"><evidence-selector mode="\'browse\'" page="1" items="model.evidence_items"></evidence-selector></div></div><div class="row"><div class="col-sm-12"><div class="itemContainer"><div ng-if="model.evidence_items.length < 1" class="alert alert-info" style="margin: 0">&#8673; Use the data grid above to filter evidence items, then click the \'+\' button to add supporting evidence to this assertion.</div><ul class="evidenceSelectorItems" ng-if="model.evidence_items.length > 0"><li ng-repeat="item in model.evidence_items"><evidence-selector-item item="item" remove-fn="removeItem"></evidence-selector-item>\x3c!-- <a ng-click="ctrl.removeItem(item)">{{item.id}}</a> --\x3e</li></ul></div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/forms/fieldTypes/geneTypeahead.tpl.html",'<a tabindex="-1"><span ng-bind-html="match.label|uibTypeaheadHighlight:query">GENE NAME</span> <span ng-if="match.model.alias_list.length > 0"><span style="color: #AAA">&nbsp;--&nbsp;Aliases:&nbsp;</span> <span ng-bind-html="match.model.alias_list | uibTypeaheadHighlight:query">ALIAS LIST</span></span></a>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/forms/fieldTypes/hpoTypeahead.tpl.html",'<a tabindex="-1"><span ng-bind-html="match.label|uibTypeaheadHighlight:query">HPO Term</span> <span style="color: #AAA">&nbsp;--&nbsp;HPO ID:&nbsp;</span> <span ng-bind-html="match.model.id | uibTypeaheadHighlight:query">HPO ID</span></a>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/forms/fieldTypes/multiInput.tpl.html",'<div class="multiInput" style="margin-bottom:14px"><div class="clearfix"><div ng-repeat="item in model[options.key] track by $index" ng-init="itemOptions = copyItemOptions(); addFormIsOpen = false;"><div class="row" style="margin-bottom: 8px"><div class="col-md-8 col-lg-9"><formly-field class="no-padding" options="itemOptions" model="model[options.key]" form="form" index="$index"></formly-field></div><div class="col-xs-1" ng-if="to.showAddButton" style="margin-top:6px; text-align: right"><button type="button" class="btn btn-default btn-xs" uib-tooltip="Create New {{to.entityName}}" tooltip-placement="bottom" tooltip-append-to-body="true" uib-popover-template="\'{{to.addFormTemplate}}\'" popover-trigger="\'outsideClick\'" popover-is-open="addFormIsOpen" popover-title="Create New {{to.entityName}}" popover-append-to-body="false" ng-if="!model[options.key][$index]"><span class="glyphicon glyphicon-edit"></span></button></div><div class="col-md-3 col-lg-2" style="margin-top:6px; padding-left: 0px; text-align: right"><button type="button" class="btn btn-danger btn-xs" uib-tooltip="Remove {{to.entityName}} Row" tooltip-placement="bottom" tooltip-append-to-body="true" ng-click="deleteItem(model[options.key], $index)"><span class="glyphicon glyphicon-remove"></span></button> <button type="button" class="btn btn-success btn-xs" uib-tooltip="Add {{to.entityName}} Row" tooltip-placement="bottom" tooltip-append-to-body="true" ng-if="$index + 1 === model[options.key].length" ng-click="model[options.key].push(\'\')"><span class="glyphicon glyphicon-plus"></span></button></div></div></div></div><div class="row" ng-if="model[options.key].length === 0"><div class="col-xs-12"><button type="button" class="btn btn-success btn-sm btn-block" ng-click="model[options.key].push(\'\')">Add {{ to.entityName }}</button></div></div><div class="row" ng-if="hasDups()"><div class="col-xs-12"><span class="small" style="color: #999;font-style:oblique">NOTE: {{to.label}} contains duplicate values!</span></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/forms/fieldTypes/multiInputAddDrugForm.tpl.html","<add-drug-form></add-drug-form>")}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/forms/fieldTypes/rating.tpl.html",'<div class="formRating"><span uib-rating ng-model="model[options.key]" max="5" read-only="false" on-hover="hoveringOver(value)" on-leave="leave()" class="rating-block"></span> <span class="description small" ng-bind-html="(to.options | findWhere: { value: overStar }).label|unsafe"></span></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/forms/fieldTypes/typeahead.tpl.html",'<input type="text" ng-model="model[options.key]" class="form-control" typeahead-editable="to.editable || false" typeahead-focus-first="true" typeahead-append-to-body="to.typeaheadAppendToBody || false" typeahead-on-select="to.onSelect" typeahead-min-length="to.typeaheadMinLength" typeahead-select-on-blur="to.selectOnBlur" typeahead-input-formatter="to.inputFormatter" typeahead-template-url="to.templateUrl" typeahead-no-results="to.noResults" typeahead-popup-template-url="to.popupTemplateUrl" typeahead-wrapper="to.typeahead">')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/forms/fieldTypes/variantTypeTypeahead.tpl.html",'<a tabindex="-1"><span ng-switch="match.model.so_id === match.model.root_concept.so_id"><span ng-switch-when="false"><span ng-bind-html="match.label|uibTypeaheadHighlight:query">VARIANT TYPE NAME</span> <span style="color: #AAA">&nbsp;(<span ng-bind="match.model.root_concept.name"></span>)</span> </span><span ng-switch-when="true"><span style="color: #999"><span ng-bind-html="match.label|uibTypeaheadHighlight:query">VARIANT TYPE NAME</span> </span><span style="color: #AAA">&nbsp;(<i>Root Concept</i>)</span></span></span></a>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/forms/fieldTypes/variantTypeahead.tpl.html",'<a tabindex="-1"><span ng-bind-html="match.label|uibTypeaheadHighlight:query">VARIANT NAME</span></a>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("components/forms/fieldTypes/variantTypeaheadPopup.tpl.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}"><li class="dropdown-header" ng-show="$parent.model.gene.name">Matching <strong>{{$parent.model.gene.name}}</strong> variants:</li><li class="dropdown-header" ng-show="!$parent.model.gene.name">Matching variants:</li><li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}"><div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div></li></ul>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/account/account.tpl.html",'<div class="accountView"><div class="row"><div class="subTabs col-xs-12"><div class="row"><div class="col-xs-3 name"><h3>My Account</h3></div><div class="col-xs-9 tabs"><ul class="nav nav-tabs" style="float: left"><li ui-sref-active="active"><a ui-sref="account.notifications">Notifications</a></li><li ui-sref-active="active"><a ui-sref="account.profile">Profile</a></li></ul></div></div></div></div><div class="row"><div class="col-xs-12"><ui-view></ui-view></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/pages/statistics/diseases-stats.tpl.html",'<div class="diseaseStats"><div class="row"><div class="col-xs-12"><diseases-with-levels options="vm.options.diseasesWithLevels"></diseases-with-levels></div></div><div class="row"><div class="col-xs-12"><diseases-with-types options="vm.options.diseasesWithTypes"></diseases-with-types></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/pages/statistics/drugs-stats.tpl.html",'<div class="drugsStats"><div class="row"><div class="col-xs-12"><drugs-with-levels options="vm.options.drugsWithLevels"></drugs-with-levels></div></div><div class="row"><div class="col-xs-12"><drugs-with-clinical-significance options="vm.options.drugsWithClinicalSignificance"></drugs-with-clinical-significance></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/pages/statistics/evidence-stats.tpl.html",'<div class="evidenceStats"><div class="row"><div class="col-xs-12 col-sm-6 col-lg-4"><counts-by-evidence-type options="vm.options.countsByEvidenceType"></counts-by-evidence-type></div><div class="col-xs-12 col-sm-6 col-lg-4"><counts-by-evidence-level options="vm.options.countsByEvidenceLevel"></counts-by-evidence-level></div><div class="col-xs-12 col-sm-6 col-lg-4"><counts-by-evidence-direction options="vm.options.countsByEvidenceDirection"></counts-by-evidence-direction></div><div class="col-xs-12 col-sm-6 col-lg-4"><counts-by-variant-origin options="vm.options.countsByVariantOrigin"></counts-by-variant-origin></div><div class="col-xs-12 col-sm-6 col-lg-4"><counts-by-clinical-significance options="vm.options.countsByClinicalSignificance"></counts-by-clinical-significance></div><div class="col-xs-12 col-sm-6 col-lg-4"><counts-by-rating options="vm.options.countsByRating"></counts-by-rating></div><div class="col-xs-12 col-sm-6 col-lg-4"><counts-by-status options="vm.options.countsByStatus"></counts-by-status></div><div class="col-xs-12 col-sm-6 col-lg-4"><counts-by-pending options="vm.options.countsByPending"></counts-by-pending></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/pages/statistics/organizations-stats.tpl.html",'<div class="organizationStats"><div class="row"><div class="col-xs-12"><organizations-by-user-count options="vm.options.organizationsByUserCount"></organizations-by-user-count></div></div><div class="row"><div class="col-xs-12"><organizations-by-suggested-changes options="vm.options.organizationsByChangeActivity"></organizations-by-suggested-changes></div></div><div class="row"><div class="col-xs-12"><organizations-by-evidence-submitted options="vm.options.organizationsByEvidenceSubmitted"></organizations-by-evidence-submitted></div></div><div class="row"><div class="col-xs-12"><organizations-by-assertions-submitted options="vm.options.organizationsByAssertionsSubmitted"></organizations-by-assertions-submitted></div></div><div class="row"><div class="col-xs-12"><organizations-by-badge-count options="vm.options.organizationsByBadgeCount"></organizations-by-badge-count></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/pages/statistics/sources-stats.tpl.html",'<div class="sourcesStats"><div class="row"><div class="col-xs-12"><sources-with-levels options="vm.options.sourcesWithLevels"></sources-with-levels></div></div><div class="row"><div class="col-xs-12"><sources-with-types options="vm.options.sourcesWithTypes"></sources-with-types></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/pages/statistics/statisticsView.tpl.html",'<div class="statisticsView"><div class="row"><div class="subTabs col-xs-12"><div class="row"><div class="col-xs-3 name"><h3>Statistics</h3></div><div class="col-xs-9 tabs"><ul class="nav nav-tabs" style="float: right"><li ui-sref-active="active"><a ui-sref="statistics.evidence">Evidence</a></li><li ui-sref-active="active"><a ui-sref="statistics.drugs">Drugs</a></li><li ui-sref-active="active"><a ui-sref="statistics.diseases">Diseases</a></li><li ui-sref-active="active"><a ui-sref="statistics.sources">Sources</a></li><li ui-sref-active="active"><a ui-sref="statistics.organizations">Organizations</a></li></ul></div></div></div></div><div class="row filters-row" ng-if="vm.stateIncludes(\'statistics.evidence\')"><form novalidate class="" autocomplete="off"><formly-form model="vm.model" fields="vm.formFields" options="vm.formOptions"></formly-form></form><div class="col-xs-2"><label>&nbsp;</label><a ng-click="vm.updateData()" class="btn btn-block btn-primary">Filter</a></div><div class="col-xs-2"><label>&nbsp;</label><a ng-click="vm.resetForm()" class="btn btn-block btn-default">Reset</a></div></div><div class="row"><div class="col-xs-12"><ui-view></ui-view></div></div>\x3c!-- <div class="row"> --\x3e\x3c!-- <div class="col-xs-6" > --\x3e\x3c!-- <h4>Stats.data.dashboard</h4> --\x3e\x3c!-- <pre ng-bind="vm.Stats.data.dashboard | json"> --\x3e\x3c!-- </pre> --\x3e\x3c!-- </div> --\x3e\x3c!-- <div class="col-xs-6" > --\x3e\x3c!-- <h4>vm.options</h4> --\x3e\x3c!-- <pre ng-bind="vm.options | json"> --\x3e\x3c!-- </pre> --\x3e\x3c!-- </div> --\x3e\x3c!-- </div> --\x3e</div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/activity/activity.tpl.html",'<div class="activityView"><div class="title-row"><div class="row"><div class="col-xs-12"><div class="name"><h3>Activity</h3></div></div></div></div><div class="row"><div class="col-xs-12"><activity-grid entity="site"></activity-grid></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/browse/browse.tpl.html",'<div class="browseView"><div class="row"><div class="subTabs col-xs-12"><div class="row"><div class="col-xs-3 name"><h3>Browse</h3></div><div class="col-xs-9 tabs"><ul class="nav nav-tabs" style="float: right"><li ui-sref-active="active"><a ui-sref="browse.genes">Genes</a></li><li ui-sref-active="active"><a ui-sref="browse.variants">Variants</a></li><li ui-sref-active="active"><a ui-sref="browse.variantGroups">Variant Groups</a></li><li ui-sref-active="active"><a ui-sref="browse.evidence">Evidence</a></li><li ui-sref-active="active"><a ui-sref="browse.assertions">Assertions</a></li><li ui-sref-active="active"><a ui-sref="browse.sources">Sources</a></li></ul></div></div></div></div><div class="row"><div class="col-xs-12"><ui-view></ui-view></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/browse/browseViews.tpl.html",'<div class="browseViews"><browse-grid mode="ctrl.mode" page="ctrl.page"></browse-grid></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/community/CommunityView.tpl.html",'<div class="CommunityView"><div class="row"><div class="subTabs col-xs-12"><div class="row"><div class="col-xs-3 name"><h3>Community</h3></div><div class="col-xs-9 tabs"><ul class="nav nav-tabs" style="float: right"><li ui-sref-active="active"><a ui-sref="community.main">Individuals</a></li><li ui-sref-active="active"><a ui-sref="community.organizations">Organizations</a></li></ul></div></div></div></div><div class="row"><div class="col-xs-12"><ui-view id="community-view"></ui-view></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/curation/curation.tpl.html",'<div class="curationView"><div class="row"><div class="subTabs col-xs-12"><div class="row"><div class="col-xs-3 name"><h3>Curation Tools</h3></div><div class="col-xs-9 tabs"><ul class="nav nav-tabs" style="float: left">\x3c!--<li ui-sref-active="active">--\x3e\x3c!--<a ui-sref="curation.evidence">Evidence Queues</a>--\x3e\x3c!--</li>--\x3e<li ui-sref-active="active"><a ui-sref="curation.sources">Source Suggestions Queue</a></li><li ui-sref-active="active"><a ui-sref="curation.flags">Flagged Entities</a></li></ul></div></div></div></div><div class="row"><div class="col-xs-12"><ui-view></ui-view></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/search/search.tpl.html",'<div class="searchView"><div class="row"><div class="subTabs col-xs-12"><div class="row"><div class="col-xs-12 col-sm-4 name"><h3>Search <span ng-switch="state"><span ng-switch-when="search.evidence">Evidence </span><span ng-switch-when="search.assertions">Assertions </span><span ng-switch-when="search.genes">Genes </span><span ng-switch-when="search.variants">Variants </span><span ng-switch-when="search.sources">Sources </span><span ng-switch-when="search.suggested_changes">Suggested Changes</span></span></h3></div><div class="col-xs-12 col-sm-8 tabs"><ul class="nav nav-tabs" style="float: right"><li ui-sref-active="active"><a ui-sref="search.evidence">Evidence</a></li><li ui-sref-active="active"><a ui-sref="search.assertions">Assertions</a></li><li ui-sref-active="active"><a ui-sref="search.variants">Variants</a></li><li ui-sref-active="active"><a ui-sref="search.genes">Genes</a></li><li ui-sref-active="active"><a ui-sref="search.sources">Sources</a></li><li ui-sref-active="active"><a ui-sref="search.suggested_changes">Suggested Changes</a></li></ul></div></div></div></div><div class="row"><div class="col-xs-12"><ui-view></ui-view></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/account/notifications/notifications.tpl.html",'<div class="notifications"><div class="row"><div class="col-xs-12 col-sm-2 col-lg-3"><div class="notification-tabs"><ul class="nav nav-pills nav-stacked"><li ng-repeat="category in vm.categories" ng-class="{\'active\': category.name === vm.category}"><a ng-click="vm.changeCategory(category.name)">{{ category.name | keyToLabel}} <span style="color: #BBB" class="small">({{category.unread}})</span></a></li></ul></div><div class="filter-controls"><form novalidate class="form"><formly-form model="vm.filters" fields="vm.filterFields" options="vm.formOptions"></formly-form></form></div></div><div class="col-xs-12 col-sm-10 col-lg-9" style="min-height: 600px"><div class="row"><div class="col-xs-12"><div class="form-bg"><form><span ng-if="vm.notifications.length > 0">Showing {{ vm.notifications.length }} of {{ vm.totalItems }} {{ vm.category | keyToLabel | lowercase | trimPlural }} notifications. <span ng-if="vm.totalItems > 10">Show&nbsp;<select ng-model="vm.count" ng-options="option for option in vm.countOptions" ng-change="vm.pageChanged()"></select>&nbsp;per page </span></span><span ng-if="vm.notifications.length === 0">No {{ vm.category | keyToLabel | lowercase | trimPlural }} notifications. </span><a class="mark-as-seen btn btn-xs btn-primary pull-right" style="width: 140px" ng-click="vm.markAllAsRead()" ng-hide="vm.notifications.length === 0">Mark All As Read</a></form></div></div></div><div class="row"><div class="col-xs-12"><ul class="notifications-list"><li ng-repeat="notification in vm.notifications"><notification notification="notification" fetch="vm.fetch"></notification></li></ul></div></div><div class="row"><div class="col-xs-12 text-center grid-pagination" ng-hide="vm.notifications.length === 0"><ul uib-pagination ng-if="vm.totalItems" class="pagination-sm" ng-change="vm.pageChanged()" ng-model="vm.page" items-per-page="vm.count" max-size="15" boundary-links="true" rotate="false" align="true" total-items="vm.totalItems" direction-links="true"></ul><p class="page-info small">{{ vm.totalItems }} {{ vm.isFiltered ? "filtered" : "total" }} {{ vm.browseMode }} &nbsp;&nbsp;&nbsp;&nbsp; Page {{ vm.page }} of {{ vm.totalPages }}</p></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){
e.put("app/views/account/profile/profile.tpl.html",'<div class="account-profile"><div class="row"><div class="col-xs-3"><div class="card-block"><user-card user="vm.userEdit"></user-card></div><div class="small" style="color: #999; padding: .5em"><p><strong>NOTE:</strong> Profile avatars are obtained from the <a href="https://secure.gravatar.com">Gravatar service</a>. If the email address you use on CIViC isn\'t known to Gravatar, it will generate a custom random geometric avatar.</p><p>To upload or change your avatar, <a href="https://secure.gravatar.com/">sign up or log into Gravatar</a>, and link the email address you use on CIViC with your desired image.</p><p></p></div></div><div class="col-xs-9"><form class="form-horizontal"><formly-form options="vm.options" model="vm.userEdit" form="vm.profileForm" fields="vm.userEditFields"></formly-form></form><div class="row"><div class="col-xs-10 col-xs-offset-2"><button type="submit" class="btn btn-default" ng-disabled="vm.profileForm.$dirty === false" ng-click="vm.saveProfile(vm.userEdit, vm.options)">Save Profile Updates</button></div></div><div class="row" style="margin-top: 1em"><div class="col-xs-5 col-xs-offset-2"><div class="alert alert-success" ng-show="vm.submitSuccess">Profile updates successfully applied.</div><div class="alert alert-danger" ng-show="vm.submitFail">There was an error updating your profile! Please check the browser console for more information.</div></div></div><div ng-if="vm.isAdmin() || vm.isEditor()"><form class="form-horizontal"><h3 class="form-subheader">Conflict of Interest Statement</h3><div class="well" style="margin-bottom: 0; padding-bottom: 5px"><div class="form-group"><label class="col-sm-2 control-label">Status:</label><div class="col-sm-2" style="padding-top: 6px"><span ng-switch="vm.user.conflict_of_interest.coi_valid"><span ng-switch-when="expired"><i class="badge" style="background-color: #dc3545">EXPIRED</i> </span><span ng-switch-when="missing"><i class="badge" style="background-color: #dc3545">MISSING</i> </span><span ng-switch-when="conflict"><i class="badge" style="background-color: #ffc107">CONFLICT</i> </span><span ng-switch-when="valid"><i class="badge" style="background-color: #28a745">VALID</i></span></span></div><div class="col-sm-4" ng-if="vm.user.conflict_of_interest.details.created_at" style="padding-top: 6px"><strong>Created:</strong> {{vm.user.conflict_of_interest.details.created_at | date: shortDate }}</div><div class="col-sm-4" ng-if="vm.user.conflict_of_interest.details.expires_at" style="padding-top: 6px"><strong>Expires:</strong> {{vm.user.conflict_of_interest.details.expires_at | date: shortDate }}</div></div><div class="form-group" ng-if="vm.user.conflict_of_interest.coi_valid !== \'missing\'"><label class="col-sm-2 control-label">Statement:</label><div class="col-sm-10" style="padding-top: 6px"><span ng-switch="vm.user.conflict_of_interest.coi_valid"><span ng-switch-when="valid">I do not have any potential conflicts of interest. </span><span ng-switch-default="valid">I do have a potential conflict of interest:<br><p style="margin-bottom: 0"><i>{{vm.user.conflict_of_interest.details.coi_statement}}</i></p></span></span></div></div></div><div class="form-group"><div class="col-sm-10 col-sm-offset-2"><h4 style="margin-bottom:0"><span ng-switch="vm.user.conflict_of_interest.coi_valid"><span ng-switch-when="missing">Add a </span><span ng-switch-default>Update Your </span></span>Conflict of Interest Statement:</h4></div></div><formly-form options="vm.coiOptions" model="vm.coiEdit" form="vm.coiForm" fields="vm.coiFields"></formly-form></form><div class="row"><div class="col-xs-10 col-xs-offset-2"><button type="submit" class="btn btn-default" ng-disabled="vm.coiForm.$invalid" ng-click="vm.saveCoiStatement(vm.coiEdit, vm.coiOptions)">Save Conflict of Interest Statement</button></div></div><div class="row" style="margin-top: 1em"><div class="col-xs-5 col-xs-offset-2"><div class="alert alert-success" ng-show="vm.submitCoiSuccess">Successfully updated your Conflict of Interest Statement.</div><div class="alert alert-danger" ng-show="vm.submitCoiFail">There was an error updating your Conflict of Interest Statement! Please check the browser console for more information.</div></div></div></div></div></div>\x3c!-- <div class="row"> --\x3e\x3c!-- <div class="col-xs-4"> --\x3e\x3c!-- <p>vm.user.conflict_of_interest:</p> --\x3e\x3c!-- <pre ng-bind="vm.user.conflict_of_interest|json"></pre> --\x3e\x3c!-- </div> --\x3e\x3c!-- <div class="col-xs-4"> --\x3e\x3c!-- <p>vm.coiEdit:</p> --\x3e\x3c!-- <pre ng-bind="vm.coiEdit|json"></pre> --\x3e\x3c!-- </div> --\x3e\x3c!-- <div class="col-xs-4" > --\x3e\x3c!-- <p>vm.coi_statements</p> --\x3e\x3c!-- <pre ng-bind="vm.coi_statements|json"></pre> --\x3e\x3c!-- </div> --\x3e\x3c!-- </div> --\x3e</div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/pages/statistics/directives/chartPie.tpl.html",'<div class="chartPie"><div class="row"><div class="col-xs-9 col-sm-8 col-md-9"><div class="positioning"><div class="data-alert" ng-if="chart.data.length == 0" class="data-notice">No data available to<br>render this chart.</div><div class="chart-pie"></div></div></div><div class="col-xs-3 col-sm-4 col-md-3">\x3c!-- this column is here to provide a margin on the right for the chart key --\x3e</div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/activity/directives/activeOrgCell.tpl.html",'<div class="ngCellText ui-grid-cell-contents"><span ng-switch="row.entity[col.field] != undefined"><span ng-switch-when="true"><span uib-tooltip="{{row.entity[col.field].name}}" tooltip-append-to-body="true"><organization-block organization="row.entity[col.field]"></organization-block></span></span><span ng-switch-when="false">&nbsp;<i class="small text-muted">Active org not specified by user.</i></span></span></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/activity/directives/activityGrid.tpl.html",'<div class="activityGrid"><div class="row"><div class="col-xs-12"><div ui-grid="ctrl.gridOptions" ui-grid-cellnav ui-grid-selection ui-grid-pagination ui-grid-auto-resize></div></div></div><div class="row"><div class="col-xs-12 text-center grid-pagination"><ul uib-pagination ng-if="ctrl.totalItems" class="pagination-sm" ng-change="ctrl.pageChanged()" ng-model="ctrl.page" items-per-page="ctrl.maxRows" max-size="15" boundary-links="true" rotate="false" align="true" total-items="ctrl.totalItems" direction-links="true"></ul><p class="page-info small">{{ ctrl.totalItems }} {{ ctrl.isFiltered ? "filtered" : "total" }} {{ ctrl.browseMode }} &nbsp;&nbsp;&nbsp;&nbsp; Page {{ ctrl.page }} of {{ ctrl.totalPages }}</p></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/activity/directives/entityIdCell.tpl.html",'<div class="ngCellText ui-grid-cell-contents" ng-class="col.colIndex()" uib-tooltip="{{row.entity[\'entity_id_tooltip\']}}" tooltip-append-to-body="true">{{ COL_FIELD }}</div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/browse/directives/browseGrid.tpl.html",'<div class="browseGrid"><div class="row"><div class="col-xs-12"><div class="gridContainer"><div ui-grid="ctrl.gridOptions" ui-grid-cellnav ui-grid-selection ui-grid-pagination ui-grid-auto-resize></div></div></div></div><div class="row"><div class="col-xs-12 text-center grid-pagination"><ul uib-pagination ng-if="ctrl.totalItems" class="pagination-sm" ng-change="ctrl.pageChanged()" ng-model="ctrl.page" items-per-page="ctrl.maxRows" max-size="15" boundary-links="true" rotate="false" align="true" total-items="ctrl.totalItems" direction-links="true"></ul><p class="page-info small">{{ ctrl.totalItems }} {{ ctrl.isFiltered ? "filtered" : "total" }} {{ ctrl.browseMode }} &nbsp;&nbsp;&nbsp;&nbsp; Page {{ ctrl.page }} of {{ ctrl.totalPages }}</p></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/browse/directives/browseGridRow.tpl.html",'<div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name" class="ui-grid-cell" ng-class="{ \'ui-grid-row-header-cell\': col.isRowHeader }" ui-grid-cell></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/browse/directives/browseGridTooltipCell.tpl.html",'<div class="ngCellText ui-grid-cell-contents" ng-class="col.colIndex()" uib-tooltip="{{row.entity[col.field]}}" tooltip-append-to-body="true"><span search-highlighting="col" highlight-content="row.entity[col.field]">{{ row.entity[col.field] }}</span></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/browse/directives/browseGridTooltipHeader.tpl.html",'<div role="columnheader" ng-class="{ \'sortable\': sortable }" ui-grid-one-bind-aria-labelledby-grid="col.uid + \'-header-text \' + col.uid + \'-sortdir-text\'" aria-sort="{{col.sort.direction == asc ? \'ascending\' : ( col.sort.direction == desc ? \'descending\' : (!col.sort.direction ? \'none\' : \'other\'))}}"><div role="button" tabindex="0" class="ui-grid-cell-contents ui-grid-header-cell-primary-focus" col-index="renderIndex" title="TOOLTIP"><span class="ui-grid-header-cell-label" ui-grid-one-bind-id-grid="col.uid + \'-header-text\'" uib-tooltip="{{col.headerTooltip(col)}}" tooltip-placement="top" tooltip-append-to-body="true">{{ col.displayName }} </span><span ui-grid-one-bind-id-grid="col.uid + \'-sortdir-text\'" ui-grid-visible="col.sort.direction" aria-label="{{getSortDirectionAriaLabel()}}"><i ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }" title="{{col.sort.priority ? i18n.headerCell.priority + \' \' + col.sort.priority : null}}" aria-hidden="true"></i> <sub class="ui-grid-sort-priority-number">{{col.sort.priority}}</sub></span></div><div role="button" tabindex="0" ui-grid-one-bind-id-grid="col.uid + \'-menu-button\'" class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}" ui-grid-one-bind-aria-label="i18n.headerCell.aria.columnMenuButtonLabel" aria-haspopup="true"><i class="ui-grid-icon-angle-down" aria-hidden="true">&nbsp;</i></div><div ui-grid-filter></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/browse/directives/browseGridVariantCell.tpl.html",'<div class="ngCellText ui-grid-cell-contents" uib-tooltip="{{ COL_FIELD}}" tooltip-popup-delay="{{ctrl.tooltipPopupDelay}}" tooltip-placement="right" tooltip-append-to-body="true"><span search-highlighting="col" highlight-content="COL_FIELD">{{COL_FIELD; CUSTOM_FILTERS}} </span><i class="glyphicon glyphicon-flag" style="color: #942830" ng-if="row.entity[\'flagged\']"></i></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/add/assertion/addAssertion.tpl.html",'<div class="addAssertion"><div class="row"><div class="gradient-bg"><div class="col-xs-12 title stripes-bg"><h3><span class="entity-action">ADD</span> <span ng-bind="vm.type" class="entity-type">ASSERTION</span></h3></div></div></div>\x3c!-- INSTRUCTIONS --\x3e<div class="row" ng-if="vm.showInstructions"><div class="col-xs-12"><div class="edit-instructions" ng-if="vm.isAuthenticated === true"><p>To add an assertion, please complete the following form, provide a short statement supporting its inclusion into the CIViC database, then click the \'Submit Assertion for Inclusion\' button.</p><p style="margin-top: .5em"><strong>Please ensure that your submission contains no <a href="http://www.hipaa.com/hipaa-protected-health-information-what-does-phi-include/" title="HIPAA.com Protected Health Information description" target="_blank">Protected Health Information</a>, and is your own original work. By contributing to CIViC you agree to release your contributions to the public domain as described by the <a href="https://creativecommons.org/publicdomain/zero/1.0/" title="CreativeCommons.org CC0 license" target="_blank">Creative Commons Public Domain Dedication (CC0 1.0 Universal)</a>.</strong></p></div><div class="edit-instructions" ng-if="vm.isAuthenticated === false"><p style="font-weight: bold; color: red" ng-if="!vm.isAuthenticated">Please click the \'Sign In/Sign Up\' button to create an account and add Assertions to CIViC.</p></div></div></div>\x3c!-- MESSAGES --\x3e<div class="row messages"><div class="col-xs-12"><div ng-messages="vm.formMessages" class="add-messages"><div ng-message="submitSuccess"><div class="alert alert-success"><strong class="status">Success</strong> - <span class="message">Your new Assertion was successfully submitted.</span></div></div></div></div></div>\x3c!-- ERRORS --\x3e<div class="row errors"><div class="col-xs-12"><div ng-messages="vm.formErrors" class="add-errors"><div ng-message="500"><div class="alert alert-danger"><strong class="status">500 <span ng-bind="vm.validationMessages[\'500\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'500\']">error prompt</span></div></div><div ng-message="400"><div class="alert alert-danger"><strong class="status">400 <span ng-bind="vm.validationMessages[\'400\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'400\']">error prompt</span></div></div><div ng-message="401"><div class="alert alert-danger"><strong class="status">401 <span ng-bind="vm.validationMessages[\'401\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'401\']">error prompt</span></div></div><div ng-message="403"><div class="alert alert-danger"><strong class="status">403 <span ng-bind="vm.validationMessages[\'403\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'403\']">error prompt</span></div></div><div ng-message="409"><div class="alert alert-danger"><strong class="status">409 <span ng-bind="vm.validationMessages[\'409\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'409\']">error prompt</span></div></div></div></div></div><form class="form-horizontal" name="vm.form" ng-if="vm.showForm" autocomplete="off"><div class="row"><div class="col-xs-12"><formly-form options="vm.options" model="vm.assertion" fields="vm.assertionFields"></formly-form></div></div><div class="row"><div class="col-xs-5 col-xs-offset-2"><div class="buttons"><div class="pull-left"><cancel-button></cancel-button></div><div class="pull-right">\x3c!-- show org-select button if user is member of > 1 orgs --\x3e <span ng-switch="vm.currentUser.organizations.length > 1"><span ng-switch-when="true"><div class="btn-group org-select" uib-dropdown><button id="split-button" type="button" class="btn btn-default" ng-click="vm.add(vm.assertion, vm.options)" ng-disabled="vm.form.$invalid || vm.isAuthenticated === false">Submit Assertion</button> <button type="button" class="btn btn-default" uib-dropdown-toggle ng-disabled="vm.form.$invalid || vm.isAuthenticated === false">for <span class="avatar" uib-tooltip="{{vm.assertion.organization.name}}" tooltip-enable="!(vm.form.$invalid || vm.isAuthenticated === false)"><img ng-src="{{vm.assertion.organization.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;<span class="caret"></span></button><ul class="dropdown-menu" uib-dropdown-menu role="menu"><li role="menuitem" ng-repeat="org in vm.currentUser.organizations" ng-class="{\'active\': org.id == vm.assertion.organization.id}"><a href ng-click="vm.switchOrg(org.id)"><span class="glyphicon glyphicon-ok" style="margin-left: -12px" ng-class="{\'glyphicon-hide\': org.id !== vm.assertion.organization.id}"></span> <span class="avatar"><img ng-src="{{org.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;{{org.name}}</a></li></ul></div></span><span ng-switch-default><button type="submit" class="btn btn-default" ng-disabled="vm.form.$invalid || vm.isAuthenticated === false" ng-click="vm.add(vm.assertion, vm.options)">Submit Assertion</button></span></span></div></div></div></div><div class="row" ng-if="vm.form.$invalid"><div class="col-xs-5 col-xs-offset-2"><div class="alert alert-info" style="margin-top: 16px">The Submit button is disabled because the Assertion form is incomplete or contains errors. Please ensure that all required fields (marked with an *) are completed and error free.</div></div></div></form><div class="successMessage" ng-if="vm.showSuccessMessage"><div class="col-xs-12 jumbotron"><h1>Thank you.</h1><p>Your new Assertion, {{ vm.newAssertionName }}, has been added.</p><p><a ng-href="/events/assertions/{{vm.newAssertionId}}/summary" class="btn btn-small btn-default">View it here</a> &nbsp;or&nbsp; <a ui-sref="add.assertion" ui-sref-opts="{reload:true, inherit: true}" class="btn btn-small btn-default">Add Another Assertion</a></p></div></div>\x3c!-- <div class="row"> --\x3e\x3c!-- <div class="col-xs-6"> --\x3e\x3c!-- <h4>Assertion</h4> --\x3e\x3c!-- <pre ng-bind="vm.assertion | json"></pre> --\x3e\x3c!-- </div> --\x3e\x3c!-- <div class="col-xs-6"> --\x3e\x3c!-- <h4>vm.form</h4> --\x3e\x3c!-- <pre ng-bind="vm.form | json"></pre> --\x3e\x3c!-- </div> --\x3e\x3c!-- </div> --\x3e</div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/add/evidence/AddEvidenceView.tpl.html",'<div class="AddEvidenceView"><entity-view view-model="vm.AddEvidenceViewModel" view-options="vm.AddEvidenceViewOptions"><div class="row"><div class="gradient-bg"><div class="col-xs-12 title stripes-bg"><h3><span class="entity-action">ADD</span> <span ng-bind="vm.type" class="entity-type">EVIDENCE ITEM</span></h3></div></div></div><div class="row"><div class="col-xs-12"><ui-view id="add-evidence-view"></ui-view></div></div></entity-view></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/add/evidence/addEvidenceBasic.tpl.html",'<div class="addEvidenceBasic" id="add-evidence-basic" ng-init="vm.scroll()"><div class="row" ng-if="vm.showInstructions"><div class="col-xs-12"><div class="edit-instructions" ng-if="vm.isAuthenticated === true"><p>To add an evidence item, please complete the following form, provide a short statement supporting its inclusion into the CIViC database, then click the \'Submit Evidence for Inclusion\' button. If you are having difficulty filling in all of the required fields please use the <a ui-sref="suggest.source"><b>Suggest Source</b></a> form to suggest a publication for curators to review.</p><p style="margin-top: .5em"><strong>Please ensure that your submission contains no <a href="http://www.hipaa.com/hipaa-protected-health-information-what-does-phi-include/" title="HIPAA.com Protected Health Information description" target="_blank">Protected Health Information</a>, and is your own original work. By contributing to CIViC you agree to release your contributions to the public domain as described by the <a href="https://creativecommons.org/publicdomain/zero/1.0/" title="CreativeCommons.org CC0 license" target="_blank">Creative Commons Public Domain Dedication (CC0 1.0 Universal)</a>.</strong></p></div><div class="edit-instructions jumbotron" ng-if="vm.isAuthenticated === false"><h2 style="margin-top: 0">You must be logged in to add evidence to CIViC.</h2><p>Please click the \'Sign In/Sign Up\' button in the header to sign in or create an account.</p><br><p ng-if="vm.showPrefillPrompt"><i>It appears that the link includes form prefill attributes.</i> To prefill the form, sign in or create an account, ensure that you\'re logged in, and click the link again.</p></div></div></div><div class="row messages"><div class="col-xs-12"><div ng-messages="vm.formMessages" class="edit-messages"><div ng-message="submitSuccess"><div class="alert alert-success"><strong class="status">Success</strong> - <span class="message">Your new evidence item was successfully submitted.</span></div></div></div></div></div><div class="row errors"><div class="col-xs-12"><div ng-messages="vm.formErrors" class="edit-errors"><div ng-message="500"><div class="alert alert-danger"><strong class="status">500 <span ng-bind="vm.errorMessages[\'500\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'500\']">error prompt</span></div></div><div ng-message="401"><div class="alert alert-danger"><strong class="status">401 <span ng-bind="vm.errorMessages[\'401\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'401\']">error prompt</span></div></div><div ng-message="403"><div class="alert alert-danger"><strong class="status">403 <span ng-bind="vm.errorMessages[\'403\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'403\']">error prompt</span></div></div><div ng-message="409"><div class="alert alert-danger"><strong class="status">409 <span ng-bind="vm.errorMessages[\'409\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'409\']">error prompt</span></div></div></div></div></div><div class="form" ng-if="vm.showForm && vm.isAuthenticated === true"><div class="row"><div class="col-xs-12"><form class="form-horizontal" name="vm.form" autocomplete="off" novalidate><formly-form options="vm.options" model="vm.newEvidence" fields="vm.evidenceFields"></formly-form></form></div></div><div class="row"><div class="col-xs-5 col-xs-offset-2"><div class="buttons"><div class="pull-left"><cancel-button></cancel-button></div><div class="pull-right">\x3c!-- show org-select button if user is member of > 1 orgs --\x3e <span ng-switch="vm.currentUser.organizations.length > 1"><span ng-switch-when="true"><div class="btn-group org-select" uib-dropdown><button id="split-button" type="button" class="btn btn-default" ng-click="vm.submit(vm.newEvidence, vm.options)" ng-disabled="vm.form.$invalid || vm.isAuthenticated === false">Submit Evidence</button> <button type="button" class="btn btn-default" uib-dropdown-toggle ng-disabled="vm.form.$invalid || vm.isAuthenticated === false">for <span class="avatar" uib-tooltip="{{vm.newEvidence.organization.name}}" tooltip-enable="!(vm.form.$invalid || vm.isAuthenticated === false)"><img ng-src="{{vm.newEvidence.organization.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;<span class="caret"></span></button><ul class="dropdown-menu" uib-dropdown-menu role="menu"><li role="menuitem" ng-repeat="org in vm.currentUser.organizations" ng-class="{\'active\': org.id == vm.newEvidence.organization.id}"><a href ng-click="vm.switchOrg(org.id)"><span class="glyphicon glyphicon-ok" style="margin-left: -12px" ng-class="{\'glyphicon-hide\': org.id !== vm.newEvidence.organization.id}"></span> <span class="avatar"><img ng-src="{{org.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;{{org.name}}</a></li></ul></div></span><span ng-switch-default><button type="submit" class="btn btn-default" ng-disabled="vm.form.$invalid || vm.isAuthenticated === false" ng-click="vm.submit(vm.newEvidence, vm.options)">Submit Evidence</button></span></span></div></div></div></div><div class="row" ng-if="vm.form.$invalid"><div class="col-xs-5 col-xs-offset-2"><div class="alert alert-info">The Submit button is disabled because the Evidence form is incomplete or contains errors. Please ensure that all required fields (marked with an *) are completed and error free.</div></div></div></div><div class="successMessage" ng-if="vm.showSuccessMessage"><div class="col-xs-12 jumbotron"><h1>Thank you.</h1><p>The evidence item has been added to the database with a status of \'Pending\'. In the meantime before it is accepted by an Administrator, CIViC users may review and comment upon it.</p><p><a ng-href="/events/genes/{{vm.linkParams.geneId}}/summary/variants/{{vm.linkParams.variantId}}/summary/evidence/{{vm.linkParams.evidenceId}}/summary" class="btn btn-small btn-default">View it here</a> &nbsp;or&nbsp; <a ui-sref="add.evidence.basic" ui-sref-opts="{reload:true, inherit: true}" class="btn btn-small btn-default">Add Another Evidence Item</a></p></div></div>\x3c!-- <div class="row">\n       <div class="col-xs-4">\n       <h3>vm.newEvidence</h3>\n       <pre ng-bind="vm.newEvidence|json" class="small"></pre>\n       <h3>submit button stuff</h3>\n       <p>vm.form.$invalid: {{vm.form.$invalid}}</p>\n       <p>vm.isAuthenticated: {{vm.isAuthenticated}}</p>\n       </div>\n       <div class="col-xs-4">\n       <h3>vm.form</h3>\n       <pre ng-bind="vm.form|json" class="small"></pre>\n       </div>\n       <div class="col-xs-4">\n       <h3>vm.evidenceFields</h3>\n       <pre ng-bind="vm.evidenceFields|json" class="small"></pre>\n       </div>\n       </div> --\x3e</div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/add/evidence/addEvidenceDuplicateWarning.tpl.html",'<div class="duplicate-warning"><div class="row" ng-show="vm.duplicates.length > 0"><div class="col-xs-offset-1 col-xs-10"><div class="alert alert-warning"><p>Evidence items already exist that use <em ng-bind="sourceField.templateOptions.data.citation">this publication</em> to support a clinical interpretation of a mutation in {{model.gene.name}} {{model.variant.name}}. Please check the following evidence items to ensure that your intended contribution does not replicate the efforts of other curators:</p><evidence-grid style="background-color: white;border-radius: 8px;margin-top: 1em; padding: .5em" evidence="vm.duplicates" variant="model.variant.name" show-gene-col="false" show-variant-col="false" rounded="true" context="\'conflict\'" rows="3"></evidence-grid></div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/add/variantGroup/addVariantGroup.tpl.html",'<div class="addVariantGroup"><div class="row"><div class="gradient-bg"><div class="col-xs-12 title stripes-bg"><h3><span class="entity-action">ADD</span> <span ng-bind="vm.type" class="entity-type">VARIANT GROUP</span></h3></div></div></div>\x3c!-- INSTRUCTIONS --\x3e<div class="row" ng-if="vm.showInstructions"><div class="col-xs-12"><div class="add-instructions"><p>To add a Variant Group, please complete the following form, then click the \'Add Variant Group\' button.</p></div></div></div>\x3c!-- MESSAGES --\x3e<div class="row messages"><div class="col-xs-12"><div ng-messages="vm.formMessages" class="add-messages"><div ng-message="submitSuccess"><div class="alert alert-success"><strong class="status">Success</strong> - <span class="message">Your new variant group was successfully submitted.</span></div></div></div></div></div>\x3c!-- ERRORS --\x3e<div class="row errors"><div class="col-xs-12"><div ng-messages="vm.formErrors" class="add-errors"><div ng-message="500"><div class="alert alert-danger"><strong class="status">500 <span ng-bind="vm.errorMessages[\'500\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'500\']">error prompt</span></div></div><div ng-message="401"><div class="alert alert-danger"><strong class="status">401 <span ng-bind="vm.errorMessages[\'401\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'401\']">error prompt</span></div></div><div ng-message="403"><div class="alert alert-danger"><strong class="status">403 <span ng-bind="vm.errorMessages[\'403\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'403\']">error prompt</span></div></div><div ng-message="409"><div class="alert alert-danger"><strong class="status">409 <span ng-bind="vm.errorMessages[\'409\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'409\']">error prompt</span></div></div></div></div></div><form class="form-horizontal" ng-if="vm.showForm"><div class="row"><div class="col-xs-12"><formly-form options="vm.options" model="vm.variantGroup" fields="vm.variantGroupFields"></formly-form></div></div><div class="row"><div class="col-xs-5 col-xs-offset-2"><div class="buttons"><div class="pull-left"><cancel-button></cancel-button></div><div class="pull-right">\x3c!-- show org-select button if user is member of > 1 orgs --\x3e <span ng-switch="vm.currentUser.organizations.length > 1"><span ng-switch-when="true"><div class="btn-group org-select" uib-dropdown><button id="split-button" type="button" class="btn btn-default" ng-click="vm.add(vm.variantGroup, vm.options)" ng-disabled="vm.form.$invalid || vm.isAuthenticated === false">Add Variant Group</button> <button type="button" class="btn btn-default" uib-dropdown-toggle ng-disabled="vm.form.$invalid || vm.isAuthenticated === false">for <span class="avatar" uib-tooltip="{{vm.variantGroup.organization.name}}" tooltip-enable="!(vm.form.$invalid || vm.isAuthenticated === false)"><img ng-src="{{vm.variantGroup.organization.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;<span class="caret"></span></button><ul class="dropdown-menu" uib-dropdown-menu role="menu"><li role="menuitem" ng-repeat="org in vm.currentUser.organizations" ng-class="{\'active\': org.id == vm.variantGroup.organization.id}"><a href ng-click="vm.switchOrg(org.id)"><span class="glyphicon glyphicon-ok" style="margin-left: -12px" ng-class="{\'glyphicon-hide\': org.id !== vm.variantGroup.organization.id}"></span> <span class="avatar"><img ng-src="{{org.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;{{org.name}}</a></li></ul></div></span><span ng-switch-default><button type="submit" class="btn btn-default" ng-click="vm.add(vm.variantGroup, vm.options)">Add Variant Group</button></span></span></div></div></div></div></form><div class="successMessage" ng-if="vm.showSuccessMessage"><div class="col-xs-12 jumbotron"><h1>Thank you.</h1><p>Your new Variant Group has been added.</p><p><a ng-href="/events/genes/{{vm.newGeneId}}/summary/variantGroups/{{vm.newGroupId}}/summary" class="btn btn-small btn-default">View it here</a></p></div></div>\x3c!--<div class="row">--\x3e\x3c!--<div class="col-xs-6">--\x3e\x3c!--<h4>Variant Group</h4>--\x3e\x3c!--<pre ng-bind="vm.variantGroup | json"></pre>--\x3e\x3c!--</div>--\x3e\x3c!--<div class="col-xs-6">--\x3e\x3c!--<h4>vm.options</h4>--\x3e\x3c!--<pre ng-bind="vm.options | json"></pre>--\x3e\x3c!--</div>--\x3e\x3c!--</div>--\x3e</div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){
e.put("app/views/community/main/communityMain.tpl.html",'<div class="communityMain"><div class="row"><div class="col-xs-12"><h3 class="sub-title">Leaderboards</h3></div></div><div class="row leaderboards-block">\x3c!-- COMMENTS LEADERBOARD --\x3e<div class="col-xs-6 col-lg-3"><div class="leaderboard"><h4>Top Commentors</h4><table class="table table-condensed"><thead><tr><th class="user">User</th><th class="count">Comments</th></tr></thead><tbody><tr ng-repeat="row in vm.leaderboards.most_comments"><td class="user"><user-block user="row.user"></user-block></td><td class="count" ng-bind="row.count|number:0"></td></tr></tbody></table></div></div>\x3c!-- SUBMISSIONS LEADERBOARD --\x3e<div class="col-xs-6 col-lg-3"><div class="leaderboard"><h4>Top Submittors</h4><table class="table table-condensed"><thead><tr><th class="user">User</th><th class="count">Submissions</th></tr></thead><tbody><tr ng-repeat="row in vm.leaderboards.most_submissions"><td class="user"><user-block user="row.user"></user-block></td><td class="count" ng-bind="row.count|number:0"></td></tr></tbody></table></div></div>\x3c!-- REVISIONS LEADERBOARD --\x3e<div class="col-xs-6 col-lg-3"><div class="leaderboard"><h4>Top Revisors</h4><table class="table table-condensed"><thead><tr><th class="user">User</th><th class="count">Revisions</th></tr></thead><tbody><tr ng-repeat="row in vm.leaderboards.most_suggested_changes"><td class="user"><user-block user="row.user"></user-block></td><td class="count" ng-bind="row.count|number:0"></td></tr></tbody></table></div></div>\x3c!-- MODERATIONS LEADERBOARD --\x3e<div class="col-xs-6 col-lg-3"><div class="leaderboard"><h4>Top Editors</h4><table class="table table-condensed"><thead><tr><th class="user">User</th><th class="count">Moderations</th></tr></thead><tbody><tr ng-repeat="row in vm.leaderboards.most_moderations"><td class="user"><user-block user="row.user"></user-block></td><td class="count" ng-bind="row.count|number:0"></td></tr></tbody></table></div></div></div><div class="row"><div class="col-xs-12"><h3 class="sub-title">Users</h3></div></div><div class="col-xs-12"><user-card-grid></user-card-grid></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/community/organizations/organizationsMain.tpl.html",'<div class="communityMain"><div class="row"><div class="col-xs-12"><h3 class="sub-title">Leaderboards</h3></div></div><div class="row leaderboards-block">\x3c!-- COMMENTS LEADERBOARD --\x3e<div class="col-xs-6"><div class="leaderboard"><h4>Most Comments</h4><table class="table table-condensed"><thead><tr><th class="user">Organization</th><th class="count">Comments</th></tr></thead><tbody><tr ng-repeat="row in vm.leaderboards.most_comments"><td class="user"><organization-block organization="row.organization"></organization-block></td><td class="count" ng-bind="row.count|number:0"></td></tr></tbody></table></div></div>\x3c!-- SUBMISSIONS LEADERBOARD --\x3e<div class="col-xs-6"><div class="leaderboard"><h4>Most Submissions</h4><table class="table table-condensed"><thead><tr><th class="user">Organization</th><th class="count">Submissions</th></tr></thead><tbody><tr ng-repeat="row in vm.leaderboards.most_submissions"><td class="user"><organization-block organization="row.organization"></organization-block></td><td class="count" ng-bind="row.count|number:0"></td></tr></tbody></table></div></div></div><div class="row leaderboards-block">\x3c!-- REVISIONS LEADERBOARD --\x3e<div class="col-xs-6"><div class="leaderboard"><h4>Most Revisions</h4><table class="table table-condensed"><thead><tr><th class="user">Organization</th><th class="count">Revisions</th></tr></thead><tbody><tr ng-repeat="row in vm.leaderboards.most_suggested_changes"><td class="user"><organization-block organization="row.organization"></organization-block></td><td class="count" ng-bind="row.count|number:0"></td></tr></tbody></table></div></div>\x3c!-- MODERATIONS LEADERBOARD --\x3e<div class="col-xs-6"><div class="leaderboard"><h4>Most Moderations</h4><table class="table table-condensed"><thead><tr><th class="user">Organization</th><th class="count">Moderations</th></tr></thead><tbody><tr ng-repeat="row in vm.leaderboards.most_moderations"><td class="user"><organization-block organization="row.organization"></organization-block></td><td class="count" ng-bind="row.count|number:0"></td></tr></tbody></table></div></div></div><div class="row"><div class="col-xs-12"><h3 class="sub-title">Organization</h3></div></div><div class="col-xs-12"><organization-card-grid></organization-card-grid></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/curation/evidence/evidenceQueues.tpl.html",'<div class="evidenceQueues"><h3>Evidence Queues</h3></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/curation/flags/flags.tpl.html",'<div class="openFlags"><div class="col-xs-12"><flags-grid></flags-grid></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/assertions/AssertionsView.tpl.html",'<div class="AssertionsView"><entity-view view-model="vm.AssertionsViewModel" view-revisions="vm.AssertionsViewRevisions" view-options="vm.AssertionsViewOptions"><div class="row"><div class="col-xs-12"><entity-tabs></entity-tabs></div></div><div class="row"><div class="col-xs-12"><ui-view></ui-view></div></div></entity-view></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/curation/sources/sourcesQueue.tpl.html",'<div class="sourcesQueue"><source-suggestion-grid suggestions="vm.suggestedSources" rows="15" mode="\'full\'"></source-suggestion-grid></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/evidence/EvidenceView.tpl.html",'<div class="EvidenceView"><entity-view view-model="vm.EvidenceViewModel" view-revisions="vm.EvidenceViewRevisions" view-options="vm.EvidenceViewOptions"><div class="row"><div class="col-xs-12"><entity-tabs></entity-tabs></div></div><div class="row"><div class="col-xs-12"><ui-view></ui-view></div></div></entity-view></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/genes/GenesView.tpl.html",'<div class="GenesView"><entity-view view-model="vm.GenesViewModel" view-revisions="vm.GenesViewRevisions" view-options="vm.GenesViewOptions"><div class="row"><div class="col-xs-12"><entity-tabs></entity-tabs></div></div><div class="row"><div class="col-xs-12"><ui-view></ui-view></div></div></entity-view></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/variantGroups/variantGroupsView.tpl.html",'<div class="VariantGroupsView"><entity-view view-model="vm.VariantGroupsViewModel" view-revisions="vm.VariantGroupsViewRevisions" view-options="vm.VariantGroupsViewOptions"><div class="row"><div class="col-xs-12"><entity-tabs show-corner="true"></entity-tabs></div></div><div class="row"><div class="col-xs-12"><ui-view></ui-view></div></div></entity-view></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/variants/VariantsView.tpl.html",'<div class="VariantsView"><entity-view view-model="vm.VariantsViewModel" view-revisions="vm.VariantsViewRevisions" view-options="vm.VariantsViewOptions"><div class="row"><div class="col-xs-12"><entity-tabs show-corner="true"></entity-tabs></div></div><div class="row"><div class="col-xs-12"><ui-view></ui-view></div></div></entity-view></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/organizations/summary/organizationsSummary.tpl.html",'<div class="organizationsSummary"><div class="title-row"><div class="row"><div class="col-xs-12"><div class="name"><h3>Organization Summary</h3></div></div></div></div><div class="row"><div class="col-xs-12"><div class="panel panel-default"><div class="panel-heading"><div class="row"><div class="col-xs-6"><h3 style="margin: 0;padding: 0">{{organization.name}} <span ng-if="organization.parent.id !== undefined"><span class="org-parent">at <a ui-sref="organizations.summary({organizationId: organization.parent.id})">{{organization.parent.name}}</a></span></span></h3></div><div class="col-xs-6 text-right"><a ng-if="organization.url.length > 0" class="btn btn-primary" target="_blank" href="{{organization.url}}"><span class="glyphicon glyphicon-new-window"></span> Organization Website</a></div></div></div><div class="panel-body"><div class="row description-block"><div class="col-xs-2 org-image" ng-if="organization.profile_image.hasOwnProperty(\'x256\') === true"><img ng-src="{{organization.profile_image.x256}}" class="img-responsive" width="256" height="256"></div><div ng-class="{\'col-xs-12\': organization.profile_image.hasOwnProperty(\'x256\') === false, \'col-xs-10\': organization.profile_image.hasOwnProperty(\'x256\') === true}"><p ng-bind="organization.description"></p><p ng-if="organization.child_organizations.length > 0"><strong>Child Organizations:</strong></p><div ng-repeat="org in organization.child_organizations" style="display: inline-block; margin-bottom: 4px"><organization-block organization="org"></organization-block></div><p></p></div></div><h4>Members</h4><div class="row auto-clear users-rows"><user-card user="user" class="col-xs-6 col-sm-4 col-lg-3" ng-repeat="user in organization.members|orderBy:\'id\'"></user-card></div><div class="row"><div class="col-xs-12"><h4>Organization Statistics</h4></div></div><div class="row"><div class="col-xs-12"><div class="info-block"><div class="row"><div class="col-xs-6"><table class="table-info"><tr><td class="key">Comments:</td><td class="value">{{stats.comments}}</td></tr><tr><td class="key">Suggested Revisions:</td><td class="value">{{stats.suggested_changes}}</td></tr><tr><td class="key">Applied Revisions:</td><td class="value">{{stats.applied_changes}}</td></tr><tr><td class="key">Suggested Sources:</td><td class="value">{{stats.suggested_sources}}</td></tr></table></div><div class="col-xs-6"><table class="table-info"><tr><td class="key">Submitted Evidence:</td><td class="value">{{stats.submitted_evidence_items}}</td></tr><tr><td class="key">Accepted Evidence:</td><td class="value">{{stats.accepted_evidence_items}}</td></tr><tr><td class="key">Submitted Assertions:</td><td class="value">{{stats.submitted_assertions}}</td></tr><tr><td class="key">Accepted Assertions:</td><td class="value">{{stats.accepted_assertions}}</td></tr></table></div></div></div></div></div><div class="row"><div class="col-xs-12"><evidence-grid evidence="evidence" show-gene-col="true" show-variant-col="true" rows="10" context="\'profile\'" rounded="true"></evidence-grid></div></div><div class="row"><div class="col-xs-12"><h4>Organization Activity</h4></div></div><div class="row"><div class="col-xs-12"><activity-grid entity="\'organization\'" id="organization.id"></activity-grid></div></div></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/search/directives/queryBuilder.tpl.html",'<div class="queryBuilder"><div class="well"><div class="row"><div class="col-xs-12"><div class="operator-prompt"><div ng-if="vm.model.queries.length <= 1"><span class="prompt-text">Match the following condition:</span></div><div ng-if="vm.model.queries.length > 1"><span class="prompt-text">Match</span><div class="operator-select"><formly-form fields="vm.operatorField" model="vm.model"></formly-form></div><span class="prompt-text">of the following conditions:</span></div></div></div></div><div class="row"><div class="col-xs-12"><form ng-submit="vm.onSubmit()" novalidate><formly-form model="vm.model" fields="vm.fields" form="vm.form" options="vm.options"></formly-form></form></div></div><div class="row"><div class="col-xs-12"><div class="button-row pull-right"><span class="form-warning" ng-if="vm.form.$pristine === false && vm.form.$invalid">Search contains invalid/missing parameters. Ensure all fields are specified to submit your search. </span><span class="error" ng-if="vm.formError" ng-bind="vm.formError"></span> <button type="submit" class="btn btn-primary submit-button" ng-disabled="vm.form.$invalid" ng-click="vm.onSubmit()" ng-bind="vm.buttonLabel">BUTTON LABEL</button></div></div></div></div><div ng-if="vm.showGrid === true"><div class="row"><div class="col-xs-12 entity-grid"><div ng-switch="vm.entity"><div ng-switch-when="evidence_items"><evidence-grid evidence="vm.searchResults" rows="15" show-gene-col="true" show-variant-col="true" context="\'search\'" rounded="true"></evidence-grid></div><div ng-switch-when="variants"><variant-grid context="\'search\'" rows="15" variants="vm.searchResults"></variant-grid></div><div ng-switch-when="genes"><gene-grid context="\'search\'" rows="15" genes="vm.searchResults"></gene-grid></div><div ng-switch-when="sources"><source-grid context="\'search\'" rows="15" sources="vm.searchResults"></source-grid></div><div ng-switch-when="assertions"><assertion-grid context="\'search\'" rows="15" assertions="vm.searchResults"></assertion-grid></div><div ng-switch-when="suggested_changes"><changes-grid context="\'search\'" rows="15" changes="vm.searchResults"></changes-grid></div><div ng-switch-when="variantGroups"><p>Variant Groups Grid will go here.</p></div></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/search/forms/queryBuilder.type.tpl.html",'<div class="queryBuilder">\x3c!--loop through each element in model array--\x3e<div class="row" ng-repeat="element in model[options.key]" ng-init="fields = copyFields(to.rowFields); conditionFields = copyFields(to.conditionFields)"><div class="col-xs-12"><div class="query-row"><div class="row"><div class="col-xs-3 col-lg-3 field-selector"><formly-form fields="fields" model="element" form="form" class="form-inline pull-right"></formly-form></div><div class="col-xs-7 col-lg-7 field-form"><formly-form fields="conditionFields[element.field]" model="element.condition" class="form-inline"></formly-form></div><div class="col-xs-2 row-buttons"><div class="pull-right"><button type="button" class="btn btn-xs btn-danger" ng-if="model[options.key].length > 1" ng-click="model[options.key].splice($index, 1)"><span class="glyphicon glyphicon-remove"></span></button> <button type="button" class="btn btn-xs btn-primary" style="margin-left: 6px" ng-if="$index + 1 === model[options.key].length" ng-click="addNew()"><span class="glyphicon glyphicon-plus"></span></button></div></div></div></div></div></div>\x3c!-- <div class="row" > --\x3e\x3c!-- <div class="col-xs-12" > --\x3e\x3c!-- <pre ng-bind="model|json" --\x3e\x3c!-- </div> --\x3e\x3c!-- </div> --\x3e</div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/search/templates/searchAssertions.tpl.html",'<div class="searchAssertions"><div class="row"><div class="col-xs-12"><div class="well suggested-searches"><h4>Example Searches:</h4><ul class="nav nav-pills"><li ng-repeat="suggestion in vm.suggestedSearches.assertions" ng-attr-id="{{ suggestion.name | kebabCase }}"><a ng-click="vm.setSearch(suggestion.search)" uib-tooltip="{{suggestion.tooltip}}" ng-bind="suggestion.name">NAME</a></li></ul></div></div></div><div class="row"><div class="col-xs-12"><query-builder entity="\'assertions\'" fields="vm.fields.assertions"></query-builder></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/search/templates/searchEvidence.tpl.html",'<div class="searchEvidence"><div class="row"><div class="col-xs-12"><div class="well suggested-searches"><h4>Example Searches:</h4><ul class="nav nav-pills"><li ng-repeat="suggestion in vm.suggestedSearches.evidence" ng-attr-id="{{ suggestion.name | kebabCase }}"><a ng-click="vm.setSearch(suggestion.search)" uib-tooltip="{{suggestion.tooltip}}" ng-bind="suggestion.name">NAME</a></li></ul></div></div></div><div class="row"><div class="col-xs-12"><query-builder entity="\'evidence_items\'" fields="vm.fields.evidence_items"></query-builder></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/search/templates/searchGenes.tpl.html",'<div class="searchEvidence"><div class="row"><div class="col-xs-12"><div class="well suggested-searches"><h4>Example Searches:</h4><ul class="nav nav-pills"><li ng-repeat="suggestion in vm.suggestedSearches.genes" ng-attr-id="{{ suggestion.name | kebabCase }}"><a ng-click="vm.setSearch(suggestion.search)" uib-tooltip="{{suggestion.tooltip}}" tooltip-append-to-body="true" ng-bind="suggestion.name">NAME</a></li></ul></div></div></div><div class="row"><div class="col-xs-12"><query-builder entity="\'genes\'" fields="vm.fields.genes"></query-builder></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/search/templates/searchSources.tpl.html",'<div class="searchSources"><div class="row"><div class="col-xs-12"><div class="well suggested-searches"><h4>Example Searches:</h4><ul class="nav nav-pills"><li ng-repeat="suggestion in vm.suggestedSearches.sources" ng-attr-id="{{ suggestion.name | kebabCase }}"><a ng-click="vm.setSearch(suggestion.search)" uib-tooltip="{{suggestion.tooltip}}" tooltip-append-to-body="true" ng-bind="suggestion.name">NAME</a></li></ul></div></div></div><div class="row"><div class="col-xs-12"><query-builder entity="\'sources\'" fields="vm.fields.sources"></query-builder></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/search/templates/searchSuggestedChanges.tpl.html",'<div class="searchSuggestedChanges">\x3c!-- <div class="row"> --\x3e\x3c!-- <div class="col-xs-12"> --\x3e\x3c!-- <div class="well suggested-searches"> --\x3e\x3c!-- <h4>Example Searches:</h4> --\x3e\x3c!-- <ul class="nav nav-pills"> --\x3e\x3c!-- <li ng-repeat="suggestion in vm.suggestedSearches.suggested_changes"> --\x3e\x3c!-- <a ng-click="vm.setSearch(suggestion.search)" --\x3e\x3c!-- uib-tooltip="{{suggestion.tooltip}}" --\x3e\x3c!-- tooltip-append-to-body="true" --\x3e\x3c!-- ng-bind="suggestion.name"> --\x3e\x3c!-- NAME --\x3e\x3c!-- </a> --\x3e\x3c!-- </li> --\x3e\x3c!-- </ul> --\x3e\x3c!-- </div> --\x3e\x3c!-- </div> --\x3e\x3c!-- </div> --\x3e<div class="row"><div class="col-xs-12"><query-builder entity="\'suggested_changes\'" fields="vm.fields.suggested_changes"></query-builder></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/search/templates/searchVariantGroups.tpl.html",'<div class="searchVariantGroups"><query-builder entity="\'variantGroups\'" fields="vm.fields.variantGroups"></query-builder></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/search/templates/searchVariants.tpl.html",'<div class="searchEvidence"><div class="row"><div class="col-xs-12"><div class="well suggested-searches"><h4>Example Searches:</h4><ul class="nav nav-pills"><li ng-repeat="suggestion in vm.suggestedSearches.variants" ng-attr-id="{{ suggestion.name | kebabCase }}"><a ng-click="vm.setSearch(suggestion.search)" uib-tooltip="{{suggestion.tooltip}}" tooltip-append-to-body="true" ng-bind="suggestion.name">NAME</a></li></ul></div></div></div><div class="row"><div class="col-xs-12"><query-builder entity="\'variants\'" fields="vm.fields.variants"></query-builder></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/sources/components/cellTemplateActions.tpl.html",'<div class="ui-grid-cell-contents" ng-controller="cellTemplateActionsController"><span uib-tooltip="Add Evidence Item" tooltip-append-to-body="true" tooltip-enable="row.entity[\'status\'] != \'rejected\'"><button ng-click="grid.appScope.vm.setLocation(row.entity.addEvidenceUrl)" ng-disabled="row.entity[\'status\'] != \'new\' || !grid.appScope.vm.isAuthenticated()" class="btn btn-xs btn-cell-add"><i class="glyphicon glyphicon-plus"></i></button> </span>&nbsp; <span uib-tooltip="Reject Suggestion" tooltip-append-to-body="true" tooltip-enable="row.entity[\'status\'] != \'rejected\'"><button ng-disabled="row.entity[\'status\'] != \'new\' || !grid.appScope.vm.isAuthenticated()" class="btn btn-xs btn-danger" uib-popover-template="\'rejectPopover.tpl.html\'" popover-is-open="popoverIsOpen" popover-trigger="\'outsideClick\'" popover-append-to-body="true" popover-title="Reject Suggestion" popover-placement="left"><i class="glyphicon glyphicon-thumbs-down"></i></button> </span>&nbsp; <span uib-tooltip="Mark Suggestion as Curated" tooltip-append-to-body="true" tooltip-enable="row.entity[\'status\'] != \'rejected\'"><button ng-click="grid.appScope.vm.setSuggestion(row.entity.id, \'curated\')" ng-disabled="row.entity[\'status\'] != \'new\' || !grid.appScope.vm.isAuthenticated()" class="btn btn-xs btn-success"><i class="glyphicon glyphicon-thumbs-up"></i></button> </span>&nbsp; <span uib-tooltip="Re-queue Suggestion" tooltip-append-to-body="true"><button ng-click="grid.appScope.vm.setSuggestion(row.entity.id, \'new\')" ng-disabled="row.entity[\'status\'] === \'new\' || !grid.appScope.vm.isAuthenticated()" class="btn btn-xs btn-default"><i class="glyphicon glyphicon-repeat"></i></button></span><script type="text/ng-template" id="rejectPopover.tpl.html"><div class="row">\n      <div class="col-xs-12">\n        <select class="form-control" ng-model="reason" ng-init="reason = \'none\'">\n          <option value="none">Choose reason for rejection</option>\n          <option value="No clinically relevant information">No clinically relevant information</option>\n          <option value="Suggestion information incorrect">Suggestion information incorrect</option>\n          <option value="Source not concordant with paper">Source not concordant with paper</option>\n        </select>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-xs-12 text-right" style="margin-top: .5em;">\n        <button type="submit"\n          ng-click="rejectSuggestion(row.entity.id, \'rejected\', reason)"\n          class="btn btn-xs btn-danger"\n          ng-click="ctrl.submit(ctrl.newFlag)"\n          ng-disabled="reason === \'none\'"\n          uib-tooltip-enable="ctrl.newFlag.comment.text.length < 3"\n          uib-tooltip="Please add comment before submitting flag.">\n          Reject Suggestion\n        </button>\n      </div>\n    </div><\/script></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/sources/components/cellTemplateCitation.tpl.html",'<div class="ngCellText" ng-class="col.colIndex()" uib-tooltip="{{row.entity.citation}}" tooltip-append-to-body="true"><div class="ui-grid-cell-contents"><a ui-sref="sources.summary({sourceId: row.entity.source_id })">{{row.entity.citation}}</a></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/sources/components/cellTemplateStatus.tpl.html",'<div class="ui-grid-cell-contents" ng-controller="cellTemplateActionsController"><span ng-bind="row.entity[col.field]"></span> <i class="glyphicon glyphicon-info-sign" ng-if="row.entity[col.field] === \'rejected\' && row.entity.reason !== null" uib-tooltip-template="\'rejectedReason.tpl.html\'" tooltip-append-to-body="true" tooltip-placement="right" style="color: #d74c48"></i><script type="text/ng-template" id="rejectedReason.tpl.html"><span ng-bind="row.entity.reason">REASON</span><\/script></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/sources/components/cellTemplateTooltip.tpl.html",'<div class="ngCellText ui-grid-cell-contents" ng-class="col.colIndex()" uib-tooltip="{{row.entity[col.field]}}" tooltip-append-to-body="true"><span search-highlighting="col" highlight-content="row.entity[col.field]">{{ row.entity[col.field] }}</span></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/sources/components/sourceGrid.tpl.html",'<div class="sourceGrid"><div class="row"><div class="col-xs-10"><h4><span ng-switch="ctrl.context"><span ng-switch-when="summary">Sources</span> <span ng-switch-when="search">Search Results</span> </span><span class="record-info"><span>{{ ctrl.gridApi.grid.rows.length }} total items</span> <span ng-if="ctrl.gridApi.grid.renderContainers.body.visibleRowCache.length !== ctrl.gridApi.grid.rows.length">(showing {{ctrl.gridApi.grid.renderContainers.body.visibleRowCache.length}})</span></span></h4></div><div class="col-xs-2"><button class="btn btn-default btn-xs pull-right col-key btn-block" uib-popover-template="ctrl.exportPopover.templateUrl" popover-trigger="\'outsideClick\'" ng-disabled="ctrl.sourceGridOptions.data.length < 1" popover-placement="bottom"><span class="glyphicon glyphicon-export" aria-hidden="true"></span> Get Data</button></div></div><div class="row"><div class="col-xs-12"><div ui-grid="ctrl.sourceGridOptions" ui-grid-cellnav ui-grid-auto-resize ui-grid-exporter ui-grid-selection></div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/sources/components/sourceSuggestionGrid.tpl.html",'<div class="sourceSuggestionGrid"><div class="row"><div class="col-xs-12"><h4>Source Suggestions <span class="record-info"><span>{{ vm.gridApi.grid.rows.length }} total items</span> <span ng-if="vm.gridApi.grid.renderContainers.body.visibleRowCache.length !== vm.gridApi.grid.rows.length">(showing {{vm.gridApi.grid.renderContainers.body.visibleRowCache.length}})</span></span></h4></div></div><div class="row"><div class="col-xs-12"><div ui-grid="vm.sourceSuggestionGridOptions" ui-grid-auto-resize></div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/sources/summary/sourcesSummary.tpl.html",'<div class="sourcesSummary"><div class="title-row"><div class="row"><div class="col-xs-12"><div class="name"><h3><a name="top" id="top" style="text-decoration: none; color: inherit"><span ng-bind="vm.source.citation">Citation</span> Summary</a></h3></div></div></div></div><div class="row"><div class="col-xs-12"><h3 ng-bind-html="vm.source.name" class="source-title">Full Source Title</h3><strong>Authors:</strong> <span ng-bind="vm.source.author_string | ifEmpty: \'--\'">Authors List</span></div></div><div class="row"><div class="col-xs-12 col-md-7 col-lg-6"><p><strong>Abstract:</strong> <span ng-bind="vm.source.abstract">Abstract</span></p></div><div class="col-xs-12 col-md-5 col-lg-6"><div class="row"><div class="col-xs-12"><div class="well"><table class="table"><tr><td class="key">Published:</td><td class="value"><span ng-bind="vm.source.publication_date_string"></span> &nbsp; <span class="label label-warning" ng-if="vm.source.is_review" uib-tooltip="This is a review article.">review</span></td></tr><tr><td class="key">Citation:</td><td class="value" ng-bind="vm.source.citation"></td></tr><tr><td class="key"><span ng-switch="vm.source.source_type"><span ng-switch-when="PubMed">PubMed ID: </span><span ng-switch-when="ASCO">ASCO ID:</span></span></td><td class="value"><span ng-switch="vm.source.source_type"><span ng-switch-when="PubMed"><a ng-href="{{vm.source.source_url}}" class="btn btn-xs button-new-window" target="_blank"><span class="glyphicon glyphicon-new-window"></span> <span ng-bind="vm.source.citation_id"></span> </a></span><span ng-switch-when="ASCO"><a ng-href="{{vm.source.source_url}}" class="btn btn-xs button-new-window" target="_blank"><span class="glyphicon glyphicon-new-window"></span> <span ng-bind="vm.source.citation_id"></span></a></span></span></td></tr><tr ng-if="vm.source.clinical_trials.length > 0"><td class="key">Clinical Trial<span ng-if="vm.source.clinical_trials.length > 1">s</span>:</td><td class="value"><span ng-repeat="trial in vm.source.clinical_trials">{{ $first ? \'\' : $last ? ( evidence.source.clinical_trials.length > 2 ? \' and \' : \' and \' ) : \' \' }} <a ng-href="{{trial.clinical_trial_url}}" class="btn btn-xs button-new-window" style="margin-bottom: 4px" target="_blank"><span class="glyphicon glyphicon-new-window"></span> <span ng-bind="trial.nct_id"></span></a></span></td></tr><tr><td class="key">Journal:</td><td class="value" ng-bind="vm.source.full_journal_title ? vm.source.full_journal_title : vm.source.journal"></td></tr><tr><td class="key">PMC ID:</td><td class="value"><span ng-bind="vm.source.pmc_id ? vm.source.pmc_id : \'N/A\'">PMC ID</span></td></tr></table></div></div></div></div></div><div class="row" style="margin-top: 1.5em"><div class="col-xs-12"><evidence-grid evidence="vm.evidence_items" rows="8" show-gene-col="true" show-variant-col="true" context="\'source_summary\'" source="vm.source" rounded="true"></evidence-grid></div></div><div class="row" ng-if="vm.source.source_suggestions.length > 0"><div class="col-xs-12"><source-suggestion-grid suggestions="vm.source.source_suggestions" rows="5" mode="full"></source-suggestion-grid></div></div><div class="row" style="margin-top: 1.5em"><div class="col-xs-12"><h4>Source Comments</h4></div></div><div class="row"><div class="col-xs-12 comment-list"><div ng-switch="vm.comments.length > 0"><div ng-switch-when="true"><ul class="comments"><li ng-repeat="comment in vm.comments"><entity-comment comment-data="comment" entity-model="vm.source"></entity-comment></li></ul></div><div ng-switch-default><p>No Comments for this Source.</p></div></div></div></div><div class="row"><div class="col-xs-12 comment-form"><entity-comment-form type="entity" entity-model="vm.source"></entity-comment-form></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){
e.put("app/views/events/common/actionBlock.tpl.html",'<div class="actionBlock"><div class="action-block view-pageBackground" ng-repeat="(action, details) in actions" uib-tooltip="{{details.timestamp | timeAgo}}{{details.organization.name != undefined ? \' for \' + details.organization.name : \'\'}}" tooltip-placement="bottom" tooltip-apppend-to-body="true"><span class="action-label small"><strong>{{ action | labelify }}</strong> </span>\x3c!--<span class="action-date small"--\x3e\x3c!--ng-if="action === \'last_modified\'">--\x3e\x3c!--{{ details.timestamp | timeAgo }}--\x3e\x3c!--</span>--\x3e <span class="user-button small">&nbsp;by<user-block user="details.user"></user-block></span></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/editableField.tpl.html",'<div class="editableField"><span ng-switch="ctrl.isAuthenticated()"><span ng-switch-when="false"><a class="btn btn-xs btn-edit-entity" uib-tooltip="Sign in to edit this {{type|lowercase}}" tooltip-append-to-body="true" ng-disabled="true"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> </a><a class="btn btn-xs btn-flag" ng-class="{\'flagged\': ctrl.hasActiveFlag}" uib-popover-template="\'flagPopover.tpl.html\'" popover-trigger="\'outsideClick\'" popover-title="Flag {{type}} {{name}} " popover-placement="{{ctrl.popoverPlacement}}" uib-tooltip="{{ctrl.hasActiveFlag ? \'This \' + (type|lowercase) + \' has been flagged\' : \'Sign in to flag this \' + (type|lowercase)}}" : tooltip-append-to-body="true" ng-disabled="true"><span class="glyphicon glyphicon-flag" aria-hidden="true"></span> </a></span><span ng-switch-when="true"><a class="btn btn-xs btn-edit-entity" ng-class="{ \'active\': ctrl.active === true }" uib-tooltip="Edit this {{type|lowercase}}" uib-tooltip-append-to-body="true" ng-click="ctrl.edit()"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> </a><a class="btn btn-xs btn-flag" ng-class="{\'flagged\': ctrl.hasActiveFlag}" uib-tooltip="{{ctrl.hasActiveFlag ? \'This \' + (type|lowercase) + \' has been flagged\' : \'Flag this \' + (type|lowercase)}}" tooltip-append-to-body="true" uib-popover-template="\'flagPopover.tpl.html\'" popover-trigger="\'outsideClick\'" popover-title="Flag {{type}} {{name}} " popover-placement="{{ctrl.popoverPlacement}}"><span class="glyphicon glyphicon-flag" aria-hidden="true"></span></a></span></span><ng-transclude></ng-transclude></div><script type="text/ng-template" id="flagPopover.tpl.html"><div ng-switch="ctrl.hasActiveFlag">\n    <div ng-switch-when="true" >\n      <editable-field-flag\n        flag="ctrl.activeFlag"\n        current-user="ctrl.currentUser"\n        switch-org-fn="ctrl.switchOrg"\n        action-org="ctrl.actionOrg"\n        resolve-fn="ctrl.resolve"\n        entity-id="ctrl.entityId"\n        type="type"\n        name="name">\n      </editable-field-flag>\n    </div>\n    <div ng-switch-when="false" >\n      <div class="submit-flag-form">\n        <div class="row" >\n          <div class="col-xs-12" >\n            <div class="form-group">\n              <textarea ng-model="ctrl.newFlag.comment.text" class="form-control flag-comment" rows="2"\n                ng-attr-placeholder="Flag this {{type|lowercase}} by describing why it requires the attention of the CIViC editors."></textarea>\n            </div>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-xs-12 panel-buttons" >\n            <span ng-if="ctrl.showCoiNotice">\n              <a ui-sref="account.profile" class="btn btn-danger btn-block btn-xs">\n                <i class="glyphicon glyphicon-hand-up"></i>&nbsp;\n                Please Update COI Statement to resolve flag.\n              </a>\n            </span>\n            \x3c!-- show org-select button if user is member of > 1 orgs --\x3e\n            <span ng-switch="ctrl.currentUser.organizations.length > 1" >\n              <span ng-switch-when="true" >\n                <div class="btn-group org-select" uib-dropdown>\n                  <button id="split-button"\n                    type="submit"\n                    class="btn btn-xs btn-danger"\n                    ng-if="!ctrl.showCoiNotice"\n                    ng-click="ctrl.submit(ctrl.newFlag)"\n                    ng-disabled="ctrl.newFlag.comment.text.length < 3"\n                    tooltip-enable="ctrl.newFlag.comment.text.length < 3"\n                    uib-tooltip="Please add comment before submitting flag.">\n                    Flag\n                  </button>\n\n                  <button type="button" class="btn btn-xs btn-danger" uib-dropdown-toggle\n                    ng-disabled="ctrl.newFlag.comment.text.length < 3">\n                    for\n                    <span class="avatar avatar-sm"\n                      uib-tooltip="{{ctrl.actionOrg.name}}"\n                      tooltip-enable="!(ctrl.resolveFlag.comment.text.length < 3)">\n                      <img ng-src="{{ctrl.actionOrg.profile_image.x14}}" width="14" height="14"/>\n                    </span>&nbsp;&nbsp;<span class="caret"></span>\n                  </button>\n                  <ul class="dropdown-menu" uib-dropdown-menu role="menu">\n                    <li role="menuitem" ng-repeat="org in ctrl.currentUser.organizations"\n                      ng-class="{\'active\': org.id == vm.actionOrg.id}">\n                      <a href ng-click="ctrl.switchOrg(org.id)">\n                        <span class="glyphicon glyphicon-ok" style="margin-left: -12px"\n                          ng-class="{\'glyphicon-hide\': org.id !== ctrl.actionOrg.id}"></span>\n                        <span class="avatar">\n                          <img ng-src="{{org.profile_image.x14}}" width="14" height="14"/>\n                        </span>&nbsp;&nbsp;{{org.name}}\n                      </a>\n                    </li>\n                  </ul>\n                </div>\n              </span>\n              <span ng-switch-default>\n                <button type="submit"\n                  class="btn btn-xs btn-danger flag-submit"\n                  ng-if="!ctrl.showCoiNotice"\n                  ng-click="ctrl.submit(ctrl.newFlag)"\n                  ng-disabled="ctrl.newFlag.comment.text.length < 3"\n                  tooltip-enable="ctrl.newFlag.comment.text.length < 3"\n                  uib-tooltip="Please add comment before submitting flag.">\n                  Flag\n                </button>\n              </span>\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="resolved-flags" ng-if="ctrl.hasResolvedFlag" ng-class="{\'closed\': !ctrl.showResolved}">\n    <div class="row">\n      <div class="col-xs-8 resolved-flags-title">\n        {{ctrl.resolvedCount}} Resolved Flag{{ ctrl.resolvedCount > 1 ? \'s\' : \'\' }}\n      </div>\n      <div class="col-xs-4 toggle-btn">\n        <a class="btn btn-xs btn-default" ng-click="ctrl.toggleResolved()">{{ctrl.showResolved ? \'HIDE\' : \'SHOW\'}}</a>\n      </div>\n    </div>\n    <div class="row" ng-if="ctrl.showResolved">\n      <div class="col-xs-12" style="padding-top: 8px;">\n        <div class="flag-container" ng-repeat="flag in ctrl.flags | filter: {state: \'resolved\'} | orderBy:\'id\':true">\n          <editable-field-flag\n            flag="flag"\n            current-user="ctrl.currentUser"\n            switch-org-fn="ctrl.switchOrg"\n            action-org="ctrl.actionOrg"\n            resolve-fn="ctrl.resolve"\n            entity-id="ctrl.entityId"\n            type="type"\n            name="name"></editable-field-flag>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- <div class="row" > --\x3e\n  \x3c!-- <div class="col-xs-12" > --\x3e\n  \x3c!-- <pre ng-bind="ctrl.newFlag|json" ></pre> --\x3e\n  \x3c!-- </div> --\x3e\n  \x3c!-- </div> --\x3e<\/script>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/editableFieldFlag.tpl.html",'<div class="editableFieldFlag" ng-class="{\'state-open\': flag.state === \'open\', \'state-resolved\': flag.state === \'resolved\'}"><div class="flag-block"><div class="row"><div class="col-xs-12"><div class="actions-list"><ul><li><span class="action-label">Flagged:</span><user-block user="ctrl.actions.flagged.user"></user-block></li><li ng-if="ctrl.actions.resolved"><span class="action-label">Resolved:</span><user-block user="ctrl.actions.resolved.user"></user-block></li></ul></div></div></div><div class="row"><div class="col-xs-12"><div class="flag-comment"><span class="flag-comment-notice">Flagged comment:</span><br><p>{{ flag.flagComment.text }}</p></div></div></div><div class="row" ng-if="flag.resolveComment"><div class="col-xs-12"><div class="resolve-comment"><span class="flag-comment-notice">Resolved comment:</span><br><p>{{ flag.resolveComment.text }}</p></div></div></div><div class="resolve-flag-form" ng-if="flag.state ===\'open\' && (ctrl.isEditor() || ctrl.isAdmin())"><div class="row"><div class="col-xs-12"><div class="form-group"><textarea ng-model="ctrl.resolveFlag.comment.text" class="form-control resolve-comment" rows="3" placeholder="To resolve this flag, describe here how it was addressed then click \'Resolve\'."></textarea></div></div></div><div class="row"><div class="col-xs-12"><span ng-if="ctrl.showCoiNotice"><a ui-sref="account.profile" class="btn btn-danger btn-block btn-xs"><i class="glyphicon glyphicon-hand-up"></i>&nbsp; Please Update COI Statement to resolve flag. </a></span>\x3c!-- show org-select button if user is member of > 1 orgs --\x3e <span ng-switch="ctrl.currentUser.organizations.length > 1 && !ctrl.showCoiNotice"><span ng-switch-when="true"><div class="btn-group org-select" uib-dropdown style="float: right"><button id="split-button" type="button" class="btn btn-xs btn-success" ng-click="resolveFn(ctrl.resolveFlag)" ng-if="!ctrl.showCoiNotice" ng-disabled="ctrl.resolveFlag.comment.text.length < 3" tooltip-enable="ctrl.resolveFlag.comment.text.length < 3" uib-tooltip="Please add comment before resolving flag.">Resolve</button> <button type="button" class="btn btn-xs btn-success" uib-dropdown-toggle ng-disabled="ctrl.resolveFlag.comment.text.length < 3">for <span class="avatar avatar-sm" uib-tooltip="{{actionOrg.name}}" tooltip-enable="!(ctrl.resolveFlag.comment.text.length < 3)"><img ng-src="{{actionOrg.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;<span class="caret"></span></button><ul class="dropdown-menu" uib-dropdown-menu role="menu"><li role="menuitem" ng-repeat="org in ctrl.currentUser.organizations" ng-class="{\'active\': org.id == vm.actionOrg.id}"><a href ng-click="switchOrgFn(org.id)"><span class="glyphicon glyphicon-ok" style="margin-left: -12px" ng-class="{\'glyphicon-hide\': org.id !== actionOrg.id}"></span> <span class="avatar"><img ng-src="{{org.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;{{org.name}}</a></li></ul></div></span><span ng-switch-default><button type="submit" class="btn btn-xs btn-success" ng-click="resolveFn(ctrl.resolveFlag)" ng-if="!ctrl.showCoiNotice" ng-disabled="ctrl.resolveFlag.comment.text.length < 3" tooltip-enable="ctrl.resolveFlag.comment.text.length < 3" uib-tooltip="Please add comment before resolving flag.">Resolve</button></span></span></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/entityComment.tpl.html",'<div class="entityComment"><div ng-if="ctrl.comment.title.length > 0"><div class="row"><div class="col-xs-12"><div class="title-block"><a ui-sref="users.profile({userId: ctrl.comment.user.id})"><div class="user-image"><user-image user="ctrl.comment.user" height="32" width="32"></user-image></div></a><div class="comment-title"><h4 class="title" ng-bind="ctrl.comment.title">Comment Title</h4><span class="small">Posted by <a ui-sref="users.profile({userId: ctrl.comment.user.id})"><strong><span ng-bind="ctrl.comment.user.display_name">user.display_name</span></strong> </a><span ng-bind="ctrl.comment.created_at | timeAgo">comment.created_at</span></span></div></div></div></div><div class="row"><div class="col-xs-12"><div class="text-block"><p ng-bind-html="ctrl.comment.html|unsafe">Comment Text.</p></div></div></div></div><div ng-if="ctrl.comment.title.length === 0"><div class="row"><div class="col-xs-12"><div class="comment-block"><div class="user-image"><a ui-sref="users.profile({userId: ctrl.comment.user.id})"><user-image user="ctrl.comment.user" height="32" width="32"></user-image></a></div><div class="comment-content"><div class="text-block"><p ng-bind-html="ctrl.comment.html|unsafe">Comment Text.</p></div><div class="info-block"><span class="small">Posted by <a ui-sref="users.profile({userId: ctrl.comment.user.id})"><strong><span ng-bind="ctrl.comment.user.display_name">user.display_name</span></strong> </a><span ng-bind="ctrl.comment.created_at | timeAgo">comment.created_at</span></span><div class="comment-actions pull-right"><button ng-show="ctrl.comment.user.id === ctrl.security.currentUser.id" ng-click="ctrl.deleteComment(ctrl.comment)" class="btn btn-xs btn-default">Delete</button></div></div></div></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/entityCommentForm.tpl.html",'<div class="entityCommentForm"><div ng-switch="vm.isAuthenticated"><div ng-switch-when="true"><div class="row comment-modes"><div class="col-xs-12"><button class="btn btn-default btn-xs active" ng-class="{active: vm.mode === \'edit\'}" ng-click="vm.switchMode(\'edit\')" ng-disabled="vm.mode === \'edit\'">COMPOSE</button> <button class="btn btn-default btn-xs" ng-class="{active: vm.mode === \'preview\'}" ng-click="vm.switchMode(\'preview\')" ng-disabled="vm.mode === \'preview\'">PREVIEW</button> &nbsp; <span class="comment-message"><i class="glyphicon glyphicon-refresh" ng-show="vm.previewLoading"></i> <span class="small" ng-bind="vm.commentMessage"></span></span></div></div><div ng-switch="vm.mode"><div ng-switch-when="edit"><div class="row comment-form"><div class="col-xs-12"><form class="form-horizontal" name="vm.commentForm">\x3c!-- TODO: implement hit-return-to-submit behavior with this: <input ng-keyup="$event.keyCode == 13 ? myFunc() : null" ...> from http://stackoverflow.com/questions/15417125/submit-form-on-pressing-enter-with-angularjs --\x3e<formly-form options="vm.options" model="vm.newComment" fields="vm.newCommentFields" ng-submit="vm.submit(vm.newComment, vm.options.resetModel())"></formly-form></form></div></div></div><div ng-switch-when="preview"><div class="row preview-block"><div class="col-xs-12"><div class="preview"><div ng-bind="vm.preview" ng-hide="vm.previewLoading">PREVIEW</div><div ng-bind-html="vm.previewText">Preview Text</div></div></div></div></div><div class="row comment-buttons"><div class="col-xs-8"><div class="markdown-prompt"><p>Use <button type="button" class="btn btn-default btn-xs" ng-click="vm.showMarkdownHelp = !vm.showMarkdownHelp"><span class="glyphicon" aria-hidden="true" ng-class="{ \'glyphicon-triangle-right\': vm.showMarkdownHelp === false, \'glyphicon-triangle-bottom\': vm.showMarkdownHelp === true}"></span> markdown</button> to add <strong>emphasis</strong>, <span style="font-style: oblique">styling</span>, images, and links to your comments.<br>Use @user and #ENTITY <button type="button" class="btn btn-default btn-xs" ng-click="vm.showMacroHelp = !vm.showMacroHelp"><span class="glyphicon" aria-hidden="true" ng-class="{ \'glyphicon-triangle-right\': vm.showMacroHelp === false, \'glyphicon-triangle-bottom\': vm.showMacroHelp === true}"></span> macros</button> to add links to specific users and entity summaries.</p></div></div><div class="col-xs-4"><div class="pull-right">\x3c!-- show org-select button if user is member of > 1 orgs --\x3e <span ng-switch="vm.currentUser.organizations.length > 1"><span ng-switch-when="true"><div class="btn-group org-select" uib-dropdown><button id="split-button" type="button" class="btn btn-default" ng-click="vm.submit(vm.newComment, vm.options.resetModel)" ng-disabled="vm.commentForm.$invalid || vm.isAuthenticated === false">Comment</button> <button type="button" class="btn btn-default" uib-dropdown-toggle ng-disabled="vm.commentForm.$invalid || vm.isAuthenticated === false">for <span class="avatar" uib-tooltip="{{vm.newComment.organization.name}}" tooltip-enable="!(vm.commentForm.$invalid || vm.isAuthenticated === false)"><img ng-src="{{vm.newComment.organization.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;<span class="caret"></span></button><ul class="dropdown-menu" uib-dropdown-menu role="menu"><li role="menuitem" ng-repeat="org in vm.currentUser.organizations" ng-class="{\'active\': org.id == vm.newComment.organization.id}"><a href ng-click="vm.switchOrg(org.id)"><span class="glyphicon glyphicon-ok" style="margin-left: -12px" ng-class="{\'glyphicon-hide\': org.id !== vm.newComment.organization.id}"></span> <span class="avatar"><img ng-src="{{org.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;{{org.name}}</a></li></ul></div></span><span ng-switch-default><button type="submit" class="btn btn-default" ng-disabled="vm.commentForm.$invalid || vm.isAuthenticated === false" ng-click="vm.submit(vm.newComment, vm.options.resetModel)">Comment</button></span></span></div></div></div><div class="row"><div class="col-xs-6" ng-show="vm.showMarkdownHelp"><div ng-include="\'app/views/events/common/entityCommentMarkdownHelp.tpl.html\'"></div></div><div class="col-xs-6" ng-show="vm.showMacroHelp" ng-class="{\'col-xs-offset-6\': !vm.showMarkdownHelp }"><div ng-include="\'app/views/events/common/entityCommentMacroHelp.tpl.html\'"></div></div></div></div></div><div ng-switch-default><div class="row"><div class="col-xs-12"><p><strong>Please Sign In to post comments.</strong></p></div></div></div></div>\x3c!--<hr/>--\x3e\x3c!--<h3>vm.commentForm</h3>--\x3e\x3c!--<pre ng-bind="vm.commentForm|json"></pre>--\x3e\x3c!--<hr/>--\x3e\x3c!--<h3>vm.commentFormFields</h3>--\x3e\x3c!--<pre ng-bind="vm.newCommentFields|json"></pre>--\x3e</div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/entityCommentMacroHelp.tpl.html","<div class=\"entityCommentMarkdownHelp\"><div class=\"row\"><div class=\"col-xs-12\"><h4 class=\"subtitle\">@username mention macro</h4><p>'@' followed by a user's display name will be displayed as a link to the user's profile page, and generate a notification to the mentioned user. This is useful for calling a user's attention to a particular comment.</p><p></p><h5>@ mention suggestions</h5><p></p>Type '@', and the first couple letters of a user's name, and CIViC will show you a dropdown menu of users with matching display names. Hit enter to insert an user mention link, which will display in the rendered comment as a link to the user's profile page, and generate a notification to the mentioned user.<p></p><pre><code class=\"markdown\">Hey @username, I've submitted a revision, could you check it out?\n</code></pre><h4 class=\"subtitle\">@admins and @editors mention macros</h4><p>Adding '@admin' or '@editor' to your message will generate a mention notification for all users with the admin or editor role, respectively.</p><pre><code class=\"markdown\">Hey @admins, could I please get someone to approve this new evidence item?\n</code></pre><h4 class=\"subtitle\">#ENTITY link macro</h4><p>'#' followed by an entity type abbreviation, and an entity ID will be displayed as a link to that entity's summary view.</p><pre><code class=\"markdown\">For example with #V123 we see the opposite effect.\n\n#V123    Variant link\n#G123    Gene link\n#E123    Evidence Item link\n#VG123   Variant Group link\n#R123    Revision link</code></pre><h5># entity link suggestions</h5><p>Type '#', followed by an entity type abbreviation, a colon and search string, and CIViC will show you a list of entities with matching names (or summaries, in the case of evidence items). For example, entering '#V:v600' will display a list of variants with 'V600' in the names; '#G:BR' will display a list of Genes with the string 'BR' in the name. Select an entity to insert an #ENTITY string for that entity.</p><h5>Macro suggestion prompts</h5><pre>#G:[string]    Search for a gene by name\n#V:[string]    Search for a variant by name\n#VG:[string]   Search for a variant group by name\n#E:[string]    Search for an evidence item by summary\n#R:[string]    Search for a revision by change contents </pre></div></div></div>")}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/entityCommentMarkdownHelp.tpl.html",'<div class="entityCommentMarkdownHelp"><div class="row"><div class="col-xs-12"><h4>Headers</h4><pre><code class="markdown"># This is an &lt;h1&gt; tag\n\n## This is an &lt;h2&gt; tag\n\n###### This is an &lt;h6&gt; tag\n</code></pre><h4>Emphasis</h4><pre><code class="markdown">*This text will be italic*\n_This will also be italic_\n\n**This text will be bold**\n__This will also be bold__\n\n*Italics and boldface **can be** combined*</code></pre><h4>Lists</h4><div style="width: 48%; float: left"><h5>Unordered</h5><pre><code class="markdown">* Item 1\n* Item 2\n* Item 2a\n* Item 2b\n* Item 3</code></pre></div><div style="width: 48%; float: right"><h5>Ordered</h5><pre><code class="markdown">1. Item 1\n2. Item 2\n3. Item 3\n* Item 3a\n* Item 3b</code></pre></div><h4>Images</h4><pre><code class="markdown">![this cool diagram](http://site.com/images/cool.png)\nFormat: ![Alt Text](url)</code></pre><h4>Links</h4><pre><code class="markdown">http://civic.genome.wustl.edu - automatic!\n[CIViC](http://civic.genome.wustl.edu)</code></pre><h4>Blockquotes</h4><pre><code class="markdown">As Charles Darwin said:\n\n&gt;It is not the strongest\n&gt;of the species that survive,\n&gt;nor the most intelligent,\n&gt;but the one most responsive to change.</code></pre><h4>Inline code</h4><pre><code>I think you should use an\n`&lt;addr&gt;` element here instead.</code></pre></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/entityLogEntry.tpl.html",'<div class="entityLogEntry"><div ng-switch="ctrl.entry.type">\x3c!-- REVISION ENTRY --\x3e<div ng-switch-when="revision"><div class="row"><div class="col-xs-12"><div class="title-block"><div class="user-image"><user-image user="ctrl.user" height="32" width="32"></user-image></div><div class="entry-title"><h4 class="title">Revision Submitted {{ctrl.entry.action|capitalize}}</h4><span class="small">&nbsp;by&nbsp; <strong><span ng-bind="ctrl.username">ctrl.username</span></strong> <span ng-bind="ctrl.entry.created_at | timeAgo">comment.created_at</span></span></div></div></div></div></div>\x3c!-- SUGGESTED REVISION ENTRY --\x3e<div ng-switch-when="history"><div class="row"><div class="col-xs-12"><div class="title-block"><div class="user-image"><user-image user="ctrl.user" height="32" width="32"></user-image></div><div class="entry-title"><h4 class="title">Revision Applied</h4><span class="small">&nbsp;by&nbsp; <strong><span ng-bind="ctrl.username">ctrl.username</span></strong> <span ng-bind="ctrl.entry.created_at | timeAgo">ctrl.entry.created_at</span></span></div></div></div></div></div>\x3c!-- COMMENT ENTRY --\x3e<div ng-switch-when="comment"><div class="row"><div class="col-xs-12"><div class="title-block"><div class="user-image"><user-image user="ctrl.user" height="32" width="32"></user-image></div><div class="entry-title"><h4 class="title">Comment Made<span ng-if="ctrl.entry.title.length> 0">:</span> {{ ctrl.entry.title }}</h4><span class="small">&nbsp;by&nbsp; <strong><span ng-bind="ctrl.username">ctrl.username</span></strong> <span ng-bind="ctrl.entry.created_at | timeAgo">ctrl.entry.created_at</span></span></div></div></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/entityTabs.tpl.html",'<div class="entityTabs"><a ng-attr-id="{{vm.anchorId}}"></a><div class="tab-row"><div class="row"><div class="col-xs-12 col-md-6 name"><span ng-include="\'entityTitle.tpl.html\'"></span></div><div class="col-xs-12 col-md-6 tabs {{ viewBackground }}"><uib-tabset class="tab-container" type="{{\'tabs\'}}" vertical="{{vertical}}" justified="{{justified}}"><uib-tab classes="tab" ng-repeat="tab in tabs" heading="{{tab.heading}}" active="tab.active" disable="tab.disabled" ng-click="go(tab)"></uib-tab></uib-tabset><div class="tab-info"><i uib-popover-template="\'settingsPopover.tpl.html\'" popover-trigger="\'outsideClick\'" popover-title="{{vm.type}} Settings" popover-placement="left" class="glyphicon glyphicon-cog"></i></div></div></div></div><div class="user-info-row"><div class="row {{viewBackground}}"><div class="col-xs-11"><ul class="actions-list"><li><action-block actions="vm.actions"></action-block></li></ul></div><div class="col-xs-1"><div ng-if="vm.pendingFields.length > 0" class="pending-notice"><span uib-tooltip-template="\'pendingTooltip.tpl.html\'" tooltip-placement="left" tooltip-append-to-body="true"><i class="glyphicon glyphicon-exclamation-sign pending-changes"></i></span></div></div></div></div></div><script type="text/ng-template" id="entityTitle.tpl.html"><h3 editable-field class="tab-name"\n    type="vm.type"\n    name="vm.name"\n    entity-view-model="entityViewModel"\n    entity-view-revisions="entityViewRevisions"\n    entity-view-options="entityViewOptions">\n    <span ng-bind="vm.type" class="entity-type">Entity</span>\n    <span ng-bind="vm.name" class="entity-name">Name</span>\n  </h3><\/script><script type="text/ng-template" id="pendingTooltip.tpl.html"><div>\n    This {{ vm.type.toLowerCase() }} has pending revisions to:\n    <ul>\n      <li ng-repeat="field in vm.pendingFields">{{ field | keyToLabel}}</li>\n    </ul>\n  </div><\/script><script type="text/ng-template" id="settingsPopover.tpl.html"><div class="settings-content">\n    <div class="row" >\n      <div class="col-xs-12" >\n        <div class="checkbox">\n          <label>\n            <input type="checkbox" ng-model="vm.hasSubscription" ng-change="vm.toggleSubscription(vm.subscription)">\n            <span uib-tooltip="If checked, you will receive notifications when users update or comment upon this {{vm.type|lowercase}}{{ vm.type !== \'EVIDENCE\' ?  \' or its child entities.\' : \'.\' }}">Receive notifications</span>\n          </label>\n        </div>\n      </div>\n    </div>\n    <div class="row" ng-if="vm.showRevertBtn" style="padding-top: 1em; border-top: 1px solid grey">\n      <div class="col-xs-12" >\n        <span ng-switch="vm.currentUser.organizations.length > 1">\n          <span ng-switch-when="true">\n            <div class="btn-group pull-right org-select" uib-dropdown>\n\n              <button id="split-button"\n                type="button"\n                class="btn btn-danger"\n                ng-click="vm.revert(vm.revertReqObj)">\n                Revert to Submitted\n              </button>\n\n              <button type="button" class="btn btn-danger" uib-dropdown-toggle>\n                for\n                <span class="avatar"\n                  uib-tooltip="{{vm.revertReqObj.organization.name}}">\n                  <img ng-src="{{vm.revertReqObj.organization.profile_image.x14}}" width="14" height="14"/>\n                </span>&nbsp;&nbsp;<span class="caret"></span>\n              </button>\n              <ul uib-dropdown-menu class="dropdown-menu" role="menu">\n                <li role="menuitem" ng-repeat="org in vm.currentUser.organizations"\n                  ng-class="{\'active\': org.id == vm.revertReqObj.organization.id}">\n                  <a href ng-click="vm.switchOrg(org.id)">\n                    <span class="glyphicon glyphicon-ok" style="margin-left: -12px"\n                      ng-class="{\'glyphicon-hide\': org.id !== vm.revertReqObj.organization.id}"></span>\n                    <span class="avatar">\n                      <img ng-src="{{org.profile_image.x14}}" width="14" height="14"/>\n                    </span>&nbsp;&nbsp;{{org.name}}\n                  </a>\n                </li>\n              </ul>\n            </div>\n          </span>\n          <span ng-switch-default>\n            <a class="btn btn-default btn-block btn-danger"\n              ng-click="vm.revert(vm.revertReqObj)">\n              Revert to Submitted\n            </a>\n          </span>\n        </span>\n      </div>\n      \x3c!-- <div class="button" >\n           <a ng-click="vm.revert(vm.revertReqObj)" class="btn btn-xs btn-danger btn-block">Revert to Submitted</a>\n           </div> --\x3e\n    </div>\n    <div class="row" ng-if="vm.showCoiNotice" style="padding-top: 1em; border-top: 1px solid grey">\n      <div class="col-xs-12" >\n        <a ui-sref="account.profile" class="btn btn-xs btn-block btn-danger">\n          <i class="glyphicon glyphicon-hand-up"></i>&nbsp;\n          Please Update COI Statement\n        </a>\n      </div>\n    </div>\n  </div><\/script>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/entityTalkRevisionsView.tpl.html",'<div class="entityTalkRevisionsView">\x3c!--<div class="row">--\x3e\x3c!--<div class="col-xs-12">--\x3e\x3c!--<pre ng-bind="entityModel.data.entity.name|json"></pre>--\x3e\x3c!--<pre ng-bind="entityModel.data.entity.description|json"></pre>--\x3e\x3c!--</div>--\x3e\x3c!--</div>--\x3e\x3c!--<div class="row">--\x3e\x3c!--<div class="col-xs-12">--\x3e\x3c!--<form>--\x3e\x3c!--<p>--\x3e\x3c!--entityView GENE NAME:--\x3e\x3c!--</p>--\x3e\x3c!--<p>--\x3e\x3c!--<input type="text" ng-model="entityModel.data.entity.name"/>--\x3e\x3c!--</p>--\x3e\x3c!--<p>--\x3e\x3c!--GENE DESCRIPTION:--\x3e\x3c!--</p>--\x3e\x3c!--<p>--\x3e\x3c!--<textarea ng-model="entityModel.data.entity.description">--\x3e\x3c!--</textarea>--\x3e\x3c!--</p>--\x3e\x3c!--</form>--\x3e\x3c!--</div>--\x3e\x3c!--</div>--\x3e\x3c!-- entityView --\x3e<div ng-transclude></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/entityTalkTabs.tpl.html",'<div class="entityTalkTabs"><div class="{{ tabRowBackground }}"><div class="row"><div class="col-xs-12 tabs {{ viewBackground }}"><uib-tabset class="tab-container" type="{{\'tabs\'}}" vertical="{{false}}" justified="{{false}}"><uib-tab class="tab" ng-repeat="tab in tabs" heading="{{tab.heading}}" active="tab.active" disable="tab.disabled" ng-click="go(tab)"></uib-tab></uib-tabset></div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/entityTalkView.tpl.html",'<div class="entityTalkView"><div ng-transclude></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){
e.put("app/views/events/common/entityUsersPopover.tpl.html",'<div class="entityUsersPopover"><span class="btn btn-xs btn-default" uib-popover-template="vm.usersPopover.templateUrl" popover-placement="left" popover-trigger="\'outsideClick\'" popover-title="{{vm.usersPopover.title}}"><i class="glyphicon glyphicon-user"></i></span></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/entityUsersPopoverTemplate.tpl.html",'<div class="entityUsersPopoverTemplate"><table class="table table-condensed borderless"><tbody><tr ng-repeat="(action, user) in vm.users"><td><strong>{{action | labelify}}</strong></td><td>{{user.timestamp | timeAgo}}</td><td><strong>by</strong> {{user.user.display_name}}</td></tr></tbody></table>\x3c!--<p ng-bind="vm.users.last_modified.user.username">username</p>--\x3e</div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/entityView.tpl.html",'<div class="entityView"><div ng-transclude></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/evidenceDirectionCell.tpl.html",'<div class="evidenceDirectionCell" style="{{ \'height:\' + row.height + \'px;\'}}" ng-class="col.colIndex()" uib-tooltip="{{row.entity[col.field]}}" tooltip-placement="left" tooltip-append-to-body="true"><span class="glyphicon" ng-class="{ \'glyphicon-thumbs-up\': row.entity[col.field] === \'Supports\',\n'+"    'glyphicon-thumbs-down': row.entity[col.field] === 'Does Not Support',\n    'glyphicon-remove-circle not-applicable': row.entity[col.field] === 'N/A' }\"></span></div>")}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/evidenceGrid.tpl.html",'<div class="evidenceGrid" ng-class="{ \'rounded\': rounded === true }"><div class="row"><div class="col-xs-8"><h4><span ng-switch="ctrl.context">\x3c!-- TODO: it would be better to pass in the title instead of adding a new condition for every context --\x3e <span ng-switch-when="summary">Evidence for {{ variant.name }}</span> <span ng-switch-when="variant_group_summary">All {{variant.name}} Variant Evidence</span> <span ng-switch-when="source_summary">Evidence Supported by {{ source.citation}}</span> <span ng-switch-when="search">Search Results</span> <span ng-switch-when="profile">Submitted Evidence Items</span> <span ng-switch-when="conflict">Existing Evidence Items</span> <span ng-switch-when="assertion">Evidence Supporting AID{{source.id}}</span> </span><span class="record-info"><span>{{ ctrl.gridApi.grid.rows.length }} total items</span> <span ng-if="ctrl.gridApi.grid.renderContainers.body.visibleRowCache.length !== ctrl.gridApi.grid.rows.length">(showing {{ctrl.gridApi.grid.renderContainers.body.visibleRowCache.length}})</span></span></h4></div><div class="col-xs-2 grid-button"><button class="btn btn-default btn-xs pull-right col-key btn-block" uib-popover-template="ctrl.exportPopover.templateUrl" popover-trigger="\'outsideClick\'" ng-disabled="ctrl.evidenceGridOptions.data.length < 1" popover-placement="bottom"><span class="glyphicon glyphicon-export" aria-hidden="true"></span> Get Data</button></div><div class="col-xs-2 grid-button"><button class="btn btn-default btn-xs pull-right col-key btn-block" ng-click="ctrl.showGridKey = !ctrl.showGridKey"><span class="glyphicon" aria-hidden="true" ng-class="{ \'glyphicon-triangle-right\': ctrl.showGridKey === false, \'glyphicon-triangle-bottom\': ctrl.showGridKey === true}"></span> Help</button></div></div><div class="row column-key" ng-show="ctrl.showGridKey"><div class="col-xs-12"><div ng-include="\'app/views/events/common/evidenceGridPopoverKey.tpl.html\'"></div></div></div><div class="row"><div class="col-xs-12"><div ui-grid="ctrl.evidenceGridOptions" ui-grid-cellnav ui-grid-auto-resize ui-grid-exporter ui-grid-selection></div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/evidenceGridClinicalSignificanceCell.tpl.html",'<div class="clinicalCell" style="{{ \'height:\' + row.height + \'px;\'}}" ng-class="col.colIndex()" tooltip-popup-delay="{{ctrl.tooltipPopupDelay}}" uib-tooltip="{{row.entity[col.field]}}" tooltip-placement="left" tooltip-append-to-body="true"><span class="glyphicon" ng-class="{ \'glyphicon-heart\': row.entity[col.field] === \'Sensitivity/Response\',\n'+"    'glyphicon-ban-circle': row.entity[col.field] === 'Resistance',\n    'glyphicon-arrow-up': row.entity[col.field] === 'Better Outcome',\n    'glyphicon-arrow-down': row.entity[col.field] === 'Poor Outcome',\n    'glyphicon-plus-sign': row.entity[col.field] === 'Positive',\n    'glyphicon-minus-sign': row.entity[col.field] === 'Negative',\n    'glyphicon-remove-circle not-applicable': row.entity[col.field] === 'N/A',\n    'glyphicon-fire' : row.entity[col.field] === 'Adverse Response',\n    'glyphicon-heart-empty' : row.entity[col.field] === 'Reduced Sensitivity',\n    'glyphicon-th' : row.entity[col.field] === 'Pathogenic',\n    'glyphicon-th-large' : row.entity[col.field] === 'Likely Pathogenic',\n    'glyphicon-align-justify' : row.entity[col.field] === 'Benign',\n    'glyphicon-align-center' : row.entity[col.field] === 'Likely Benign',\n    'glyphicon-question-sign' : row.entity[col.field] === 'Uncertain Significance',\n    'glyphicon-upload' : row.entity[col.field] === 'Gain of Function',\n    'glyphicon-download' : row.entity[col.field] === 'Loss of Function',\n    'glyphicon-resize-horizontal' : row.entity[col.field] === 'Unaltered Function',\n    'glyphicon-exclamation-sign' : row.entity[col.field] === 'Neomorphic',\n    'glyphicon-resize-full' : row.entity[col.field] === 'Dominant Negative',\n    'glyphicon-log-out' : row.entity[col.field] === 'Unknown',}\"></span></div>")}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/evidenceGridDiseaseCell.tpl.html",'<div class="diseaseCell ngCellText ui-grid-cell-contents" uib-tooltip="{{ COL_FIELD }}" tooltip-popup-delay="{{ctrl.tooltipPopupDelay}}" tooltip-placement="right" tooltip-append-to-body="true"><span search-highlighting="col" highlight-content="COL_FIELD">{{ COL_FIELD; CUSTOM_FILTERS }}</span></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/evidenceGridDrugCell.tpl.html","<div class=\"ngCellText ui-grid-cell-contents\" ng-class=\"col.colIndex()\" uib-tooltip=\"{{row.entity['drug_interaction_type'] ? row.entity[col.field] + ' (' + row.entity['drug_interaction_type'] + ')' : row.entity[col.field]  }}\" tooltip-popup-delay=\"{{ctrl.tooltipPopupDelay}}\" tooltip-placement=\"left\" tooltip-append-to-body=\"true\"><span search-highlighting=\"col\" highlight-content=\"row.entity['drug_interaction_type'] ? row.entity[col.field] + ' (' + row.entity['drug_interaction_type'] + ')' : row.entity[col.field]\">{{ row.entity['drug_interaction_type'] ? row.entity[col.field] + ' (' + row.entity['drug_interaction_type'] + ')' : row.entity[col.field] }}</span></div>")}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/evidenceGridDrugInteractionTypeCell.tpl.html","<div class=\"typeCell ngCellText\" style=\"{{ 'height:' + row.height + 'px;'}}\"><span ng-cell-text>{{ row.entity[col.field] }}</span></div>")}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/evidenceGridEvidenceCell.tpl.html",'<div class="typeCell ngCellText" style="{{ \'height:\' + row.height + \'px;\'}}" uib-tooltip="{{row.entity[col.field]}}" tooltip-popup-delay="{{ctrl.tooltipPopupDelay}}" tooltip-placement="left" tooltip-append-to-body="true"><span class="glyphicon glyphicon-align-left"></span></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/evidenceGridGeneCell.tpl.html",'<div class="ngCellText ui-grid-cell-contents" uib-tooltip="{{ COL_FIELD}}" tooltip-popup-delay="{{ctrl.tooltipPopupDelay}}" tooltip-placement="right" tooltip-append-to-body="true"><span search-highlighting="col" highlight-content="COL_FIELD">{{COL_FIELD; CUSTOM_FILTERS}}</span></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/evidenceGridIdCell.tpl.html","<div class=\"ngCellText idCell\" ng-class=\"col.colIndex()\" uib-tooltip=\"EID{{row.entity[col.field]}}: {{row.entity['status']|capitalize}}{{row.entity['open_change_count'] > 0 ? '; ' + row.entity['open_change_count'] + ' revisions pending' : ''}}\" tooltip-popup-delay=\"{{ctrl.tooltipPopupDelay}}\" tooltip-placement=\"right\" tooltip-append-to-body=\"true\"><span class=\"btn-block\" ng-class=\"{ 'statusAccepted': row.entity['status'] === 'accepted', 'statusSubmitted': row.entity['status'] === 'submitted', 'statusRejected': row.entity['status'] === 'rejected' }\"><i class=\"glyphicon glyphicon-exclamation-sign pending-alert pending-changes\" ng-if=\"row.entity['open_change_count'] > 0\"></i> {{ row.entity[col.field] }} <i class=\"glyphicon glyphicon-flag\" style=\"color: #942830\" ng-if=\"row.entity['flagged']\"></i></span></div>")}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/evidenceGridLevelCell.tpl.html","<div class=\"levelCell ngCellText\" uib-tooltip=\"{{grid.appScope.ctrl.evidenceLevels[row.entity[col.field]]}}\" tooltip-placement=\"left\" tooltip-append-to-body=\"true\"><span class=\"btn-block\" ng-class=\"{'levelA': row.entity[col.field] === 'A', 'levelB': row.entity[col.field] === 'B','levelC': row.entity[col.field] === 'C', 'levelD': row.entity[col.field] === 'D', 'levelE': row.entity[col.field] === 'E' }\">{{ row.entity[col.field] }}</span></div>")}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/evidenceGridPopoverKey.tpl.html",'<div class="popoverKey"><div class="row"><div class="col-xs-12 popover-description"><p>The Evidence Grid below lists all of the evidence items <span ng-switch="context"><span ng-switch-when="summary">for {{ variant.name }}\'s description. </span><span ng-switch-when="search">your search. </span><span ng-switch-when="profile">submitted by this user. </span><span ng-switch-when="conflict">depending on the same publication. </span></span>In order to condense all of the relevant details for each evidence item onto a single row, we\'ve abbreviated the column headers, and have used icons instead of text to indicate the values of various evidence item properties.</p><p>This key shows the meaning of the abbreviations and icons.</p><p>All of the table cells display their values in tooltips. For example, if you wish to read the entire description of an evidence item without clicking on it, or see what an icon means, hold the mouse pointer over the cell and its tooltip will be displayed.</p><p>The <span class="glyphicon glyphicon-remove-circle"></span> symbol means \'Not Applicable\' or \'Not Available\'.</p><p>To open an evidence item in a new tab, hold the Alt (Windows/Linux) or Command (Mac) key when clicking on a row.</p></div><div class="col-xs-6"><table class="table table-condensed column-key" style="border-right: 1px solid #CCC"><tr><th class="col-name">Column&nbsp;Abbreviation</th><th class="col-description">Column&nbsp;Description</th></tr><tr><td class="col-name">EID</td><td class="col-description"><span>Evidence ID Number</span><table class="table table-condensed symbol-key"><tr><td class="symbol levelCell"><span class="btn-block ng-binding statusSubmitted">&nbsp;&nbsp;</span></td><td class="symbol-description">Submitted</td></tr><tr><td class="symbol levelCell"><span class="btn-block ng-binding statusAccepted">&nbsp;&nbsp;</span></td><td class="symbol-description">Accepted</td></tr><tr><td class="symbol levelCell"><span class="btn-block ng-binding statusRejected">&nbsp;&nbsp;</span></td><td class="symbol-description">Rejected</td></tr><tr><td class="symbol levelCell"><span class="btn-block ng-binding" style="background-color: #DDD"><i class="glyphicon glyphicon-exclamation-sign pending-alert pending-changes"></i></span></td><td class="symbol-description">Has pending revisions</td></tr></table></td></tr><tr><td class="col-name">DESC</td><td class="col-description"><span>Evidence Description</span></td></tr><tr><td class="col-name">DIS</td><td class="col-description"><span>Disease</span></td></tr><tr><td class="col-name">DRUG</td><td class="col-description"><span>Drug(s)</span></td></tr><tr><td class="col-name">EL</td><td class="col-description"><span>Evidence Level</span><table class="table table-condensed symbol-key"><tr><td class="symbol levelCell"><span class="btn-block ng-binding levelA">A</span></td><td class="symbol-description">Validated</td></tr><tr><td class="symbol levelCell"><span class="btn-block ng-binding levelB">B</span></td><td class="symbol-description">Clinical</td></tr><tr><td class="symbol levelCell"><span class="btn-block ng-binding levelC">C</span></td><td class="symbol-description">Case Study</td></tr><tr><td class="symbol levelCell"><span class="btn-block ng-binding levelD">D</span></td><td class="symbol-description">Preclinical</td></tr><tr><td class="symbol levelCell"><span class="btn-block ng-binding levelE">E</span></td><td class="symbol-description">Inferential</td></tr></table></td></tr><tr><td class="col-name">ET</td><td class="col-description"><span>Evidence Type</span><table class="table table-condensed symbol-key"><tr><td class="symbol typeCell"><span class="glyphicon glyphicon-eye-open"></span></td><td class="symbol-description">Predictive</td></tr><tr><td class="symbol typeCell"><span class="glyphicon glyphicon-search"></span></td><td class="symbol-description">Diagnostic</td></tr><tr><td class="symbol typeCell"><span class="glyphicon glyphicon-road"></span></td><td class="symbol-description">Prognostic</td></tr><tr><td class="symbol typeCell"><span class="glyphicon glyphicon-alert"></span></td><td class="symbol-description">Predisposing</td></tr><tr><td class="symbol typeCell"><span class="glyphicon glyphicon-cog"></span></td><td class="symbol-description">Functional</td></tr><tr><td class="symbol typeCell"><span class="glyphicon glyphicon-certificate"></span></td><td class="symbol-description">Oncogenic</td></tr></table></td></tr><tr><td class="col-name">ED</td><td class="col-description"><span>Evidence Direction</span><table class="table table-condensed symbol-key"><tr><td class="symbol directionCell"><span class="glyphicon glyphicon-thumbs-up"></span></td><td class="symbol-description">Supports</td></tr><tr><td class="symbol directionCell"><span class="glyphicon glyphicon-thumbs-down"></span></td><td class="symbol-description">Does Not Support</td></tr></table></td></tr><tr><td class="col-name">VO</td><td class="col-description"><span>Variant Origin</span><table class="table table-condensed symbol-key"><tr><td class="symbol originCell"><span class="glyphicon glyphicon-option-vertical"></span></td><td class="symbol-description">Rare Germline</td></tr><tr><td class="symbol originCell"><span class="glyphicon glyphicon-option-horizontal"></span></td><td class="symbol-description">Somatic</td></tr><tr><td class="symbol originCell"><span class="glyphicon glyphicon-equalizer"></span></td><td class="symbol-description">Common Germline</td></tr><tr><td class="symbol originCell"><span class="glyphicon glyphicon-question-sign"></span></td><td class="symbol-description">Unknown</td></tr><tr><td class="symbol originCell"><span class="glyphicon glyphicon-remove-circle not-applicable"></span></td><td class="symbol-description">N/A</td></tr></table></td></tr></table></div><div class="col-xs-6"><table class="table table-condensed column-key"><tr><th class="col-name">Column&nbsp;Abbreviation</th><th class="col-description">Column&nbsp;Description</th></tr><tr><td class="col-name">CS</td><td class="col-description"><span>Clinical Significance</span><table class="table table-condensed symbol-key"><tr><td>&nbsp;</td><td class="icon-category">Predictive</td></tr><tr><td class="symbol clinicalCell"><span class="glyphicon glyphicon-heart"></span></td><td class="symbol-description">Sensitivity/Response</td></tr><tr><td class="symbol clinicalCell"><span class="glyphicon glyphicon-ban-circle"></span></td><td class="symbol-description">Resistance</td></tr><tr><td class="symbol clinicalCell"><span class="glyphicon glyphicon-fire"></span></td><td class="symbol-description">Adverse Response</td></tr><tr><td class="symbol clinicalCell"><span class="glyphicon glyphicon-heart-empty"></span></td><td class="symbol-description">Reduced Sensitivity</td></tr><tr><td>&nbsp;</td><td class="icon-category">Diagnostic</td></tr><tr><td class="symbol clinicalCell"><span class="glyphicon glyphicon-plus-sign"></span></td><td class="symbol-description">Positive</td></tr><tr><td class="symbol clinicalCell"><span class="glyphicon glyphicon-minus-sign"></span></td><td class="symbol-description">Negative</td></tr><tr><td>&nbsp;</td><td class="icon-category">Prognostic</td></tr><tr><td class="symbol clinicalCell"><span class="glyphicon glyphicon-arrow-up"></span></td><td class="symbol-description">Better Outcome</td></tr><tr><td class="symbol clinicalCell"><span class="glyphicon glyphicon-arrow-down"></span></td><td class="symbol-description">Poor Outcome</td></tr><tr><td>&nbsp;</td><td class="icon-category">Predisposing</td></tr><tr><td class="symbol clinicalCell"><span class="glyphicon glyphicon-th"></span></td><td class="symbol-description">Pathogenic</td></tr><tr><td class="symbol clinicalCell"><span class="glyphicon glyphicon-th-large"></span></td><td class="symbol-description">Likely Pathogenic</td></tr><tr><td class="symbol clinicalCell"><span class="glyphicon glyphicon-align-justify"></span></td><td class="symbol-description">Benign</td></tr><tr><td class="symbol clinicalCell"><span class="glyphicon glyphicon-align-center"></span></td><td class="symbol-description">Likely Benign</td></tr><tr><td class="symbol clinicalCell"><span class="glyphicon glyphicon-question-sign"></span></td><td class="symbol-description">Uncertain Significance</td></tr><tr><td>&nbsp;</td><td class="icon-category">Functional</td></tr><tr><td class="symbol clinicalCell"><span class="glyphicon glyphicon-upload"></span></td><td class="symbol-description">Gain of Function</td></tr><tr><td class="symbol clinicalCell"><span class="glyphicon glyphicon-download"></span></td><td class="symbol-description">Loss of Function</td></tr><tr><td class="symbol clinicalCell"><span class="glyphicon glyphicon-resize-horizontal"></span></td><td class="symbol-description">Unaltered Function</td></tr><tr><td class="symbol clinicalCell"><span class="glyphicon glyphicon-exclamation-sign"></span></td><td class="symbol-description">Neomorphic</td></tr><tr><td class="symbol clinicalCell"><span class="glyphicon glyphicon-resize-full"></span></td><td class="symbol-description">Dominant Negative</td></tr><tr><td class="symbol clinicalCell"><span class="glyphicon glyphicon-log-out"></span></td><td class="symbol-description">Unknown</td></tr><tr><td class="symbol clinicalCell"><span class="glyphicon glyphicon-remove-circle not-applicable"></span></td><td class="symbol-description">N/A</td></tr></table></td></tr><tr><td class="col-name">ER</td><td class="col-description"><span>Evidence Rating</span></td></tr></table></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/evidenceGridRatingCell.tpl.html",'<div class="ratingCell" ng-class="col.colIndex()"><div ng-switch="row.entity[col.field]"><div ng-switch-when="0"><span class="glyphicon glyphicon-remove-circle"></span></div><div ng-switch-default><span ng-bind="row.entity[col.field]"></span> <i class="glyphicon glyphicon-star"></i></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/evidenceGridRowTemplate.tpl.html","<div ng-repeat=\"(colRenderIndex, col) in colContainer.renderedColumns track by col.uid\" ui-grid-one-bind-id-grid=\"rowRenderIndex + '-' + col.uid + '-cell'\" class=\"ui-grid-cell\" ng-class=\"{ 'ui-grid-row-header-cell': col.isRowHeader }\" role=\"{{col.isRowHeader ? 'rowheader' : 'gridcell'}}\" ui-grid-cell></div>")}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/evidenceGridTooltipHeader.tpl.html",'<div role="columnheader" ng-class="{ \'sortable\': sortable }" ui-grid-one-bind-aria-labelledby-grid="col.uid + \'-header-text \' + col.uid + \'-sortdir-text\'" aria-sort="{{col.sort.direction == asc ? \'ascending\' : ( col.sort.direction == desc ? \'descending\' : (!col.sort.direction ? \'none\' : \'other\'))}}"><div role="button" tabindex="0" class="ui-grid-cell-contents ui-grid-header-cell-primary-focus" col-index="renderIndex" title="TOOLTIP"><span class="ui-grid-header-cell-label" ui-grid-one-bind-id-grid="col.uid + \'-header-text\'" uib-tooltip="{{col.headerTooltip(col)}}" tooltip-placement="top" tooltip-append-to-body="true">{{ col.displayName }} </span><span ui-grid-one-bind-id-grid="col.uid + \'-sortdir-text\'" ui-grid-visible="col.sort.direction" aria-label="{{getSortDirectionAriaLabel()}}"><i ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }" title="{{col.sort.priority ? i18n.headerCell.priority + \' \' + col.sort.priority : null}}" aria-hidden="true"></i> <sub class="ui-grid-sort-priority-number">{{col.sort.priority}}</sub></span></div><div role="button" tabindex="0" ui-grid-one-bind-id-grid="col.uid + \'-menu-button\'" class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}" ui-grid-one-bind-aria-label="i18n.headerCell.aria.columnMenuButtonLabel" aria-haspopup="true"><i class="ui-grid-icon-angle-down" aria-hidden="true">&nbsp;</i></div><div ui-grid-filter></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/evidenceGridTypeCell.tpl.html",'<div class="typeCell ngCellText" style="{{ \'height:\' + row.height + \'px;\'}}" ng-class="col.colIndex()" uib-tooltip="{{row.entity[col.field]}}" tooltip-popup-delay="{{ctrl.tooltipPopupDelay}}" tooltip-placement="left" tooltip-append-to-body="true"><span class="glyphicon" ng-class="{ \n'+"      'glyphicon-eye-open': row.entity[col.field] === 'Predictive',\n      'glyphicon-search': row.entity[col.field] === 'Diagnostic',\n      'glyphicon-road': row.entity[col.field] === 'Prognostic',\n      'glyphicon-alert': row.entity[col.field] === 'Predisposing',\n      'glyphicon-cog': row.entity[col.field] === 'Functional',\n      'glyphicon-certificate': row.entity[col.field] === 'Oncogenic'\n      }\"></span></div>")}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/evidenceGridVariantCell.tpl.html",'<div class="ngCellText ui-grid-cell-contents" uib-tooltip="{{ COL_FIELD}}" tooltip-popup-delay="{{ctrl.tooltipPopupDelay}}" tooltip-placement="right" tooltip-append-to-body="true"><span search-highlighting="col" highlight-content="COL_FIELD">{{COL_FIELD; CUSTOM_FILTERS}}</span></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/evidenceGridVariantOriginCell.tpl.html","<div class=\"variantOriginCell originCell\" style=\"{{ 'height:' + row.height + 'px;'}}\" ng-class=\"col.colIndex()\" uib-tooltip=\"{{row.entity[col.field]}}\" tooltip-popup-delay=\"{{ctrl.tooltipPopupDelay}}\" tooltip-placement=\"left\" tooltip-append-to-body=\"true\"><span class=\"glyphicon\" ng-class=\"{ 'glyphicon-option-vertical': row.entity[col.field] === 'Rare Germline', 'glyphicon-option-horizontal': row.entity[col.field] === 'Somatic', 'glyphicon-equalizer': row.entity[col.field] === 'Common Germline', 'glyphicon-question-sign': row.entity[col.field] === 'Unknown', 'glyphicon-remove-circle not-applicable': row.entity[col.field] === 'N/A' || row.entity[col.field] === null }\"></span></div>")}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/genericHighlightCell.tpl.html",'<div search-highlighting="col" highlight-content="row.entity[col.field]" class="ui-grid-cell-contents"></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/gridExportPopover.tpl.html",'<div class="evidenceGridExport"><div class="form-inline"><div class="controls-row"><label class="radio inline control-label">Include:</label><br><div class="form-group"><label class="radio inline"><input type="radio" ng-model="ctrl.exportPopover.include" value="all"> All Rows</label><br><label class="radio inline"><input type="radio" ng-model="ctrl.exportPopover.include" value="filtered"> Filtered Rows</label></div></div><label class="radio inline control-label">Filetype:</label><br><div class="form-group"><label class="radio inline"><input type="radio" ng-model="ctrl.exportPopover.type" value="csv"> CSV</label><br>\x3c!--<label class="radio inline">--\x3e\x3c!--<input type="radio" ng-model="ctrl.exportPopover.type" value="pdf" /> PDF--\x3e\x3c!--</label>--\x3e</div></div><button class="btn btn-default btn-xs btn-block" ng-click="ctrl.exportData()"><span class="glyphicon glyphicon-save" aria-hidden="true"></span> Download <span ng-bind="ctrl.exportPopover.type.toUpperCase()">File</span></button></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/revisionsGrid.tpl.html",'<div class="revisionsGrid"><span class="record-info"><span>{{ ctrl.gridApi.grid.rows.length }} total revisions</span> <span ng-if="ctrl.gridApi.grid.renderContainers.body.visibleRowCache.length !== ctrl.gridApi.grid.rows.length">(showing {{ctrl.gridApi.grid.renderContainers.body.visibleRowCache.length}})</span></span><div ui-grid="ctrl.revisionsGridOptions" ui-grid-cellnav ui-grid-auto-resize ui-grid-selection></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/revisionsGridCreatedCell.tpl.html",'<div class="ngCellText" ng-class="col.colIndex()" uib-tooltip="{{row.entity[col.field]}}" tooltip-append-to-body="true"><div class="ui-grid-cell-contents">{{ row.entity[col.field] | timeAgo}}</div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/suggest/source/evidenceDuplicateWarning.tpl.html",'<div class="row" ng-show="vm.duplicates.length > 0"><div class="col-xs-offset-1 col-xs-10"><div class="alert alert-warning"><p>Evidence items already exist that use <em ng-bind="pubmedField.templateOptions.data.description">this publication</em> to support a clinical interpretation of a mutation in {{model.suggestion.gene.name}} {{model.suggestion.variant.name}} related to {{model.suggestion.disease.name}}. Please check the following evidence items to ensure that your intended contribution does not replicate the efforts of other curators:</p><evidence-grid style="background-color: white;border-radius: 8px;margin-top: 1em; padding: .5em" evidence="vm.duplicates" variant="model.variant.name" show-gene-col="false" show-variant-col="false" rounded="true" context="\'conflict\'" rows="3"></evidence-grid></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){
e.put("app/views/suggest/source/suggestSource.tpl.html",'<div class="suggestSource"><div class="title-row"><div class="row"><div class="col-xs-12"><div class="name"><h3><a name="top" id="top" style="text-decoration: none; color: inherit">Suggest Source</a></h3></div></div></div></div><div ng-if="vm.showForm"><div class="row instructions"><div class="col-xs-12"><p>If you have a source publication that you believe to contain research relevant to CIViC\'s curation efforts, the community would appreciate your input! Please specify as many details as you can using the form below (only the Pubmed ID and Comment are required). Your suggested source will be placed in the <a ui-sref="curation.sources">source curation queue</a>, and you will be given a suggestion credit if your suggestion results in a new Evidence Item added to the CIViC database.</p></div></div><div class="row" ng-if="vm.error.status"><div class="col-xs-12"><div class="alert alert-danger"><p><strong>Error: {{ vm.error.status }}:</strong> {{vm.error.statusText}} <span ng-if="vm.error.status === 409"><br>This source suggetion appears to conflict with a previously submitted suggestion. <a ng-href="/sources/{{ vm.error.data.id }}/summary">Visit the conflicting source page</a> to view the conflicting source\'s details and add further comments.</span></p></div></div></div><div class="row"><div class="col-xs-12"><form class="form-horizontal" name="vm.form" novalidate><formly-form options="vm.formOptions" model="vm.newSuggestion" fields="vm.suggestionFields"></formly-form></form></div></div><div class="row"><div class="col-xs-5 col-xs-offset-2"><div class="buttons"><div class="pull-left"><cancel-button></cancel-button></div><div class="pull-right"><span ng-switch="vm.currentUser.organizations.length > 1"><span ng-switch-when="true"><div class="btn-group org-select" uib-dropdown><button id="split-button" type="button" class="btn btn-default" ng-click="vm.submit(vm.newSuggestion, vm.options)" ng-disabled="vm.form.$invalid || !vm.isAuthenticated">Submit Source</button> <button type="button" class="btn btn-default" uib-dropdown-toggle ng-disabled="vm.form.$invalid || !vm.isAuthenticated">for <span class="avatar" uib-tooltip="{{vm.newSuggestion.organization.name}}" tooltip-enable="!(vm.form.$invalid || vm.isAuthenticated === false)"><img ng-src="{{vm.actionOrg.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;<span class="caret"></span></button><ul class="dropdown-menu" uib-dropdown-menu role="menu"><li role="menuitem" ng-repeat="org in vm.currentUser.organizations" ng-class="{\'active\': org.id == vm.actionOrg.id}"><a href ng-click="vm.switchOrg(org.id)"><span class="glyphicon glyphicon-ok" style="margin-left: -12px" ng-class="{\'glyphicon-hide\': org.id !== vm.actionOrg.id}"></span> <span class="avatar"><img ng-src="{{org.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;{{org.name}}</a></li></ul></div></span><span ng-switch-default><button type="submit" class="btn btn-default" ng-disabled="!vm.isAuthenticated || vm.form.$invalid" ng-click="vm.submit(vm.newSuggestion)">Submit Source</button></span></span></div></div></div></div><div class="row" ng-if="vm.form.$invalid" style="margin-top: 1em"><div class="col-xs-5 col-xs-offset-2"><div class="alert alert-info">The Submit button is disabled because the Suggest Source form is incomplete or contains errors. Please ensure that all required fields (marked with an *) are completed and error free.</div></div></div></div><div class="successMessage" ng-if="vm.showSuccessMessage"><div class="col-xs-12 jumbotron"><h1>Thank you.</h1><p>Your suggested source has been added to the source curation queue.</p><p><a ui-sref="sources.summary({sourceId: {{vm.newSourceId}} })">View it here</a>, <a ui-sref="curation.sources">view the Source Curation Queue</a> &nbsp;or&nbsp; <a ui-sref="suggest.source" ui-sref-opts="{reload:true, inherit: true}" class="btn btn-small btn-default">Suggest Another Source</a></p></div></div>\x3c!-- <div class="row" style="margin-top: 3em;">\n       <div class="col-xs-6">\n       <p>vm.newSuggestion</p>\n       <pre ng-bind="vm.newSuggestion|json"></pre>\n       </div>\n       <div class="col-xs-6">\n       <p>Form:</p>\n       <pre ng-bind="vm.suggestionFields|json"></pre>\n       </div>\n       </div> --\x3e</div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/users/common/userSummary.tpl.html",'<div class="userSummary"><div class="row"><div class="col-xs-12 col-sm-5 col-lg-3"><div class="card-block"><user-card user="user"></user-card></div><div ng-if="vm.currentUser.id === user.id" style="margin-top: 1em"><a ui-sref="account.profile" class="btn btn-default btn-block btn-sm">Edit Your Profile</a></div></div><div class="col-xs-12 col-sm-7 col-lg-9"><div class="row"><div class="col-xs-7"><div class="info-block"><table class="table-info"><tr><td class="key">Role:</td><td class="value">{{user.role|ifEmpty: \'--\'}}</td></tr><tr><td class="key">Username:</td><td class="value">{{user.username|ifEmpty: \'--\'}}</td></tr><tr><td class="key">Name:</td><td class="value">{{user.name|ifEmpty: \'--\'}}</td></tr><tr><td class="key">Area of Expertise:</td><td class="value">{{user.area_of_expertise|ifEmpty: \'--\'}}</td></tr><tr><td class="key"><span ng-if="user.organizations.length > 1 && user.most_recent_organization != undefined"><i class="glyphicon glyphicon-info-sign" style="color: #ffdd22" uib-tooltip="Curators may choose their active organization when performing moderation actions, if they are members of more than one organization."></i>&nbsp;</span>Organization<span ng-if="user.organizations.length > 1">s</span>:</td><td class="value"><span ng-switch="user.organizations.length > 0">\x3c!-- org list --\x3e <span ng-switch-when="true"><span ng-repeat="org in user.organizations"><div style="display: inline-block; margin-bottom: 4px"><span uib-tooltip="at {{org.parent.name}}" tooltip-append-to-body="true" tooltip-enable="org.parent.name != undefined"><organization-block organization="org" highlight="org.id === user.most_recent_organization.id && user.organizations.length > 1"></organization-block></span></div></span></span>\x3c!-- no org obj --\x3e <span ng-switch-when="false">--</span></span></td></tr><tr><td class="key">Country:</td><td class="value">{{user.country.name | ifEmpty: \'--\'}}</td></tr><tr ng-if="user.bio.length > 0"><td colspan="2"><p><span class="key">Biography:</span><br>{{user.bio|ifEmpty: \'--\'}}</p></td></tr></table></div></div><div class="col-xs-5"><div class="info-block"><table class="table-info"><tr><td class="key">Comments:</td><td class="value">{{vm.stats.comments}}</td></tr><tr><td class="key">Suggested Revisions:</td><td class="value">{{vm.stats.suggested_changes}}</td></tr><tr><td class="key">Applied Revisions:</td><td class="value">{{vm.stats.applied_changes}}</td></tr><tr><td class="key">Submitted Evidence:</td><td class="value">{{vm.stats.submitted_evidence_items}}</td></tr><tr><td class="key">Accepted Evidence:</td><td class="value">{{vm.stats.accepted_evidence_items}}</td></tr><tr><td class="key">Submitted Assertions:</td><td class="value">{{vm.stats.submitted_assertions}}</td></tr><tr><td class="key">Accepted Assertions:</td><td class="value">{{vm.stats.accepted_assertions}}</td></tr><tr><td class="key">Suggested Sources:</td><td class="value">{{vm.stats.suggested_sources}}</td></tr></table></div></div></div><div ng-if="vm.showCoi"><div class="row"><div class="col-xs-12"><h5 style="color: #CCC; margin-top: 0px">Editor\'s Conflict of Interest Statement</h5></div></div><div class="row"><div class="col-xs-12"><div class="well" style="margin-bottom: 0; padding-bottom: 12px"><div class="row"><div class="col-sm-2" style="text-align: right"><strong>Status:</strong></div><div class="col-sm-2"><span ng-switch="user.conflict_of_interest.coi_valid"><span ng-switch-when="expired"><i class="badge" style="background-color: #dc3545">EXPIRED</i> </span><span ng-switch-when="missing"><i class="badge" style="background-color: #dc3545">MISSING</i> </span><span ng-switch-when="conflict"><i class="badge" style="color: #473814; background-color: #ffc107">CONFLICT</i> </span><span ng-switch-when="valid"><i class="badge" style="background-color: #28a745">VALID</i></span></span></div><div class="col-sm-4" ng-if="user.conflict_of_interest.details.created_at"><strong>Created:</strong> {{user.conflict_of_interest.details.created_at | date: shortDate }}</div><div class="col-sm-4" ng-if="user.conflict_of_interest.details.expires_at"><strong>Expires:</strong> {{user.conflict_of_interest.details.expires_at | date: shortDate }}</div></div><div ng-if="vm.showCoiNotice" style="margin-top: 16px"><a ui-sref="account.profile" class="btn btn-danger btn-block btn-xs"><i class="glyphicon glyphicon-hand-up"></i>&nbsp; Please update your Conflict of Interest statement to perform moderation.</a></div><div class="row" ng-if="user.conflict_of_interest.coi_valid !== \'missing\'" style="padding-top: 8px"><div class="col-sm-2" style="text-align: right"><strong>Statement:</strong></div><div class="col-sm-10"><span ng-switch="user.conflict_of_interest.coi_valid"><span ng-switch-when="conflict">I do have a potential conflict of interest:<br><p style="margin-bottom: 0"><i>{{user.conflict_of_interest.details.coi_statement}}</i></p></span><span ng-switch-default>I do not have any potential conflicts of interest.</span></span></div></div></div></div></div></div></div></div><div class="row" ng-if="user.trophy_case.badges.length > 0"><div class="col-xs-12"><h5 class="sub-title">Badges:</h5><div class="info-block" style="padding-bottom: 10px"><span ng-repeat="badge in user.trophy_case.badges"><trophy-badge badge="badge"></trophy-badge></span></div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/users/profile/profile.tpl.html",'<div class="profile"><div class="row"><div class="col-xs-12"><div class="summary"><user-summary user="vm.user"></user-summary></div></div></div><div ng-if="vm.evidence.length > 0"><div class="row"><div class="col-xs-12 evidence-table-block"><evidence-grid evidence="vm.evidence" show-gene-col="true" show-variant-col="true" rows="10" context="\'profile\'" rounded="true"></evidence-grid></div></div></div><div class="row col-headers" style="margin-top: 1em"><div class="col-xs-12"><h4>User Activity</h4></div></div><div class="row"><div class="col-xs-12 events-block"><div ng-switch="vm.events.length > 0"><div ng-switch-when="true"><activity-grid entity="\'user\'" id="vm.user.id"></activity-grid></div><div ng-switch-when="false"><p>User has not generated any CIViC events.</p></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/account/notifications/components/notification.tpl.html",'<div class="notification" ng-class="{unlinkable: notification.event.unlinkable}"><div class="content" ng-click="vm.eventClick(notification)" ng-class="{ hover: mouseover, dark: theme === \'dark\', light: theme === \'light\', unread: vm.read === false }" ng-mouseover="notification.event.unlinkable ? mouseover=false : mouseover=true" ng-mouseleave="mouseover=false"><div class="user-time"><span ng-switch="notification.type"><span ng-switch-when="mention"><user-block user="notification.originating_user"></user-block>&nbsp;<span ng-bind="notification.event.timestamp|timeAgo">time ago</span> </span><span ng-switch-default><user-block user="notification.event.user"></user-block>&nbsp;<span ng-bind="notification.event.timestamp|timeAgo">time ago</span></span></span><br></div><div class="entity">\x3c!-- preposition, if necessary --\x3e <span ng-switch="notification.event.event_type"><span ng-switch-when="commented">&nbsp;commented on</span> <span ng-switch-when="flagged">&nbsp;flagged</span> <span ng-switch-when="flag resolved">&nbsp;resolved flagged on</span> <span ng-switch-when="submitted">&nbsp;submitted</span> <span ng-switch-when="assertion submitted">&nbsp;submitted</span> <span ng-switch-when="assertion rejected">&nbsp;rejected</span> <span ng-switch-when="assertion accepted">&nbsp;accepted</span> <span ng-switch-when="accepted">&nbsp;accepted</span> <span ng-switch-when="rejected">&nbsp;rejected</span> <span ng-switch-when="change suggested">&nbsp;suggested a revision to</span> <span ng-switch-when="change accepted">&nbsp;accepted a revision to</span> <span ng-switch-when="change rejected">&nbsp;rejected a revision to</span> <span ng-switch-when="publication suggested">&nbsp;suggested </span><span ng-switch-default></span> </span><span ng-switch="notification.event.subject_type"><span ng-switch-when="assertions"><span class="subject-type">assertion</span> </span><span ng-switch-when="genes"><span class="subject-type">gene</span> </span><span ng-switch-when="variants"><span class="subject-type">variant</span> </span><span ng-switch-when="variantgroups"><span class="subject-type">variant group</span> </span><span ng-switch-when="evidenceitems"><span class="subject-type">evidence item</span> </span><span ng-switch-when="suggestedchanges"><span class="subject-type">a suggested revision to</span> </span></span><strong><span ng-bind="vm.entityName">GENE / VARIANT / EVIDENCE</span> </strong><span ng-show="notification.event.unlinkable" class="small"><em>(entity unlinkable, no longer exists)</em></span></div></div><a class="mark-as-seen btn btn-xs btn-primary" ng-click="vm.markAsRead()" ng-hide="notification.seen">Mark As Read</a> <a class="mark-as-seen btn btn-xs btn-default" ng-click="vm.markAsUnread()" ng-show="notification.seen">Mark As Unread</a></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/curation/flags/directives/flagsGrid.tpl.html",'<div class="flagsGrid"><div class="row"><div class="col-xs-12"><div ui-grid="ctrl.gridOptions" ui-grid-pagination ui-grid-auto-resize></div></div></div><div class="row"><div class="col-xs-12 text-center grid-pagination"><ul uib-pagination ng-if="ctrl.totalItems" class="pagination-sm" ng-change="ctrl.pageChanged()" ng-model="ctrl.page" items-per-page="ctrl.maxRows" max-size="15" boundary-links="true" rotate="false" align="true" total-items="ctrl.totalItems" direction-links="true"></ul><p class="page-info small">{{ ctrl.totalItems }} {{ ctrl.isFiltered ? "filtered" : "total" }} {{ ctrl.browseMode }} &nbsp;&nbsp;&nbsp;&nbsp; Page {{ ctrl.page }} of {{ ctrl.totalPages }}</p></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/assertions/edit/AssertionEditView.tpl.html",'<div class="AssertionEditView"><entity-edit-view view-model="vm.AssertionEditViewModel" view-options="vm.AssertionsTalkViewOptions"><div class="row"><div class="col-xs-12"><assertion-summary></assertion-summary></div></div><div class="row entity-talk-content {{ vm.AssertionEditViewOptions.styles.view.talkBackgroundColor }}"><div class="col-xs-12"><ui-view></ui-view></div></div></entity-edit-view></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/assertions/edit/assertionEdit.tpl.html",'<div class="assertionEdit{{ vm.styles.edit.editBackgroundColor }}" id="assertion-edit"><div class="row form-header" id="assertion-edit-form"><div class="stripes-bg"><div class="col-xs-12 name"><h3>EDIT ASSERTION <span ng-bind="vm.assertion.name">NAME</span></h3></div></div></div><div class="row" ng-if="vm.showInstructions"><div class="col-xs-12"><div class="edit-instructions"><p>Complete your edits, then click the \'Submit Revision for Review\' button.</p></div></div></div><div class="row" ng-if="vm.pendingFields"><div class="col-xs-12"><div class="edit-warning"><p>This Assertion has pending revisions to the following fields:</p><ul class="field-list"><li ng-repeat="field in vm.pendingFieldsList">{{ field | keyToLabel }}</li></ul><p>Please <a href="" ng-click="vm.revisionsClick()" style="text-decoration: underline; font-weight: bold">review all pending revisions</a> in order to prevent conflicting submissions.</p></div></div></div><div class="row"><div class="col-xs-12"><div ng-messages="vm.formMessages" class="edit-messages"><div ng-message="submitSuccess"><div class="alert alert-success"><strong class="status">Success</strong> - <span class="message">Your revision was successfully submitted.</span></div></div><div ng-message="applySuccess"><div class="alert alert-success"><strong class="status">Success</strong> - <span class="message">Your revision was successfully applied.</span></div></div></div></div></div><div ng-if="vm.showForm"><div class="row edit-form"><div class="col-xs-12"><form class="form-horizontal" name="vm.form" autocomplete="off"><formly-form options="vm.options" model="vm.assertionEdit" fields="vm.assertionFields"></formly-form></form></div></div><div class="row"><div class="col-xs-5 col-xs-offset-2"><div class="buttons"><div class="pull-left"><cancel-button></cancel-button></div><div class="pull-right">\x3c!-- show org-select button if user is member of > 1 orgs --\x3e <span ng-switch="vm.currentUser.organizations.length > 1"><span ng-switch-when="true"><div class="btn-group org-select" uib-dropdown><button id="split-button" type="button" class="btn btn-default" ng-click="vm.submit(vm.assertionEdit, vm.options)" ng-disabled="vm.form.$invalid || vm.isAuthenticated === false">Submit Revision</button> <button type="button" class="btn btn-default" uib-dropdown-toggle ng-disabled="vm.form.$invalid || vm.isAuthenticated === false">for <span class="avatar" uib-tooltip="{{vm.assertionEdit.organization.name}}" tooltip-enable="!(vm.form.$invalid || vm.isAuthenticated === false)"><img ng-src="{{vm.assertionEdit.organization.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;<span class="caret"></span></button><ul class="dropdown-menu" uib-dropdown-menu role="menu"><li role="menuitem" ng-repeat="org in vm.currentUser.organizations" ng-class="{\'active\': org.id == vm.assertionEdit.organization.id}"><a href ng-click="vm.switchOrg(org.id)"><span class="glyphicon glyphicon-ok" style="margin-left: -12px" ng-class="{\'glyphicon-hide\': org.id !== vm.assertionEdit.organization.id}"></span> <span class="avatar"><img ng-src="{{org.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;{{org.name}}</a></li></ul></div></span><span ng-switch-default><button type="submit" class="btn btn-default" ng-disabled="vm.form.$invalid || vm.isAuthenticated === false" ng-click="vm.submit(vm.assertionEdit, vm.options)">Submit Revision</button></span></span></div></div></div></div><div class="row" ng-if="vm.serverError"><div class="col-xs-10 col-xs-offset-2 server-error-message"><div class="alert alert-danger"><strong class="status">{{vm.serverErrorStatus}} <span ng-bind="vm.serverErrorStatusTxt" class="message">error msg</span> </strong>- <span ng-bind="vm.serverErrorPrompt">error prompt</span> <span class="error-message"><ul><li ng-repeat="message in vm.serverErrorMessages">{{message}}</li></ul></span></div></div></div></div><div class="successMessage" ng-if="vm.showSuccessMessage"><div class="col-xs-12 jumbotron"><h1>Thank you.</h1><p>Your suggested revision for Assertion {{ vm.assertion.name }} has been submitted for review.</p><p><a ng-href="/events/assertions/{{vm.assertion.id}}/talk/revisions/list/{{vm.newRevisionId}}/summary" class="btn btn-small btn-default">View it here</a></p></div></div>\x3c!-- <div class="row"> --\x3e\x3c!-- <div class="col-xs-6"> --\x3e\x3c!-- <h4>Assertion</h4> --\x3e\x3c!-- <pre ng-bind="vm.assertion | json"></pre> --\x3e\x3c!-- </div> --\x3e\x3c!-- <div class="col-xs-6"> --\x3e\x3c!-- <h4>vm.assertionFields</h4> --\x3e\x3c!-- <pre ng-bind="vm.assertionFields | json"></pre> --\x3e\x3c!-- </div> --\x3e\x3c!-- </div> --\x3e</div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/assertions/summary/assertionsSummary.tpl.html","<assertion-summary></assertion-summary>")}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/evidence/edit/EvidenceEditView.tpl.html",'<div class="EvidenceEditView"><entity-edit-view view-model="vm.EvidenceEditViewModel" revisions-model="vm.EvidenceRevisionsModel" view-options="vm.EvidenceTalkViewOptions"><div class="row"><div class="col-xs-12"><evidence-summary></evidence-summary></div></div><div class="row entity-talk-content {{ vm.EvidenceEditViewOptions.styles.view.talkBackgroundColor }}"><div class="col-xs-12"><ui-view></ui-view></div></div></entity-edit-view></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/evidence/edit/evidenceEditBasic.tpl.html",'<div class="evidenceEditBasic {{ vm.styles.edit.editBackgroundColor }}" id="evidence-edit-basic"><div class="row form-header" id="evidence-edit-form"><div class="stripes-bg"><div class="col-xs-12 name"><h3>EDIT EVIDENCE ITEM <span ng-bind="vm.evidence.name">NAME</span></h3></div></div></div><div class="row" ng-if="vm.showInstructions"><div class="col-xs-12"><div class="edit-instructions"><p>Complete your edits, then click the \'Submit Revision for Review\' button.</p></div></div></div><div class="row" ng-if="vm.pendingFields"><div class="col-xs-12"><div class="edit-warning"><p>This Evidence Item has pending revisions to the following fields:</p><ul class="field-list"><li ng-repeat="field in vm.pendingFieldsList">{{ field | keyToLabel }}</li></ul><p>Please <a href="" ng-click="vm.revisionsClick()" style="text-decoration: underline; font-weight: bold">review all pending revisions</a> in order to prevent conflicting submissions.</p></div></div></div><div class="row"><div class="col-xs-12"><div ng-messages="vm.formErrors" class="edit-errors"><div ng-message="500"><div class="alert alert-danger"><strong class="status">500 <span ng-bind="vm.errorMessages[\'500\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'500\']">error prompt</span> <span class="server-message">{{ vm.serverMsg }}</span></div></div><div ng-message="401"><div class="alert alert-danger"><strong class="status">401 <span ng-bind="vm.errorMessages[\'401\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'401\']">error prompt</span> <span class="server-message">{{ vm.serverMsg }}</span></div></div><div ng-message="403"><div class="alert alert-danger"><strong class="status">403 <span ng-bind="vm.errorMessages[\'403\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'403\']">error prompt</span> <span class="server-message">{{ vm.serverMsg }}</span></div></div><div ng-message="409"><div class="alert alert-danger"><strong class="status">409 <span ng-bind="vm.errorMessages[\'409\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'409\']">error prompt</span> <span class="server-message">{{ vm.serverMsg }}</span></div></div></div></div></div><div class="row"><div class="col-xs-12"><div ng-messages="vm.formMessages" class="edit-messages"><div ng-message="submitSuccess"><div class="alert alert-success"><strong class="status">Success</strong> - <span class="message">Your revision was successfully submitted.</span></div></div><div ng-message="applySuccess"><div class="alert alert-success"><strong class="status">Success</strong> - <span class="message">Your revision was successfully applied.</span></div></div></div></div></div><div ng-if="vm.showForm"><div class="row edit-form"><div class="col-xs-12"><form class="form-horizontal" name="vm.form" novalidate><formly-form options="vm.options" model="vm.evidenceEdit" fields="vm.evidenceFields"></formly-form></form></div></div><div class="row"><div class="col-xs-5 col-xs-offset-2"><div class="buttons"><div class="pull-left"><cancel-button></cancel-button></div><div class="pull-right">\x3c!-- show org-select button if user is member of > 1 orgs --\x3e <span ng-switch="vm.currentUser.organizations.length > 1"><span ng-switch-when="true"><div class="btn-group org-select" uib-dropdown><button id="split-button" type="button" class="btn btn-default" ng-click="vm.submit(vm.evidenceEdit, vm.options)" ng-disabled="vm.form.$invalid || vm.isAuthenticated === false">Submit Revision</button> <button type="button" class="btn btn-default" uib-dropdown-toggle ng-disabled="vm.form.$invalid || vm.isAuthenticated === false">for <span class="avatar" uib-tooltip="{{vm.evidenceEdit.organization.name}}" tooltip-enable="!(vm.form.$invalid || vm.isAuthenticated === false)"><img ng-src="{{vm.evidenceEdit.organization.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;<span class="caret"></span></button><ul class="dropdown-menu" uib-dropdown-menu role="menu"><li role="menuitem" ng-repeat="org in vm.currentUser.organizations" ng-class="{\'active\': org.id == vm.evidenceEdit.organization.id}"><a href ng-click="vm.switchOrg(org.id)"><span class="glyphicon glyphicon-ok" style="margin-left: -12px" ng-class="{\'glyphicon-hide\': org.id !== vm.evidenceEdit.organization.id}"></span> <span class="avatar"><img ng-src="{{org.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;{{org.name}}</a></li></ul></div></span><span ng-switch-default><button type="submit" class="btn btn-default" ng-disabled="vm.form.$invalid || vm.isAuthenticated === false" ng-click="vm.submit(vm.evidenceEdit, vm.options)">Submit Revision</button></span></span></div></div></div></div><div class="row" ng-if="vm.form.$invalid" style="margin-top: 1em"><div class="col-xs-5 col-xs-offset-2"><div class="alert alert-info">The Submit Revision button is disabled because the Evidence Edit form is incomplete or contains errors. Please ensure that all required fields (indicated with an *) are completed and error free.</div></div></div></div><div class="successMessage" ng-if="vm.showSuccessMessage"><div class="col-xs-12 jumbotron"><h1>Thank you.</h1><p>Your suggested revision for Evidence Item {{ vm.evidence.name }} has been submitted for review.</p><p><a ng-href="/events/genes/{{vm.stateParams.geneId}}/summary/variants/{{vm.stateParams.variantId}}/summary/evidence/{{vm.stateParams.evidenceId}}/talk/revisions/list/{{vm.newRevisionId}}/summary" class="btn btn-small btn-default">View it here</a></p></div></div>\x3c!-- <div class="row"> --\x3e\x3c!-- <div class="col-xs-6"> --\x3e\x3c!-- <h3>vm.evidencEdit</h3> --\x3e\x3c!-- <pre ng-bind="vm.evidenceEdit|json" class="small"></pre> --\x3e\x3c!-- </div> --\x3e\x3c!-- <div class="col-xs-6"> --\x3e\x3c!-- <h3>vm.evidenceFields</h3> --\x3e\x3c!-- <pre ng-bind="vm.evidenceFields|json" class="small"></pre> --\x3e\x3c!-- </div> --\x3e\x3c!-- </div> --\x3e</div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/assertions/talk/AssertionTalkView.tpl.html",'<div class="AssertionTalkView"><entity-talk-view view-model="vm.AssertionsTalkViewModel" revisions-model="vm.AssertionRevisionsModel" view-options="vm.AssertionsTalkViewOptions"><div class="row"><div class="col-xs-12"><assertion-summary></assertion-summary></div></div><div class="row assertion-talk-tabs"><div class="col-xs-12"><entity-talk-tabs vertical="false" justified="left"></entity-talk-tabs></div></div><div class="row entity-talk-content {{ vm.AssertionsTalkViewOptions.styles.view.talkBackgroundColor }}"><div class="col-xs-12"><ui-view></ui-view></div></div></entity-talk-view></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/assertions/talk/assertionTalkComments.tpl.html",'<div class="assertionTalkComments"><div class="row"><div class="col-xs-12 comment-list"><div ng-switch="ctrl.assertionTalkModel.data.comments.length > 0"><div ng-switch-when="true"><ul class="comments"><li ng-repeat="comment in ctrl.assertionTalkModel.data.comments"><entity-comment comment-data="comment" entity-model="ctrl.assertionTalkModel"></entity-comment></li></ul></div><div ng-switch-default><p>No Comments for Assertion {{ ctrl.assertionTalkModel.data.item.name }}.</p></div></div></div></div><div class="row"><div class="col-xs-12 comment-form"><entity-comment-form type="entity" entity-model="ctrl.assertionTalkModel"></entity-comment-form></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/assertions/talk/assertionTalkLog.tpl.html",'<div class="assertionTalkLog"><ul class="log-list"><li ng-repeat="entry in ctrl.logItems"><entity-log-entry entry-data="entry"></entity-log-entry></li></ul></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/evidence/talk/EvidenceTalkView.tpl.html",'<div class="EvidenceTalkView"><entity-talk-view view-model="vm.EvidenceTalkViewModel" revisions-model="vm.EvidenceRevisionsModel" view-options="vm.EvidenceTalkViewOptions"><div class="row"><div class="col-xs-12"><evidence-summary></evidence-summary></div></div><div class="row evidence-talk-tabs"><div class="col-xs-12"><entity-talk-tabs vertical="false" justified="left"></entity-talk-tabs></div></div><div class="row entity-talk-content {{ vm.EvidenceTalkViewOptions.styles.view.talkBackgroundColor }}"><div class="col-xs-12"><ui-view></ui-view></div></div></entity-talk-view></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/evidence/talk/evidenceTalkComments.tpl.html",'<div class="evidenceTalkComments"><div class="row"><div class="col-xs-12 comment-list"><div ng-switch="ctrl.evidenceTalkModel.data.comments.length > 0"><div ng-switch-when="true"><ul class="comments"><li ng-repeat="comment in ctrl.evidenceTalkModel.data.comments"><entity-comment comment-data="comment" entity-model="ctrl.evidenceTalkModel"></entity-comment></li></ul></div><div ng-switch-default><p>No Comments for Evidence Item {{ ctrl.evidenceTalkModel.data.item.name }}.</p></div></div></div></div><div class="row"><div class="col-xs-12 comment-form"><entity-comment-form type="entity" entity-model="ctrl.evidenceTalkModel"></entity-comment-form></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/evidence/talk/evidenceTalkLog.tpl.html",'<div class="evidenceTalkLog"><ul class="log-list"><li ng-repeat="entry in ctrl.logItems"><entity-log-entry entry-data="entry"></entity-log-entry></li></ul></div>')}])}();!function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/genes/edit/GeneEditView.tpl.html",'<div class="GeneEditView"><entity-edit-view view-model="vm.GeneEditViewModel" revisions-model="vm.GeneRevisionsModel" view-options="vm.GenesTalkViewOptions"><div class="row"><div class="col-xs-12"><gene-summary show-menu="false"></gene-summary></div></div><div class="row entity-talk-content {{ vm.GeneEditViewOptions.styles.view.talkBackgroundColor }}"><div class="col-xs-12"><ui-view></ui-view></div></div></entity-edit-view></div>')}])}(),
function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/genes/edit/geneEditBasic.tpl.html",'<div class="geneEditBasic {{ vm.styles.edit.editBackgroundColor }}" id="gene-edit-basic"><div class="row form-header" id="gene-edit-form"><div class="stripes-bg"><div class="col-xs-12 name"><h3>EDIT GENE <span ng-bind="vm.gene.name">NAME</span></h3></div></div></div><div class="row" ng-if="vm.showInstructions"><div class="col-xs-12"><div class="edit-instructions"><p>Complete your edits, then click the \'Submit Revision for Review\' button.</p></div></div></div><div class="row" ng-if="vm.pendingFields"><div class="col-xs-12"><div class="edit-warning"><p>This Gene has pending revisions to the following fields:</p><ul class="field-list"><li ng-repeat="field in vm.pendingFieldsList">{{ field | keyToLabel }}</li></ul><p>Please <a href="" ng-click="vm.revisionsClick()" style="text-decoration: underline; font-weight: bold">review all pending revisions</a> in order to prevent conflicting submissions.</p></div></div></div><div class="row"><div class="col-xs-12"><div ng-messages="vm.formErrors" class="edit-errors"><div ng-message="500"><div class="alert alert-danger"><strong class="status">500 <span ng-bind="vm.errorMessages[\'500\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'500\']">error prompt</span> <span class="server-message">{{ vm.serverMsg }}</span></div></div><div ng-message="401"><div class="alert alert-danger"><strong class="status">401 <span ng-bind="vm.errorMessages[\'401\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'401\']">error prompt</span> <span class="server-message">{{ vm.serverMsg }}</span></div></div><div ng-message="403"><div class="alert alert-danger"><strong class="status">403 <span ng-bind="vm.errorMessages[\'403\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'403\']">error prompt</span> <span class="server-message">{{ vm.serverMsg }}</span></div></div><div ng-message="409"><div class="alert alert-danger"><strong class="status">409 <span ng-bind="vm.errorMessages[\'409\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'409\']">error prompt</span> <span class="server-message">{{ vm.serverMsg }}</span></div></div></div></div></div><div class="row"><div class="col-xs-12"><div ng-messages="vm.formMessages" class="edit-messages"><div ng-message="submitSuccess"><div class="alert alert-success"><strong class="status">Success</strong> - <span class="message">Your revision was successfully submitted.</span></div></div><div ng-message="applySuccess"><div class="alert alert-success"><strong class="status">Success</strong> - <span class="message">Your revision was successfully applied.</span></div></div></div></div></div><div ng-if="vm.showForm"><div class="row edit-form"><div class="col-xs-12"><form class="form-horizontal"><formly-form options="vm.options" model="vm.geneEdit" fields="vm.geneFields"></formly-form></form></div></div><div class="row"><div class="col-xs-5 col-xs-offset-2"><div class="buttons"><div class="pull-left"><cancel-button></cancel-button></div><div class="pull-right">\x3c!-- show org-select button if user is member of > 1 orgs --\x3e <span ng-switch="vm.currentUser.organizations.length > 1"><span ng-switch-when="true"><div class="btn-group org-select" uib-dropdown><button id="split-button" type="button" class="btn btn-default" ng-click="vm.submit(vm.geneEdit, vm.options)" ng-disabled="vm.form.$invalid || vm.isAuthenticated === false">Submit Revision</button> <button type="button" class="btn btn-default" uib-dropdown-toggle ng-disabled="vm.form.$invalid || vm.isAuthenticated === false">for <span class="avatar" uib-tooltip="{{vm.geneEdit.organization.name}}" tooltip-enable="!(vm.form.$invalid || vm.isAuthenticated === false)"><img ng-src="{{vm.geneEdit.organization.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;<span class="caret"></span></button><ul class="dropdown-menu" uib-dropdown-menu role="menu"><li role="menuitem" ng-repeat="org in vm.currentUser.organizations" ng-class="{\'active\': org.id == vm.geneEdit.organization.id}"><a href ng-click="vm.switchOrg(org.id)"><span class="glyphicon glyphicon-ok" style="margin-left: -12px" ng-class="{\'glyphicon-hide\': org.id !== vm.geneEdit.organization.id}"></span> <span class="avatar"><img ng-src="{{org.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;{{org.name}}</a></li></ul></div></span><span ng-switch-default><button type="submit" class="btn btn-default" ng-disabled="vm.form.$invalid || vm.isAuthenticated === false" ng-click="vm.submit(vm.geneEdit, vm.options)">Submit Revision</button></span></span></div></div></div></div></div><div class="successMessage" ng-if="vm.showSuccessMessage"><div class="col-xs-12 jumbotron"><h1>Thank you.</h1><p>Your suggested revision for Gene {{ vm.gene.name }} has been submitted for review.</p><p><a ng-href="/events/genes/{{vm.gene.id}}/talk/revisions/list/{{vm.newRevisionId}}/summary" class="btn btn-small btn-default">View it here</a></p></div></div>\x3c!-- <div class="row"> --\x3e\x3c!-- <div class="col-xs-12"> --\x3e\x3c!-- <pre ng-bind="vm.geneEdit|json"></pre> --\x3e\x3c!-- </div> --\x3e\x3c!-- </div> --\x3e</div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/evidence/summary/evidenceSummary.tpl.html",'<div class="evidenceSummary {{ backgroundColor }}">\x3c!-- status warnings --\x3e<div class="row" ng-if="evidence.status !== \'accepted\'" style="margin-bottom: 12px"><div class="col-xs-12 notices"><div class="label label-warning" style="display:block" ng-if="evidence.status === \'submitted\'">CAUTION: This Evidence Item has not been accepted as accurate or complete!</div><div class="label label-danger" style="display:block" ng-if="evidence.status === \'rejected\'">WARNING: This Evidence Item has been rejected!</div></div></div><div class="row"><div class="col-xs-12 explanation"><p ng-bind-html="evidence.description"></p></div></div><div class="row"><div class="col-xs-12 col-md-6 details"><table class="table table-condensed summary-details"><colgroup><col width="40%"><col width="60%"></colgroup><tr><td class="name" style="line-height: 2em">Evidence Level:</td><td class="value"><span class="levelBadge" ng-class="{\'levelA\': evidence.evidence_level === \'A\', \'levelB\': evidence.evidence_level === \'B\',\'levelC\': evidence.evidence_level === \'C\', \'levelD\': evidence.evidence_level === \'D\', \'levelE\': evidence.evidence_level === \'E\' }" uib-tooltip="{{tipText.evidence_level[evidence.evidence_level]}}" tooltip-placement="right" class="help-tooltip">{{ evidence.evidence_level_string }}</span></td></tr><tr><td class="name">Evidence Type:</td><td class="value"><span ng-bind="evidence.evidence_type" uib-tooltip="{{tipText.evidence_type.evidence_item[evidence.evidence_type]}}" tooltip-placement="right" class="help-tooltip">evidence type</span></td></tr><tr><td class="name">Evidence Direction:</td><td class="value"><span ng-bind="evidence.evidence_direction" uib-tooltip="{{tipText.evidence_direction.evidence_item[evidence.evidence_type][evidence.evidence_direction]}}" tooltip-placement="right" class="help-tooltip">evidence.evidence_direction</span></td></tr><tr><td class="name">Clinical Significance:</td><td class="value"><span ng-bind="evidence.clinical_significance" uib-tooltip="{{tipText.clinical_significance.evidence_item[evidence.evidence_type][evidence.clinical_significance]}}" tooltip-placement="right" class="help-tooltip" class="help-tooltip">evidence.clinical_significance</span></td></tr><tr><td class="name">Variant Origin:</td><td class="value"><span ng-bind="evidence.variant_origin" uib-tooltip="{{tipText.variant_origin[evidence.variant_origin]}}" tooltip-placement="right" class="help-tooltip">evidence.variant_origin</span></td></tr><tr ng-if="evidence.evidence_type == \'Predictive\'"><td class="name">Drug:</td><td class="value"><span ng-bind-html="evidence.drugsStr">DRUG</span> <span ng-if="evidence.drug_interaction_type">&nbsp;({{ evidence.drug_interaction_type }})</span></td></tr><tr ng-if="supportsAssertions.length > 0"><td class="name" style="padding-top: 5px;padding-bottom: 0">Supports Assertions:</td><td class="value assertions"><assertion-tag ng-repeat="assertion in supportsAssertions | orderBy:\'id\'" assertion="assertion"></assertion-tag></td></tr></table></div><div class="col-xs-12 col-md-6 details"><table class="table table-condensed summary-details"><colgroup><col width="40%"><col width="60%"></colgroup><tr ng-if="evidence.evidence_type !== \'Functional\'"><td class="name">Disease:</td><td class="value"><span ng-switch="evidence.disease.doid !== null"><span ng-switch-when="true"><a target="_blank" href="{{ evidence.disease.url }}" _target="blank">{{ evidence.disease.name }} </a></span><span ng-switch-default>{{ evidence.disease.name }}</span></span></td></tr><tr><td class="name">Associated Phenotype{{ evidence.phenotypes.length > 1 ? \'s\' : \'\' }}:</td><td class="value" ng-bind-html="evidence.phenotypesStr"></td></tr><tr><td class="name">Source:</td><td class="value"><a ui-sref="sources.summary({sourceId: evidence.source.id })">{{ evidence.source.citation }}</a></td></tr><tr><td class="name"><span ng-switch="evidence.source.source_type"><span ng-switch-when="PubMed">PubMed ID: </span><span ng-switch-when="ASCO">ASCO ID:</span></span></td><td class="value"><a ng-href="{{evidence.source.source_url}}" class="btn btn-xs button-new-window" target="_blank"><span class="glyphicon glyphicon-new-window"></span> <span ng-bind="evidence.source.citation_id"></span></a></td></tr><tr><td class="name">Clinical Trial<span ng-if="evidence.source.clinical_trials.length > 1">s</span>:</td><td class="value"><span ng-repeat="trial in evidence.source.clinical_trials" ng-if="evidence.source.clinical_trials.length > 0">{{ $first ? \'\' : $last ? ( evidence.source.clinical_trials.length > 2 ? \' and \' : \' and \' ) : \' \' }} <a ng-href="{{trial.clinical_trial_url}}" class="btn btn-xs button-new-window" style="margin-bottom: 4px" target="_blank"><span class="glyphicon glyphicon-new-window"></span> <span ng-bind="trial.nct_id"></span> </a></span><span ng-if="evidence.source.clinical_trials.length == 0">--</span></td></tr><tr><td class="name">Evidence Rating:</td><td class="value"><span uib-rating ng-model="evidence.rating" max="5" read-only="true" uib-tooltip="{{tipText.rating[evidence.rating]}}" tooltip-placement="left" class="help-tooltip"></span></td></tr></table></div></div><div class="row" ng-if="showModeration" style="margin-top: 1em"><div class="col-xs-6"><span ng-switch="currentUser.organizations.length > 1"><span ng-switch-when="true"><div class="btn-group pull-right org-select" uib-dropdown><button id="split-button" type="button" class="btn btn-danger" ng-click="rejectItem(evidence.id)">Reject Evidence Item</button> <button type="button" class="btn btn-danger" uib-dropdown-toggle>for <span class="avatar" uib-tooltip="{{actionOrg.name}}"><img ng-src="{{actionOrg.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;<span class="caret"></span></button><ul ng-include="\'org-menu.tpl.html\'" uib-dropdown-menu class="dropdown-menu" role="menu"></ul></div></span><span ng-switch-default><a class="btn btn-default btn-block btn-danger" ng-click="rejectItem(evidence.id)">Reject Evidence Item</a></span></span></div><div class="col-xs-6"><span ng-switch="currentUser.organizations.length > 1"><span ng-switch-when="true"><div class="btn-group org-select" uib-dropdown><a id="split-button" type="button" class="btn btn-success" uib-tooltip="Contributors may not accept their own submissions." tooltip-append-to-body="true" tooltip-enable="ownerIsCurrentUser" ng-disabled="ownerIsCurrentUser" ng-click="acceptItem(evidence.id)">Accept Evidence Item </a><a type="button" class="btn btn-success" ng-disabled="ownerIsCurrentUser" uib-dropdown-toggle>for <span class="avatar" uib-tooltip="{{actionOrg.name}}"><img ng-src="{{actionOrg.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;<span class="caret"></span></a><ul ng-include="\'org-menu.tpl.html\'" uib-dropdown-menu class="dropdown-menu" role="menu"></ul></div></span><span ng-switch-default><span uib-tooltip="Contributors may not accept their own submissions." tooltip-append-to-body="true" tooltip-enable="ownerIsCurrentUser" class="help-tooltip"><a class="btn btn-default btn-success btn-block" ng-disabled="ownerIsCurrentUser" ng-click="acceptItem(evidence.id)">Accept Evidence Item</a></span></span></span></div></div><div class="row" ng-if="showCoiNotice" style="margin-top: 1em"><div class="col-xs-10 col-xs-offset-1"><a ui-sref="account.profile" class="btn btn-danger btn-block"><i class="glyphicon glyphicon-hand-up"></i>&nbsp; Your Editor\'s Conflict of Interest Statement is missing or expired. Please update it to perform moderation.</a></div></div></div><script type="text/ng-template" id="org-menu.tpl.html"><li role="menuitem" ng-repeat="org in currentUser.organizations"\n    ng-class="{\'active\': org.id == actionOrg.id}">\n    <a href ng-click="switchOrg(org.id)">\n      <span class="glyphicon glyphicon-ok" style="margin-left: -12px"\n        ng-class="{\'glyphicon-hide\': org.id !== actionOrg.id}"></span>\n      <span class="avatar">\n        <img ng-src="{{org.profile_image.x14}}" width="14" height="14"/>\n      </span>&nbsp;&nbsp;{{org.name}}\n    </a>\n  </li><\/script>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/genes/talk/GeneTalkView.tpl.html",'<div class="GeneTalkView"><entity-talk-view view-model="vm.GenesTalkViewModel" revisions-model="vm.GeneRevisionsModel" view-options="vm.GenesTalkViewOptions"><div class="row"><div class="col-xs-12"><gene-summary show-menu="false"></gene-summary></div></div><div class="row gene-talk-tabs"><div class="col-xs-12"><entity-talk-tabs vertical="false" justified="left"></entity-talk-tabs></div></div><div class="row entity-talk-content {{ vm.GenesTalkViewOptions.styles.view.talkBackgroundColor }}"><div class="col-xs-12"><ui-view></ui-view></div></div></entity-talk-view></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/genes/talk/geneTalkComments.tpl.html",'<div class="geneTalkComments"><div class="row"><div class="col-xs-12 comment-list"><div ng-switch="ctrl.geneTalkModel.data.comments.length > 0"><div ng-switch-when="true"><ul class="comments"><li ng-repeat="comment in ctrl.geneTalkModel.data.comments"><entity-comment comment-data="comment" entity-model="ctrl.geneTalkModel"></entity-comment></li></ul></div><div ng-switch-default><p>No Comments for Gene {{ ctrl.geneTalkModel.data.item.name }}.</p></div></div></div></div><div class="row"><div class="col-xs-12 comment-form"><entity-comment-form type="entity" entity-model="ctrl.geneTalkModel"></entity-comment-form></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/genes/talk/geneTalkLog.tpl.html",'<div class="geneTalkLog"><ul class="log-list"><li ng-repeat="entry in ctrl.logItems"><entity-log-entry entry-data="entry"></entity-log-entry></li></ul></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/genes/summary/geneDescription.tpl.html",'<div class="geneDescription">\x3c!-- ctrl inherited from GeneSummaryController --\x3e<div class="row"><div class="col-xs-12"><div ng-switch="geneData.description.length > 0"><div ng-switch-when="true"><p ng-bind="geneData.description" class="description">Gene Summary.</p></div><div ng-switch-default="false">\x3c!-- check for provisional description --\x3e<div ng-switch="geneData.provisional_values.description || \'_undefined_\'"><div ng-switch-when="_undefined_"><p class="description">This Gene does not currently have a Summary.</p><div ng-if="vm.isAuthenticated() && !vm.isEdit"><p><a class="btn btn-small btn-default" ui-sref="events.genes.edit.basic({ geneId: geneData.id })">Add a Summary</a></p></div></div><div ng-switch-default><p></p><div class="label label-warning" style="display:block">CAUTION: This is a provisional description from a Suggested Change not yet accepted by an Editor.</div><p></p><p ng-bind="geneData.provisional_values.description.value" class="description">Gene Provisional Summary</p><p><a ng-href="/events/genes/{{geneData.id}}/talk/revisions/list/{{geneData.provisional_values.description.revision_id}}/summary" class="btn btn-default btn-block btn-xs">View This Description\'s Suggested Change</a></p></div></div></div></div></div></div><div class="row"><div class="col-xs-8"><div ng-if="geneData.sources.length > 0"><h5>Sources:</h5><ul class="sources"><li ng-repeat="source in geneData.sources"><a ui-sref="sources.summary({sourceId:source.id})"><span class="small" ng-bind="source.citation"></span></a></li></ul></div></div><div class="col-xs-4"><a class="btn btn-block button-dgidb btn-xs" ng-href="http://dgidb.org/genes/{{geneData.name}}" target="_blank" style="margin-top: 8px"><span class="glyphicon glyphicon-new-window"></span>&nbsp;DGIdb Details </a><a class="btn btn-block button-proteinpaint btn-xs" ng-href="https://pecan.stjude.cloud/proteinpaint/{{geneData.name}}/hg19/civic" target="_blank" style="margin-top: 8px"><span class="glyphicon glyphicon-new-window"></span>&nbsp;ProteinPaint Details</a></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/genes/summary/geneSummary.tpl.html",'<div class="geneSummary"><div class="row {{ backgroundColor }}"><div class="col-xs-12 col-md-6"><gene-description gene-data="gene"></gene-description></div><div class="col-xs-12 col-md-6"><my-gene-info gene-info="myGeneInfo"></my-gene-info></div></div><div ng-if="showMenu === true"><div class="row"><div class="col-xs-12"><variant-menu options="GenesViewOptions.styles.variantMenu"></variant-menu></div></div><div class="row"><div class="col-xs-12 variant-view"><ui-view><div class="alert alert-info" class="select-prompt">&#8673; Select a <strong>Variant</strong> <span ng-if="variantGroups.length > 0">or <strong>Variant Group</strong></span> to view its details.</div></ui-view></div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/genes/summary/myGeneInfo.tpl.html",'<div class="myGeneInfo"><table class="table table-condensed summary-details"><colgroup><col width="30%"><col width="70%"><col width="21"></colgroup><tr><td class="name">Name:</td><td class="value" ng-bind="geneInfo.name"></td><td class="mygenelogo" rowspan="7"><img src="assets/images/mygeneinfo_logo.png" width="21" height="116"></td></tr><tr><td class="name">Entrez Symbol:</td><td class="value"><a target="_blank" href="{{ \'http://www.ncbi.nlm.nih.gov/gene/\' + geneInfo._id}}" ng-bind="geneInfo.symbol">SYMBOL </a>&nbsp; &nbsp; <strong>Entrez ID: </strong><a target="_blank" href="{{ \'http://www.ncbi.nlm.nih.gov/gene/\' + geneInfo._id}}" ng-bind="geneInfo._id">ID</a> &nbsp; &nbsp; <strong>UniProtKB ID: </strong><a href="https://www.uniprot.org/uniprot/{{geneInfo.uniprot[\'Swiss-Prot\']}}" target="_blank"><span ng-bind="geneInfo.uniprot[\'Swiss-Prot\']"></span></a></td></tr><tr><td class="name">Aliases:</td><td class="value" ng-bind="geneInfo.alias | arrayToList "></td></tr><tr><td class="name">Chromosome:<br><small style="font-weight: normal;color: grey"><i>(GRCh37)</i></small></td><td class="value">\x3c!-- Chromosome --\x3e <span ng-bind="geneInfo.genomic_pos_hg19.chr"></span> &nbsp;&nbsp; <strong>Start:</strong> <span ng-bind="geneInfo.genomic_pos_hg19.start"></span> &nbsp;&nbsp; <strong>End:</strong> <span ng-bind="geneInfo.genomic_pos_hg19.end"></span> &nbsp;&nbsp; <strong>Strand:</strong> <span ng-bind="geneInfo.genomic_pos_hg19.strand"></span></td></tr><tr><td class="name">Protein Domains:</td><td class="value" ng-bind-html="geneInfo.interpro | pluck: \'desc\' | arrayToList:5:\'&hellip;\':true | unsafe"></td></tr><tr><td class="name">Pathways:</td><td class="value" ng-bind-html="geneInfo.pathway | pluck: \'name\' | arrayToList:5:\'&hellip;\':true | unsafe"></td></tr><tr><td>&nbsp;</td><td colspan="2"><button class="btn btn-block btn-default view-gene-details" ng-click="ctrl.openDialog()">View MyGene.info Details</button></td></tr></table></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/genes/summary/myGeneInfoDialog.tpl.html",'<div class="myGeneInfoDialog"><div class="row header"><div class="col-xs-12"><h3>Gene {{ geneInfo.symbol }} Details from <a href="http://mygene.info/" target="_new">MyGene.info</a></h3></div></div><div class="row summary"><div class="col-xs-12"><p><strong>Gene Summary:</strong><br><span ng-bind-html="geneInfo.summary | unsafe"></span></p></div></div><div class="row synonyms"><div class="col-xs-12"><p><strong>Other Aliases:</strong><br><span ng-bind="geneInfo.alias | arrayToList"></span></p></div></div><div class="row swissprot"><div class="col-xs-12"><p><strong>UniProtKB/Swiss-Prot ID: </strong><a href="https://www.uniprot.org/uniprot/{{geneInfo.uniprot[\'Swiss-Prot\']}}" target="_blank"><span ng-bind="geneInfo.uniprot[\'Swiss-Prot\']"></span></a></p></div></div><div class="row grid-row protein-domains"><div class="col-xs-12"><div ui-grid="ctrl.gridOptions.proteinDomains" class="dataGrid" ui-grid-auto-resize></div></div></div><div class="row grid-row pathways"><div class="col-xs-12"><div ui-grid="ctrl.gridOptions.pathways" class="dataGrid" ui-grid-auto-resize></div></div></div><div class="row buttons"><div class="col-xs-12"><div class="pull-right"><button type="button" class="btn btn-default close" ng-click="ctrl.closeDialog()">Done</button></div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/genes/summary/variantMenu.tpl.html",'<div class="variantMenu {{ options.backgroundColor }}"><div class="title-bg"><div class="row"><div class="col-xs-8"><h4 class="title"><span ng-bind="gene.name"></span> Variants <span ng-if="variantGroups.length > 0">&amp; Variant Group{{variantGroups.length > 1 ? \'s\' : \'\'}}</span></h4></div><div class="col-xs-2"><input ng-model="query" class="form-control filter" placeholder="Filter by name"></div><div class="col-xs-2" style="text-align: right"><a uib-popover-template="\'displayOptionsPopover.tpl.html\'" popover-title="Variant Display Options" popover-trigger="\'outsideClick\'" popover-placement="left" popover-class="filters-content" class="btn btn-xs btn-default btn-block"><i class="glyphicon glyphicon-filter"></i> Display Options</a></div></div></div><div class="row">\x3c!-- if only one variant group exists, show it next to variants,\n         if none or more than one, show them on a new row  --\x3e<div class="col-xs-{{ variantGroups.length === 1 ? \'8\' : \'12\'}}"><ul class="variants"><li ng-repeat="variant in variants | orderBy:variantMenuOrderBy:order.reverse | filter:variantFilterFn | filter: {name: query} as results"><ng-include src="\'variantTag.tpl.html\'"></ng-include></li><li ng-if="results.length === 0">No matches exist for variant filters.</li></ul></div><div ng-if="variantGroups.length === 1" style="margin-top: 8px"><ng-include src="\'variantGroupBlock.tpl.html\'" ng-repeat="variantGroup in variantGroups"></ng-include></div></div><div class="row" ng-if="variantGroups.length > 1" style="margin-top: 8px"><ng-include src="\'variantGroupBlock.tpl.html\'" ng-repeat="variantGroup in variantGroups"></ng-include></div><script type="text/ng-template" id="variantTag.tpl.html"><span uib-tooltip-template="\'variantTagTooltip.tpl.html\'">\n      <a ui-sref="events.genes.summary.variants.summary({ geneId: variant.gene_id, variantId: variant.id, \'#\': \'variant\' })"\n        class="variant-tag"\n        ng-class="{ statusRejected: !hasValidEvidenceItems(variant), active: variant.id == stateParams.variantId }">\n        <i class="glyphicon glyphicon-exclamation-sign pending-alert"\n          ng-if="variant.statuses.pending_evidence_count > 0 || variant.statuses.open_change_count > 0"\n          ng-class="{\'pending-changes\': variant.statuses.open_change_count > 0, \'pending-evidence\': variant.statuses.pending_evidence_count > 0, \'pending-both\': variant.statuses.open_change_count > 0 && variant.statuses.pending_evidence_count > 0}"></i>\n        <span ng-bind-html="variant.name | highlightSearch:query" class="variant-name">Variant Name</span>\n        <span class="gene-name" ng-if="variant.multiGeneGroup">(<span ng-bind="variant.gene_entrez_name">Gene Name</span>)</span>\n      </a>\n    </span><\/script><script type="text/ng-template" id="variantTagTooltip.tpl.html"><span>\n      Evidence Items: {{ variant.evidence_item_statuses.accepted_count }}<br/>\n      <span ng-if="variant.statuses.pending_evidence_count > 0" style="display: block;">Has {{ variant.statuses.pending_evidence_count }} pending evidence</span>\n      <span ng-if="variant.statuses.open_change_count > 0" style="display: block;">Has {{ variant.statuses.open_change_count }} pending change{{variant.statuses.open_change_count > 1 ? \'s\' : \'\' }}</span>\n    </span><\/script><script type="text/ng-template" id="variantGroupBlock.tpl.html"><div class="col-xs-4">\n      <div class="variant-group" ng-class="{ \'active\': $state.includes(\'events.genes.summary.variantGroups\', {geneId: gene.id, variantGroupId: variantGroup.id})}">\n        <a class="group-title" ng-class="{ active: variantGroup.id == stateParams.variantGroupId }" ui-sref="events.genes.summary.variantGroups.summary({ geneId: gene.id, variantGroupId: variantGroup.id, \'#\': \'variant-group\' })">\n          <span ng-bind="variantGroup.name">Variant Group Name</span> Group\n        </a>\n        <ul class="variants">\n          <li ng-repeat="variant in variantGroup.variants | orderBy:\'name\' | filter: variantFilterFn | filter: { name: query } as results">\n            <ng-include src=" \'variantTag.tpl.html\' "></ng-include>\n          </li>\n        </ul>\n      </div>\n    </div><\/script></div><script type="text/ng-template" id="displayOptionsPopover.tpl.html"><div class="row">\n    <div class="col-xs-12">\n      <div class="radio">\n        <label>\n          <input type="radio" ng-model="$parent.options_filter" value="accepted">\n          <span uib-tooltip="Includes variants that have at least one editor-reviewed evidence item">Show variants with accepted evidence <span class="count" >({{$parent.evidence_category_counts.accepted}})</span></span>\n        </label>\n      </div>\n      <div class="radio">\n        <label>\n          <input type="radio" ng-model="$parent.options_filter" value="accepted_submitted">\n          <span uib-tooltip="Includes variants that have at least one editor-reviewed and/or pending evidence item">Show variants with accepted and/or submitted evidence <span class="count" >({{ $parent.evidence_category_counts.accepted_or_submitted }})</span></span>\n        </label>\n      </div>\n      <div class="radio">\n        <label>\n          <input type="radio" ng-model="$parent.options_filter" value="submitted">\n          <span uib-tooltip="Includes variants that have at least one item of evidence pending editor review">Show variants with submitted evidence <span class="count" >({{$parent.evidence_category_counts.submitted}})</span></span>\n        </label>\n      </div>\n      <div class="radio">\n        <label>\n          <input type="radio" ng-model="$parent.options_filter" value="all">\n          <span uib-tooltip="Includes all variants">Show all: variants with accepted, submitted, rejected, and/or no evidence (orphans) <span class="count" >({{$parent.variants.length}})</span></span>\n        </label>\n      </div>\n    </div>\n  </div>\n  <div class="row" style="border-top: 1px solid #ccc; padding-top: 10px">\n    <div class="col-xs-12">\n      Sort by:\n      <select ng-model="$parent.order.field">\n        <option value="name">name</option>\n        <option value="position">position</option>\n      </select>\n      &nbsp;\n      <select ng-model="$parent.order.reverse" ng-options="o.value as o.label for o in $parent.sortOptions">\n      </select>\n    </div>\n  </div>\n  <div class="row null-coord-note" ng-if="$parent.order.field === \'position\' && $parent.nullCoordVars.length > 0">\n    <div class="col-xs-12">\n'+"      Note: variant{{$parent.nullCoordVars.length > 1 ? 's' : ''}} <span ng-bind-html=\"$parent.nullCoordVars | arrayToList:5:'&hellip;':true | unsafe\"></span> {{$parent.nullCoordVars.length > 1 ? 'have' : 'has'}} no start coordinate, so will be placed at the end of the list.\n    </div>\n  </div><\/script>")}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/variantGroups/edit/VariantGroupEditView.tpl.html",'<div class="VariantGroupEditView"><entity-edit-view view-model="vm.VariantGroupEditViewModel" revisions-model="vm.VariantGroupRevisionsModel" view-options="vm.VariantGroupTalkViewOptions"><div class="row"><div class="col-xs-12"><variant-group-summary show-variant-grid="false"></variant-group-summary></div></div><div class="row entity-talk-content {{ vm.VariantGroupEditViewOptions.styles.view.talkBackgroundColor }}"><div class="col-xs-12"><ui-view></ui-view></div></div></entity-edit-view></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){
e.put("app/views/events/variantGroups/edit/variantGroupEditBasic.tpl.html",'<div class="variantGroupEditBasic {{ vm.styles.edit.editBackgroundColor }}"><div class="row" ng-if="vm.showInstructions"><div class="col-xs-12"><div class="edit-instructions"><p>Complete your edits, then click the \'Submit Revision for Review\' button.</p></div></div></div><div class="row" ng-if="vm.pendingFields"><div class="col-xs-12"><div class="edit-warning"><p>This Variant has pending revisions to the following fields:</p><ul class="field-list"><li ng-repeat="field in vm.pendingFieldsList">{{ field | keyToLabel }}</li></ul><p>Please <a href="" ng-click="vm.revisionsClick()" style="text-decoration: underline; font-weight: bold">review all pending revisions</a> in order to prevent conflicting submissions.</p></div></div></div><div class="row"><div class="col-xs-12"><div ng-messages="vm.formErrors" class="edit-errors"><div ng-message="500"><div class="alert alert-danger"><strong class="status">500 <span ng-bind="vm.errorMessages[\'500\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'500\']">error prompt</span> <span class="server-message">{{ vm.serverMsg }}</span></div></div><div ng-message="401"><div class="alert alert-danger"><strong class="status">401 <span ng-bind="vm.errorMessages[\'401\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'401\']">error prompt</span> <span class="server-message">{{ vm.serverMsg }}</span></div></div><div ng-message="403"><div class="alert alert-danger"><strong class="status">403 <span ng-bind="vm.errorMessages[\'403\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'403\']">error prompt</span> <span class="server-message">{{ vm.serverMsg }}</span></div></div><div ng-message="409"><div class="alert alert-danger"><strong class="status">409 <span ng-bind="vm.errorMessages[\'409\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'409\']">error prompt</span> <span class="server-message">{{ vm.serverMsg }}</span></div></div></div></div></div><div class="row"><div class="col-xs-12"><div ng-messages="vm.formMessages" class="edit-messages"><div ng-message="submitSuccess"><div class="alert alert-success"><strong class="status">Success</strong> - <span class="message">Your revision was successfully submitted.</span></div></div><div ng-message="applySuccess"><div class="alert alert-success"><strong class="status">Success</strong> - <span class="message">Your revision was successfully applied.</span></div></div></div></div></div><div ng-if="vm.showForm"><div class="row edit-form"><div class="col-xs-12"><form class="form-horizontal"><formly-form options="vm.options" model="vm.variantGroupEdit" fields="vm.variantGroupFields"></formly-form></form></div></div><div class="row buttons"><div class="col-xs-5 col-xs-offset-2"><div class="buttons"><div class="pull-left"><cancel-button></cancel-button></div><div class="pull-right">\x3c!-- show org-select button if user is member of > 1 orgs --\x3e <span ng-switch="vm.currentUser.organizations.length > 1"><span ng-switch-when="true"><div class="btn-group org-select" uib-dropdown><button id="split-button" type="button" class="btn btn-default" ng-click="vm.submit(vm.variantGroupEdit, vm.options)" ng-disabled="vm.form.$invalid || vm.isAuthenticated === false">Submit Revision</button> <button type="button" class="btn btn-default" uib-dropdown-toggle ng-disabled="vm.form.$invalid || vm.isAuthenticated === false">for <span class="avatar" uib-tooltip="{{vm.variantGroupEdit.organization.name}}" tooltip-enable="!(vm.form.$invalid || vm.isAuthenticated === false)"><img ng-src="{{vm.variantGroupEdit.organization.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;<span class="caret"></span></button><ul class="dropdown-menu" uib-dropdown-menu role="menu"><li role="menuitem" ng-repeat="org in vm.currentUser.organizations" ng-class="{\'active\': org.id == vm.variantGroupEdit.organization.id}"><a href ng-click="vm.switchOrg(org.id)"><span class="glyphicon glyphicon-ok" style="margin-left: -12px" ng-class="{\'glyphicon-hide\': org.id !== vm.variantGroupEdit.organization.id}"></span> <span class="avatar"><img ng-src="{{org.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;{{org.name}}</a></li></ul></div></span><span ng-switch-default><button type="submit" class="btn btn-default" ng-disabled="vm.form.$invalid || vm.isAuthenticated === false" ng-click="vm.submit(vm.variantGroupEdit, vm.options)">Submit Revision</button></span></span></div></div></div></div></div><div class="successMessage" ng-if="vm.showSuccessMessage"><div class="col-xs-12 jumbotron"><h1>Thank you.</h1><p>Your suggested revision for Variant Group {{ vm.variantGroup.name }} has been submitted for review.</p><p><a ng-href="/events/genes/{{vm.stateParams.geneId}}/summary/variantGroups/{{vm.stateParams.variantGroupId}}/talk/revisions/list/{{vm.newRevisionId}}/summary" class="btn btn-small btn-default">View it here</a></p></div></div>\x3c!--<div class="row" style="margin-top: 16px;">--\x3e\x3c!--<div class="col-xs-12">--\x3e\x3c!--<pre ng-bind="vm.variantGroupEdit|json"></pre>--\x3e\x3c!--</div>--\x3e\x3c!--</div>--\x3e</div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/variantGroups/summary/variantGrid.tpl.html",'<div class="variantGrid"><div class="row"><div class="col-xs-10"><h4><span ng-switch="ctrl.context"><span ng-switch-when="summary">Variants in {{ ctrl.variantGroup.name }}</span> <span ng-switch-when="search">Search Results</span> </span><span class="record-info"><span>{{ ctrl.gridApi.grid.rows.length }} total items</span> <span ng-if="ctrl.gridApi.grid.renderContainers.body.visibleRowCache.length !== ctrl.gridApi.grid.rows.length">(showing {{ctrl.gridApi.grid.renderContainers.body.visibleRowCache.length}})</span></span></h4></div><div class="col-xs-2"><button class="btn btn-default btn-xs pull-right col-key btn-block" uib-popover-template="ctrl.exportPopover.templateUrl" popover-trigger="\'outsideClick\'" ng-disabled="ctrl.variantGridOptions.data.length < 1" popover-placement="bottom"><span class="glyphicon glyphicon-export" aria-hidden="true"></span> Get Data</button></div></div><div class="row"><div class="col-xs-12"><div ui-grid="ctrl.variantGridOptions" ui-grid-cellnav ui-grid-auto-resize ui-grid-exporter ui-grid-selection></div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/variantGroups/summary/variantGridDescriptionCell.tpl.html",'<div class="ngCellText ui-grid-cell-contents" ng-class="col.colIndex()" uib-tooltip="{{row.entity[col.field]}}" tooltip-popup-delay="{{ctrl.tooltipPopupDelay}}" tooltip-placement="top" tooltip-append-to-body="true"><div ng-switch on="row.entity[col.field].length > 0"><div ng-switch-when="true" search-highlighting="col" highlight-content="row.entity[col.field]">{{ row.entity[col.field] }}</div><div ng-switch-when="false" class="ui-grid-cell-contents">No description found.</div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/variantGroups/summary/variantGridTooltipCell.tpl.html",'<div class="ngCellText ui-grid-cell-contents" ng-class="col.colIndex()" uib-tooltip="{{row.entity[col.field]}}" tooltip-popup-delay="{{ctrl.tooltipPopupDelay}}" tooltip-placement="top" tooltip-append-to-body="true"><span search-highlighting="col" highlight-content="row.entity[col.field]">{{ row.entity[col.field] }}</span></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/variantGroups/summary/variantGridTooltipHeader.tpl.html",'<div role="columnheader" ng-class="{ \'sortable\': sortable }" ui-grid-one-bind-aria-labelledby-grid="col.uid + \'-header-text \' + col.uid + \'-sortdir-text\'" aria-sort="{{col.sort.direction == asc ? \'ascending\' : ( col.sort.direction == desc ? \'descending\' : (!col.sort.direction ? \'none\' : \'other\'))}}"><div role="button" tabindex="0" class="ui-grid-cell-contents ui-grid-header-cell-primary-focus" col-index="renderIndex" title="TOOLTIP"><span class="ui-grid-header-cell-label" ui-grid-one-bind-id-grid="col.uid + \'-header-text\'" uib-tooltip="{{col.headerTooltip(col)}}" tooltip-placement="top" tooltip-append-to-body="true">{{ col.displayName }} </span><span ui-grid-one-bind-id-grid="col.uid + \'-sortdir-text\'" ui-grid-visible="col.sort.direction" aria-label="{{getSortDirectionAriaLabel()}}"><i ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }" title="{{col.sort.priority ? i18n.headerCell.priority + \' \' + col.sort.priority : null}}" aria-hidden="true"></i> <sub class="ui-grid-sort-priority-number">{{col.sort.priority}}</sub></span></div><div role="button" tabindex="0" ui-grid-one-bind-id-grid="col.uid + \'-menu-button\'" class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}" ui-grid-one-bind-aria-label="i18n.headerCell.aria.columnMenuButtonLabel" aria-haspopup="true"><i class="ui-grid-icon-angle-down" aria-hidden="true">&nbsp;</i></div><div ui-grid-filter></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/variantGroups/summary/variantGroupSummary.tpl.html",'<div class="variantGroupSummary"><div class="row"><div class="col-xs-12"><div ng-switch="variantGroup.description.length > 0"><div ng-switch-when="true"><p ng-bind="variantGroup.description|unsafe" class="description">Variant Group Summary.</p></div><div ng-switch-default="false"><p class="description">This Variant Group does not currently have a Summary.</p><div ng-if="isAuthenticated() && !isEdit"><p><a class="btn btn-small btn-default" ui-sref="events.genes.summary.variantGroups.edit.basic({ geneId: variantGroup.id })">Add a Summary</a></p></div></div></div><div ng-if="variantGroup.sources.length > 0"><h5>Sources:</h5><ul class="sources"><li ng-repeat="source in variantGroup.sources"><a href="{{ source.source_url }}" target="_self"><span class="small" ng-bind="source.citation"></span></a></li></ul></div></div></div><div ng-if="showVariantGrid === true"><div class="row variant-grid"><div class="col-xs-12"><variant-grid context="\'summary\'" rows="6" variant-group="variantGroup" variants="variants"></variant-grid></div></div><div class="row"><div class="col-xs-12"><evidence-grid evidence="evidence" variant="variantGroup" show-gene-col="true" show-variant-col="true" rows="10" context="\'variant_group_summary\'" rounded="true"></evidence-grid></div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/variantGroups/talk/VariantGroupTalkView.tpl.html",'<div class="VariantGroupTalkView"><entity-talk-view view-model="vm.VariantGroupsTalkViewModel" revisions-model="vm.VariantGroupRevisionsModel" view-options="vm.VariantGroupsTalkViewOptions"><div class="row variant-group-talk-summary {{ ctrl.styles.view.summaryBackgroundColor }}"><div class="col-xs-12"><variant-group-summary show-variant-grid="false"></variant-group-summary></div></div><div class="row"><div class="col-xs-12"><entity-talk-tabs vertical="false" justified="left"></entity-talk-tabs></div></div><div class="row variant-group-talk-content {{ ctrl.styles.view.talkBackgroundColor }}"><div class="col-xs-12"><ui-view></ui-view></div></div></entity-talk-view></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/variantGroups/talk/variantGroupTalkComments.tpl.html",'<div class="variantGroupTalkComments"><div class="row"><div class="col-xs-12 comment-list"><div ng-switch="ctrl.variantGroupTalkModel.data.comments.length > 0"><div ng-switch-when="true"><ul class="comments"><li ng-repeat="comment in ctrl.variantGroupTalkModel.data.comments"><entity-comment comment-data="comment" entity-model="ctrl.variantGroupTalkModel"></entity-comment></li></ul></div><div ng-switch-default><p>No comments found for Variant {{ ctrl.variantGroupTalkModel.data.entity.name }}.</p></div></div></div></div><div class="row"><div class="col-xs-12 comment-form"><entity-comment-form entity-model="ctrl.variantGroupTalkModel"></entity-comment-form></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/variantGroups/talk/variantGroupTalkLog.tpl.html",'<div class="variantGroupTalkLog"><ul class="log-list"><li ng-repeat="entry in ctrl.logItems"><entity-log-entry entry-data="entry"></entity-log-entry></li></ul></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/variants/edit/VariantEditView.tpl.html",'<div class="VariantEditView"><entity-edit-view view-model="vm.VariantEditViewModel" revisions-model="vm.VariantRevisionsModel" view-options="vm.VariantTalkViewOptions"><div class="row"><div class="col-xs-12"><variant-summary show-evidence-grid="true"></variant-summary></div></div>\x3c!--<div class="row entity-talk-content {{ vm.VariantEditViewOptions.styles.view.talkBackgroundColor }}">--\x3e\x3c!--<div class="col-xs-12">--\x3e\x3c!--<ui-view>--\x3e\x3c!--</ui-view>--\x3e\x3c!--</div>--\x3e\x3c!--</div>--\x3e</entity-edit-view></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/variants/edit/variantEditBasic.tpl.html",'<div class="variantEditBasic {{ vm.styles.edit.editBackgroundColor }}" id="variant-edit-basic"><div class="row form-header" id="variant-edit-form"><div class="stripes-bg"><div class="col-xs-12 name"><h3>EDIT VARIANT <span ng-bind="vm.variant.name">NAME</span></h3></div></div></div><div class="row" ng-if="vm.showInstructions"><div class="col-xs-12"><div class="edit-instructions"><p>Complete your edits, then click the \'Submit Revision for Review\' button.</p></div></div></div><div class="row" ng-if="vm.pendingFields"><div class="col-xs-12"><div class="edit-warning"><p>This Variant has pending revisions to the following fields:</p><ul class="field-list"><li ng-repeat="field in vm.pendingFieldsList">{{ field | keyToLabel }}</li></ul><p>Please <a href="" ng-click="vm.revisionsClick()" style="text-decoration: underline; font-weight: bold">review all pending revisions</a> in order to prevent conflicting submissions.</p></div></div></div><div class="row"><div class="col-xs-12"><div ng-messages="vm.formErrors" class="edit-errors"><div ng-message="500"><div class="alert alert-danger"><strong class="status">500 <span ng-bind="vm.errorMessages[\'500\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'500\']">error prompt</span> <span class="server-message">{{ vm.serverMsg }}</span></div></div><div ng-message="401"><div class="alert alert-danger"><strong class="status">401 <span ng-bind="vm.errorMessages[\'401\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'401\']">error prompt</span> <span class="server-message">{{ vm.serverMsg }}</span></div></div><div ng-message="403"><div class="alert alert-danger"><strong class="status">403 <span ng-bind="vm.errorMessages[\'403\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'403\']">error prompt</span> <span class="server-message">{{ vm.serverMsg }}</span></div></div><div ng-message="409"><div class="alert alert-danger"><strong class="status">409 <span ng-bind="vm.errorMessages[\'409\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'409\']">error prompt</span> <span class="server-message">{{ vm.serverMsg }}</span></div></div></div></div></div><div class="row"><div class="col-xs-12"><div ng-messages="vm.formMessages" class="edit-messages"><div ng-message="submitSuccess"><div class="alert alert-success"><strong class="status">Success</strong> - <span class="message">Your revision was successfully submitted.</span></div></div><div ng-message="applySuccess"><div class="alert alert-success"><strong class="status">Success</strong> - <span class="message">Your revision was successfully applied.</span></div></div></div></div></div><div ng-if="vm.showForm"><div class="row edit-form"><div class="col-xs-12"><form class="form-horizontal"><formly-form options="vm.options" model="vm.variantEdit" fields="vm.variantFields"></formly-form></form></div></div><div class="row"><div class="col-xs-5 col-xs-offset-2"><div class="buttons"><div class="pull-left"><cancel-button></cancel-button></div><div class="pull-right">\x3c!-- show org-select button if user is member of > 1 orgs --\x3e <span ng-switch="vm.currentUser.organizations.length > 1"><span ng-switch-when="true"><div class="btn-group org-select" uib-dropdown><button id="split-button" type="button" class="btn btn-default" ng-click="vm.submit(vm.variantEdit, vm.options)" ng-disabled="vm.form.$invalid || vm.isAuthenticated === false">Submit Revision</button> <button type="button" class="btn btn-default" uib-dropdown-toggle ng-disabled="vm.form.$invalid || vm.isAuthenticated === false">for <span class="avatar" uib-tooltip="{{vm.variantEdit.organization.name}}" tooltip-enable="!(vm.form.$invalid || vm.isAuthenticated === false)"><img ng-src="{{vm.variantEdit.organization.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;<span class="caret"></span></button><ul class="dropdown-menu" uib-dropdown-menu role="menu"><li role="menuitem" ng-repeat="org in vm.currentUser.organizations" ng-class="{\'active\': org.id == vm.variantEdit.organization.id}"><a href ng-click="vm.switchOrg(org.id)"><span class="glyphicon glyphicon-ok" style="margin-left: -12px" ng-class="{\'glyphicon-hide\': org.id !== vm.variantEdit.organization.id}"></span> <span class="avatar"><img ng-src="{{org.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;{{org.name}}</a></li></ul></div></span><span ng-switch-default><button type="submit" class="btn btn-default" ng-disabled="vm.form.$invalid || vm.isAuthenticated === false" ng-click="vm.submit(vm.variantEdit, vm.options)">Submit Revision</button></span></span></div></div></div></div></div><div class="successMessage" ng-if="vm.showSuccessMessage"><div class="row"><div class="col-xs-12 jumbotron"><h1>Thank you.</h1><p>Your suggested revision for Variant {{ vm.variant.name }} has been submitted for review.</p><p><a ng-href="/events/genes/{{vm.stateParams.geneId}}/summary/variants/{{vm.stateParams.variantId}}/talk/revisions/list/{{vm.newRevisionId}}/summary" class="btn btn-small btn-default">View it here</a></p></div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/variants/summary/myVariantInfo.tpl.html",'<div class="myVariantInfo"><table class="table table-condensed summary-details"><colgroup><col width="100%"><col width="21"></colgroup><tr><td class="row"><table class="table table-condensed borderless"><tbody class="common"><tr><td class="key">MyVariant.info ID</td><td class="key">ClinVar ID</td><td class="key">COSMIC ID <span class="small">(v68)</span></td></tr><tr><td class="value"><div class="overflow-ellipses">{{variantInfo._id| ifEmpty: \'--\'}}</div></td><td class="value"><span ng-switch="!!variantInfo.clinvar.variant_id"><span ng-switch-when="true"><a ng-href="https://www.ncbi.nlm.nih.gov/clinvar/variation/{{variantInfo.clinvar.variant_id}}/" target="_blank">{{variantInfo.clinvar.variant_id}}</a> </span><span ng-switch-default>--</span></span></td><td class="value"><span ng-switch="!!variantInfo.cosmic.cosmic_id"><span ng-switch-when="true"><a ng-href="http://cancer.sanger.ac.uk/cosmic/mutation/overview?id={{variantInfo.cosmic.cosmic_id_short}}" target="_blank">{{variantInfo.cosmic.cosmic_id | ifEmpty: \'--\'}}</a> </span><span ng-switch-default>{{variantInfo.cosmic.cosmic_id | ifEmpty: \'--\'}}</span></span></td></tr></tbody></table></td><td class="myvariantlogo" rowspan="4"><div class="pull-right"><img src="assets/images/myvariantinfo_logo.png" width="21" height="116" style="padding-top: 3px"></div></td></tr><tr><td class="row"><table class="table table-condensed borderless"><tbody class="common"><tr><td class="key">dbSNP RSID</td><td class="key">ClinVar Clinical Significance</td></tr><tr><td class="value"><span ng-switch="!!variantInfo.dbsnp.rsid"><span ng-switch-when="true"><a ng-href="https://www.ncbi.nlm.nih.gov/projects/SNP/snp_ref.cgi?searchType=adhoc_search&type=rs&rs={{variantInfo.dbsnp.rsid}}" target="_blank">{{variantInfo.dbsnp.rsid}}</a> </span><span ng-switch-default>--</span></span></td><td class="value">{{variantInfo.clinvar.rcv[0].clinical_significance | ifEmpty: \'--\'}}</td></tr></tbody></table></td></tr><tr><td class="row"><table class="table table-condensed borderless"><tbody class="common"><tr><td class="key">SnpEff&nbsp;Effect</td><td class="key">SnpEff&nbsp;Impact</td><td class="key">gnomAD&nbsp;Adj.&nbsp;AF</td></tr><tr><td class="value">{{variantInfo.snpeff.ann[0].effect | ifEmpty: \'--\'}}</td><td class="value">{{variantInfo.snpeff.ann[0].putative_impact | ifEmpty: \'--\'}}</td><td class="value">{{variantInfo.gnomad_adj_allele_freq | ifEmpty: \'--\'}} <i class="glyphicon glyphicon-info-sign" style="color: #aca" ng-if="variantInfo.gnomad_adj_allele_freq !== undefined" uib-tooltip-html="\'{{variantInfo.gnomad_adj_af_tooltip}}\'"></i></td></tr></tbody></table></td></tr><tr><td colspan="2"><button class="btn btn-block btn-sm btn-default view-gene-details" ng-click="ctrl.openDialog()">View MyVariant.info Details</button></td></tr></table></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){
e.put("app/views/events/variants/summary/myVariantInfoDialog.tpl.html",'<div class="myVariantInfoDialog"><div class="row header"><div class="col-xs-12"><h3>Variant {{ variantInfo.entrez_id }} Details from <a href="http://myvariant.info/" target="_new">MyVariant.info</a></h3></div></div><div class="row"><div class="col-xs-6"><div class="well"><table class="table table-compact"><colgroup><col width="20%"><col width="80%"></colgroup><tr><td class="key">MyVariantInfo ID:</td><td class="value">{{variantInfo._id}}</td></tr></table></div><div class="well"><div class="group-title">ClinVar</div><table class="table table-compact"><tbody><tr><td class="key">ClinVar ID:</td><td class="value"><span ng-switch="!!variantInfo.clinvar.variant_id"><span ng-switch-when="true"><a ng-href="https://www.ncbi.nlm.nih.gov/clinvar/variation/{{variantInfo.clinvar.variant_id}}/" target="_blank">{{variantInfo.clinvar.variant_id}}</a> </span><span ng-switch-default>--</span></span></td></tr><tr><td class="key">Clinical Significance:</td><td class="value">{{variantInfo.clinvar.rcv[0].clinical_significance | ifEmpty: \'--\'}}</td></tr><tr><td class="key">HGVS Coding</td><td class="value"><span ng-switch="variantInfo.clinvar.hgvs.coding.length > 0"><span ng-switch-when="true"><span ng-repeat="hgvs in variantInfo.clinvar.hgvs.coding track by $index">{{hgvs}}{{$last ? \'\' : \', \'}}</span> </span><span ng-switch-default>--</span></span></td></tr><tr><td class="key">HGVS Genomic</td><td class="value"><span ng-switch="variantInfo.clinvar.hgvs.genomic.length > 0"><span ng-switch-when="true"><span ng-repeat="hgvs in variantInfo.clinvar.hgvs.genomic track by $index">{{hgvs}}{{$last ? \'\' : \', \'}}</span> </span><span ng-switch-default>--</span></span></td></tr><tr><td class="key">HGVS Non-coding</td><td class="value"><span ng-switch="variantInfo.clinvar.hgvs.non-coding.length > 0"><span ng-switch-when="true"><span ng-repeat="hgvs in variantInfo.clinvar.hgvs.non-coding track by $index">{{hgvs}}{{$last ? \'\' : \', \'}}</span> </span><span ng-switch-default>--</span></span></td></tr><tr><td class="key">HGVA Protein</td><td class="value">{{variantInfo.clinvar.hgvs.protein| ifEmpty: \'--\'}}</td></tr><tr><td class="key">Omim</td><td class="value"><span ng-switch="!!variantInfo.clinvar.omim"><span ng-switch-when="true"><a ng-href="http://omim.org/entry/{{variantInfo.clinvar.omim.split(\'.\')[0]}}" target="_blank">{{variantInfo.clinvar.omim | ifEmpty: \'--\'}}</a> </span><span ng-switch-default>{{variantInfo.clinvar.omim | ifEmpty: \'--\'}}</span></span></td></tr></tbody></table></div><div class="well"><div class="group-title">SNPEff</div><table class="table table-compact"><tbody><tr><td class="key">SNP Effect</td><td class="value">{{variantInfo.snpeff.ann[0].effect | ifEmpty: \'--\'}}</td></tr><tr><td class="key">SNP Impact</td><td class="value">{{variantInfo.snpeff.ann[0].putative_impact| ifEmpty: \'--\'}}</td></tr></tbody></table></div><div class="well"><div class="group-title">The Genome Aggregation Database</div><table class="table table-compact"><tbody><tr><td class="key">Exome Allele Frequency</td><td class="value">{{variantInfo.gnomad_exome.af.af | ifEmpty: \'--\'}}</td></tr><tr><td class="key">Exome Allele Count</td><td class="value">{{variantInfo.gnomad_exome.ac.ac | ifEmpty: \'--\'}}</td></tr><tr><td class="key">Exome Allele Number</td><td class="value">{{variantInfo.gnomad_exome.an.an | ifEmpty: \'--\'}}</td></tr><tr><td class="key">Exome Filter</td><td class="value"><span ng-switch="variantInfo.gnomad_exome.filter.length > 0"><span ng-switch-when="true"><span ng-repeat="filter in variantInfo.gnomad_exome.filter track by $index">{{filter}}{{$last ? \'\' : \', \'}}</span> </span><span ng-switch-default>--</span></span></td></tr><tr><td class="key">Genome Allele Frequency</td><td class="value">{{variantInfo.gnomad_genome.af.af | ifEmpty: \'--\'}}</td></tr><tr><td class="key">Genome Allele Count</td><td class="value">{{variantInfo.gnomad_genome.ac.ac | ifEmpty: \'--\'}}</td></tr><tr><td class="key">Genome Allele Number</td><td class="value">{{variantInfo.gnomad_genome.an.an | ifEmpty: \'--\'}}</td></tr><tr><td class="key">Genome Filter</td><td class="value">{{variantInfo.gnomad_genome.filter | ifEmpty: \'--\'}}</td></tr></tbody></table></div><div class="well"><div class="group-title">dbSNP</div><table class="table table-compact"><tbody><tr><td class="key">dbSNP RSID</td><td class="value"><span ng-switch="!!variantInfo.dbsnp.rsid"><span ng-switch-when="true"><a ng-href="https://www.ncbi.nlm.nih.gov/projects/SNP/snp_ref.cgi?searchType=adhoc_search&type=rs&rs={{variantInfo.dbsnp.rsid}}" target="_blank">{{variantInfo.dbsnp.rsid}}</a> </span><span ng-switch-default>--</span></span></td></tr></tbody></table></div><div class="well"><div class="group-title">dbNSFP</div><table class="table table-compact"><tbody><tr><td class="key">InterPro Domain</td><td class="value"><span ng-switch="variantInfo.dbnsfp.interpro_domain.length > 0"><span ng-switch-when="true"><span ng-repeat="domain in variantInfo.dbnsfp.interpro_domain track by $index">{{domain}}{{$last ? \'\' : \', \'}}</span> </span><span ng-switch-default>--</span></span></td></tr></tbody></table></div><div class="well"><div class="group-title">Conservation Analysis Tools</div><table class="table table-compact"><tbody><tr><td class="key">phyloP100way</td><td class="value">{{variantInfo.dbnsfp.phylo.p100way.vertebrate | ifEmpty: \'--\'}}</td></tr><tr><td class="key">phyloP20way</td><td class="value">{{variantInfo.dbnsfp.phylo.p20way.mammalian | ifEmpty: \'--\'}}</td></tr><tr><td class="key">phastConsP100way</td><td class="value">{{variantInfo.dbnsfp.phastcons.p100way.vertebrate | ifEmpty: \'--\'}}</td></tr><tr><td class="key">phastConsP20way</td><td class="value">{{variantInfo.dbnsfp.phastcons.p20way.mammalian | ifEmpty: \'--\'}}</td></tr><tr><td class="key">GERP++</td><td class="value">{{variantInfo.dbnsfp[\'gerp++\'].rs | ifEmpty: \'--\'}}</td></tr><tr><td class="key">SiPhy</td><td class="value">{{variantInfo.dbnsfp.siphhy_29way_logodds | ifEmpty: \'--\'}}</td></tr></tbody></table></div><div class="well"><div class="group-title">Emory Genetics Lab Variant Classification</div><table class="table table-compact"><tbody><tr><td class="key">EGL Class</td><td class="value">{{variantInfo.emv.egl_classification | ifEmpty: \'--\'}}</td></tr><tr><td class="key">Protein Variant Name</td><td class="value">{{variantInfo.emv.egl_protein | ifEmpty: \'--\'}}</td></tr><tr><td class="key">Transcript Variant Name</td><td class="value">{{variantInfo.emv.egl_variant | ifEmpty: \'--\'}}</td></tr><tr><td class="key">HGVS</td><td class="value"><span ng-switch="variantInfo.emv.hgvs.length > 0"><span ng-switch-when="true"><span ng-repeat="hgvs in variantInfo.emv.hgvs track by $index">{{hgvs}}{{$last ? \'\' : \', \'}}</span> </span><span ng-switch-default>--</span></span></td></tr></tbody></table></div></div><div class="col-xs-6"><div class="well"><table class="table table-compact"><tbody><tr><td class="key">COSMIC ID:</td><td class="value"><span ng-switch="!!variantInfo.cosmic.cosmic_id"><span ng-switch-when="true"><a ng-href="http://cancer.sanger.ac.uk/cosmic/mutation/overview?id={{variantInfo.cosmic.cosmic_id_short}}" target="_blank">{{variantInfo.cosmic.cosmic_id | ifEmpty: \'--\'}}</a> </span><span ng-switch-default>{{variantInfo.cosmic.cosmic_id | ifEmpty: \'--\'}}</span></span></td></tr></tbody></table></div><div class="well"><div class="group-title">Effect Predictors</div><table class="table table-compact"><tbody><tr class="section-title"><td colspan="2">REVEL</td></tr><tr><td class="key">Effect Score</td><td class="value">{{variantInfo.dbnsfp.revel.score | ifEmpty: \'--\'}}</td></tr><tr class="section-title"><td colspan="2">SIFT</td></tr><tr><td class="key">Effect Prediction</td><td class="value"><span ng-switch="variantInfo.dbnsfp.sift.pred.length > 0"><span ng-switch-when="true"><span ng-repeat="pred in variantInfo.dbnsfp.sift.pred track by $index">{{pred}}{{$last ? \'\' : \', \'}}</span> </span><span ng-switch-default>--</span></span></td></tr><tr><td class="key">Effect Score</td><td class="value"><span ng-switch="variantInfo.dbnsfp.sift.score.length > 0"><span ng-switch-when="true"><span ng-repeat="score in variantInfo.dbnsfp.sift.score track by $index">{{score}}{{$last ? \'\' : \', \'}}</span> </span><span ng-switch-default>--</span></span></td></tr><tr class="section-title"><td colspan="2">Polyphen2 HDIV</td></tr><tr><td class="key">Effect Prediction</td><td class="value"><span ng-switch="variantInfo.dbnsfp.polyphen2.hdiv.pred.length > 0"><span ng-switch-when="true"><span ng-repeat="pred in variantInfo.dbnsfp.polyphen2.hdiv.pred track by $index">{{pred}}{{$last ? \'\' : \', \'}}</span> </span><span ng-switch-default>--</span></span></td></tr><tr><td class="key">Effect Score</td><td class="value"><span ng-switch="variantInfo.dbnsfp.polyphen2.hdiv.score.length > 0"><span ng-switch-when="true"><span ng-repeat="score in variantInfo.dbnsfp.polyphen2.hdiv.score track by $index">{{score}}{{$last ? \'\' : \', \'}}</span> </span><span ng-switch-default>--</span></span></td></tr><tr class="section-title"><td colspan="2">Polyphen2 HVAR</td></tr><tr><td class="key">Effect Prediction</td><td class="value"><span ng-switch="variantInfo.dbnsfp.polyphen2.hvar.pred.length > 0"><span ng-switch-when="true"><span ng-repeat="pred in variantInfo.dbnsfp.polyphen2.hvar.pred track by $index">{{pred}}{{$last ? \'\' : \', \'}}</span> </span><span ng-switch-default>--</span></span></td></tr><tr><td class="key">Effect Score</td><td class="value"><span ng-switch="variantInfo.dbnsfp.polyphen2.hvar.score.length > 0"><span ng-switch-when="true"><span ng-repeat="score in variantInfo.dbnsfp.polyphen2.hvar.score track by $index">{{score}}{{$last ? \'\' : \', \'}}</span> </span><span ng-switch-default>--</span></span></td></tr><tr class="section-title"><td colspan="2">LRT</td></tr><tr><td class="key">Effect Prediction</td><td class="value">{{variantInfo.dbnsfp.lrt.pred | ifEmpty: \'--\'}}</td></tr><tr><td class="key">Effect Score</td><td class="value">{{variantInfo.dbnsfp.lrt.score | ifEmpty: \'--\'}}</td></tr><tr class="section-title"><td colspan="2">MutationTaster</td></tr><tr><td class="key">Effect Prediction</td><td class="value"><span ng-switch="variantInfo.dbnsfp.mutationtaster.pred.length > 0"><span ng-switch-when="true"><span ng-repeat="pred in variantInfo.dbnsfp.mutationtaster.pred track by $index">{{pred}}{{$last ? \'\' : \', \'}}</span> </span><span ng-switch-default>--</span></span></td></tr><tr><td class="key">Effect Score</td><td class="value"><span ng-switch="variantInfo.dbnsfp.mutationtaster.score.length > 0"><span ng-switch-when="true"><span ng-repeat="score in variantInfo.dbnsfp.mutationtaster.score track by $index">{{score}}{{$last ? \'\' : \', \'}}</span> </span><span ng-switch-default>--</span></span></td></tr><tr class="section-title"><td colspan="2">MutationAssessor</td></tr><tr><td class="key">Effect Prediction</td><td class="value"><span ng-switch="variantInfo.dbnsfp.mutationassessor.pred.length > 0"><span ng-switch-when="true"><span ng-repeat="pred in variantInfo.dbnsfp.mutationassessor.pred track by $index">{{pred}}{{$last ? \'\' : \', \'}}</span> </span><span ng-switch-default>--</span></span></td></tr><tr><td class="key">Effect Score</td><td class="value"><span ng-switch="variantInfo.dbnsfp.mutationassessor.score.length > 0"><span ng-switch-when="true"><span ng-repeat="score in variantInfo.dbnsfp.mutationassessor.score track by $index">{{score}}{{$last ? \'\' : \', \'}}</span> </span><span ng-switch-default>--</span></span></td></tr><tr class="section-title"><td colspan="2">FATHMM</td></tr><tr><td class="key">Effect Prediction</td><td class="value"><span ng-switch="variantInfo.dbnsfp.fathmm.pred.length > 0"><span ng-switch-when="true"><span ng-repeat="pred in variantInfo.dbnsfp.fathmm.pred track by $index">{{pred}}{{$last ? \'\' : \', \'}}</span> </span><span ng-switch-default>--</span></span></td></tr><tr><td class="key">Effect Score</td><td class="value"><span ng-switch="variantInfo.dbnsfp.fathmm.score.length > 0"><span ng-switch-when="true"><span ng-repeat="score in variantInfo.dbnsfp.fathmm.score track by $index">{{score}}{{$last ? \'\' : \', \'}}</span> </span><span ng-switch-default>--</span></span></td></tr><tr class="section-title"><td colspan="2">PROVEAN</td></tr><tr><td class="key">Effect Prediction</td><td class="value"><span ng-switch="variantInfo.dbnsfp.provean.pred.length > 0"><span ng-switch-when="true"><span ng-repeat="pred in variantInfo.dbnsfp.provean.pred track by $index">{{pred}}{{$last ? \'\' : \', \'}}</span> </span><span ng-switch-default>--</span></span></td></tr><tr><td class="key">Effect Score</td><td class="value"><span ng-switch="variantInfo.dbnsfp.provean.score.length > 0"><span ng-switch-when="true"><span ng-repeat="score in variantInfo.dbnsfp.provean.score track by $index">{{score}}{{$last ? \'\' : \', \'}}</span> </span><span ng-switch-default>--</span></span></td></tr><tr class="section-title"><td colspan="2">MetaSVM</td></tr><tr><td class="key">Effect Prediction</td><td class="value">{{variantInfo.dbnsfp.metasvm.pred | ifEmpty: \'--\'}}</td></tr><tr><td class="key">Effect Score</td><td class="value">{{variantInfo.dbnsfp.metasvm.score | ifEmpty: \'--\'}}</td></tr><tr class="section-title"><td colspan="2">MetaLR</td></tr><tr><td class="key">Effect Prediction</td><td class="value">{{variantInfo.dbnsfp.metalr.pred | ifEmpty: \'--\'}}</td></tr><tr><td class="key">Effect Score</td><td class="value">{{variantInfo.dbnsfp.metalr.score | ifEmpty: \'--\'}}</td></tr><tr class="section-title"><td colspan="2">CADD</td></tr><tr><td class="key">Consequence</td><td class="value"><span ng-switch="variantInfo.cadd.consequence.length > 0"><span ng-switch-when="true"><span ng-repeat="consequence in variantInfo.cadd.consequence track by $index">{{consequence}}{{$last ? \'\' : \', \'}}</span> </span><span ng-switch-default>--</span></span></td></tr><tr><td class="key">Consequence Detail</td><td class="value"><span ng-switch="variantInfo.cadd.consdetail.length > 0"><span ng-switch-when="true"><span ng-repeat="detail in variantInfo.cadd.consdetail track by $index">{{detail}}{{$last ? \'\' : \', \'}}</span> </span><span ng-switch-default>--</span></span></td></tr><tr><td class="key">Raw Score</td><td class="value">{{variantInfo.cadd.rawscore | ifEmpty: \'--\'}}</td></tr><tr class="section-title"><td colspan="2">FATHMM-MKL</td></tr><tr><td class="key">Effect Prediction</td><td class="value">{{variantInfo.dbnsfp.fathmm-mkl.coding_pred | ifEmpty: \'--\'}}</td></tr><tr><td class="key">Effect Score</td><td class="value">{{variantInfo.dbnsfp.fathmm-mkl.coding_score | ifEmpty: \'--\'}}</td></tr><tr class="section-title"><td colspan="2">fitCons</td></tr><tr><td class="key">Effect Score</td><td class="value">{{variantInfo.dbnsfp.integrated.fitcons_score | ifEmpty: \'--\'}}</td></tr></tbody></table></div><div class="well"><div class="group-title">The Exome Aggregation Consortium</div><table class="table table-compact"><tbody><tr><td class="key">Allele Count</td><td class="value">{{variantInfo.exac.ac.ac_adj[0] | ifEmpty: \'--\'}}</td></tr><tr><td class="key">Allele Number</td><td class="value">{{variantInfo.exac.an.an_adj[0] | ifEmpty: \'--\'}}</td></tr><tr><td class="key">Adjusted Allele Frequency</td><td class="value">{{variantInfo.exac.adj_allele_freq | ifEmpty: \'--\'}}</td></tr></tbody></table></div></div></div><div class="row buttons"><div class="col-xs-12"><div class="pull-right"><button type="button" class="btn btn-default close" ng-click="ctrl.closeDialog()">Done</button></div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/variants/summary/variantSummary.tpl.html",'<div class="variantSummary {{ backgroundColor }}"><div class="row"><div class="col-xs-12 col-md-7"><div class="row"><div class="col-xs-12"><div class="row"><div ng-if="variant.variant_aliases.length > 0" ng-class="{\'col-xs-7\': variant.allele_registry_id !== null, \'col-xs-12\': variant.allele_registry_id === null }"><p><strong>Aliases: </strong><span ng-repeat="alias in variant.variant_aliases">{{ $first ? \'\' : $last ? ( variant.variant_aliases.length > 2 ? \', and \' : \' and \' ) : \', \' }} {{ alias }}</span></p></div><div ng-if="variant.allele_registry_id !== null" ng-class="{\'col-xs-5\': variant.allele_registry_id !== null , \'col-xs-12\': variant.variant_aliases.length === 0 }"><p><strong>Allele Registry ID: </strong><span ng-switch="variant.allele_registry_id"><span ng-switch-when="unregistered"><a ng-href="http://reg.clinicalgenome.org/redmine/projects/registry/genboree_registry/allele?hgvs={{variant.allele_registry_hgvs}}" target="_blank" uib-tooltip="Allele does not appear to be registered. Click to view its page and obtain a canonical allele identifier from ClinGen.">Unregistered</a> </span><span ng-switch-default><a ng-href="https://reg.genome.network/allele/{{variant.allele_registry_id}}.html" target="_blank">{{variant.allele_registry_id}}</a></span></span></p></div></div></div></div><div class="row"><div class="col-xs-12"><div ng-switch="variant.description.length > 0"><div ng-switch-when="true"><p ng-bind="variant.description" class="description">Variant Summary.</p></div><div ng-switch-default="false">\x3c!-- check for provisional description --\x3e<div ng-switch="variant.provisional_values.description || \'_undefined_\'"><div ng-switch-when="_undefined_"><p class="description">This Variant does not currently have a Summary.</p><div ng-if="isAuthenticated() && !isEdit"><p><a class="btn btn-small btn-default" ui-sref="events.genes.summary.variants.edit.basic({ geneId: stateParams.geneId, variantId: variant.id })">Add a Summary</a></p></div></div><div ng-switch-default><p></p><div class="label label-warning" style="display:block">CAUTION: This is a provisional description from a Suggested Change not yet accepted by an Editor.</div><p></p><p ng-bind="variant.provisional_values.description.value" class="description">Variant Provisional Summary</p><p><a ng-href="/events/genes/{{stateParams.geneId}}/summary/variants/{{variant.id}}/talk/revisions/list/{{variant.provisional_values.description.revision_id}}/summary" class="btn btn-default btn-block btn-xs">View This Description\'s Suggested Change</a></p></div></div></div></div></div></div><div class="row"><div class="col-xs-12 col-md-6"><div class="variant-types"><p><strong>Variant Type<span ng-if="variant.variant_types.length > 1">s</span>:</strong><br><span ng-switch="variant.variant_types.length > 0"><span ng-switch-when="true"><span ng-repeat="type in variant.variant_types">{{ $first ? \'\' : $last ? ( variant.variant_types.length > 2 ? \', and \' : \' and \' ) : \', \' }} <span ng-if="type.display_name !== \'N/A\'"><a ng-href="{{ type.url }}" target="_blank">{{type.display_name}}</a> </span><span ng-if="type.display_name === \'N/A\'">{{type.display_name}}</span> </span></span><span ng-switch-when="false" class="small" style="font-style: oblique; color: #666">None specified.</span></span></p></div><div class="hgvs-expressions"><p><strong>HGVS Description<span ng-if="variant.hgvs_expressions.length > 1">s</span>:</strong><br><span ng-switch="variant.hgvs_expressions.length > 0"><span ng-switch-when="true"><span ng-repeat="expression in variant.hgvs_expressions" class="small">{{ $first ? \'\' : $last ? ( variant.hgvs_expressions.length > 2 ? \', and \' : \' and \' ) : \', \' }} {{ expression }} </span></span><span ng-switch-when="false" class="small" style="font-style: oblique; color: #666">None specified.</span></span></p></div><div class="clinvar-ids"><p><strong>ClinVar ID<span ng-if="variant.clinvar_entries.length > 1">s</span>:</strong><br><span ng-switch="variant.clinvar_entries.length > 0"><span ng-switch-when="true"><span ng-repeat="clinvar_id in variant.clinvar_entries" class="small">{{ $first ? \'\' : $last ? ( variant.clinvar_entries.length > 2 ? \', and \' : \' and \' ) : \', \' }} <a ng-if="clinvar_ignore.indexOf(clinvar_id) == -1" ng-href="https://www.ncbi.nlm.nih.gov/clinvar/variation/{{ clinvar_id }}/" target="_blank">{{ clinvar_id }}</a> <span ng-if="clinvar_ignore.indexOf(clinvar_id) !== -1">{{ clinvar_id }}</span> </span></span><span ng-switch-when="false" class="small" style="font-style: oblique; color: #666">None specified.</span></span></p></div><div class="civic-variant-score"><p><strong>CIViC Variant Evidence Score:</strong><br>{{variant.civic_actionability_score | ifEmpty: \'--\' }}</p></div></div><div class="col-xs-12 col-md-6"><div ng-if="variant.sources.length > 0"><strong>Sources:</strong><ul class="sources"><li ng-repeat="source in variant.sources"><a ui-sref="sources.summary({sourceId:source.id})"><span class="small" ng-bind="source.citation"></span></a></li></ul></div><div class="row" ng-if="variant.assertions.length > 0"><div class="col-xs-12"><div class="assertions"><strong>Assertions:</strong><br><div style="padding-top: 8px"><assertion-tag ng-repeat="assertion in variant.assertions | orderBy:\'id\'" ng-show="assertion.status !== \'rejected\' || showAll === true" assertion="assertion"></assertion-tag></div></div><div ng-show="hasHiddenAssertions" class="small" style="margin-top: 8px"><span>Show&nbsp;rejected:</span>&nbsp;&nbsp; <input type="checkbox" id="showAll" ng-model="showAll"></div></div></div></div></div></div><div class="col-xs-12 col-md-5"><div class="coordinates-block"><div class="section-title first">Representative Variant Coordinates</div><div class="section-title first">Ref. Build: <span class="val">{{ variant.coordinates.reference_build | ifEmpty: \'--\' }}</span>&nbsp;&nbsp; Ensembl Version: <span class="val">{{ variant.coordinates.ensembl_version| ifEmpty: \'--\' }}</span></div><table class="table table-condensed borderless"><tbody class="common"><tr><td class="key">Chr.</td><td class="key">Start</td><td class="key">Stop</td><td class="key">Ref. Bases</td><td class="key">Var. Bases</td></tr><tr><td class="value">{{variant.coordinates.chromosome | ifEmpty: \'--\'}}</td><td class="value">{{variant.coordinates.start | ifEmpty: \'--\'}}</td><td class="value">{{variant.coordinates.stop | ifEmpty: \'--\'}}</td><td class="value">{{variant.coordinates.reference_bases | ifEmpty: \'--\'}}</td><td class="value">{{variant.coordinates.variant_bases | ifEmpty: \'--\'}}</td></tr><tr><td class="key small" colspan="5">Transcript</td></tr><tr><td class="value" colspan="5"><a ng-if="variants.coordinates.respresentative_transcript !== null" ng-href="http://www.ensembl.org/Homo_sapiens/transview?transcript={{variant.coordinates.representative_transcript}}" target="_blank">{{ variant.coordinates.representative_transcript }} </a><span ng-if="variant.coordinates.representative_transcript === null">--</span></td></tr></tbody></table><div ng-if="variant.coordinates.chromosome2"><div class="section-title">COORDINATE 2</div><table class="table table-condensed borderless"><tbody class="common"><tr><td class="key">Chr.</td><td class="key small">Start</td><td class="key small">Stop</td><td class="key small">Transcript</td></tr><tr><td class="value">{{variant.coordinates.chromosome2 | ifEmpty: \'--\'}}</td><td class="value">{{variant.coordinates.start2 | ifEmpty: \'--\'}}</td><td class="value">{{variant.coordinates.stop2 | ifEmpty: \'--\'}}</td><td class="value"><a ng-if="variants.coordinates.respresentative_transcript2 !== null" ng-href="http://www.ensembl.org/Homo_sapiens/transview?transcript={{variant.coordinates.representative_transcript2}}" target="_blank">{{ variant.coordinates.representative_transcript2 }} </a><span ng-if="variant.coordinates.representative_transcript2 === null">--</span></td></tr></tbody></table></div><div ng-if="isAuthenticated() && !isEdit"><a class="btn btn-default btn-xs btn-block" ng-click="editClick()">Edit Coordinates</a></div></div><my-variant-info ng-if="myVariantInfo._id" variant-info="myVariantInfo" entrez-id="variant.name"></my-variant-info></div></div><div ng-if="showEvidenceGrid === true"><div class="row"><div class="col-xs-12 evidence-item-grid"><evidence-grid evidence="evidence" variant="variant" show-gene-col="false" show-variant-col="false" context="\'summary\'" rounded="false"></evidence-grid></div></div><div class="row"><div class="col-xs-12"><div class="evidence-view"><ui-view><div class="alert alert-info select-prompt">&uparrow; Click on an <strong>Evidence Item</strong> above to view its details here.</div></ui-view></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/variants/talk/VariantTalkView.tpl.html",'<div class="VariantTalkView"><entity-talk-view view-model="vm.VariantsTalkViewModel" revisions-model="vm.VariantRevisionsModel" view-options="vm.VariantsTalkViewOptions"><div class="row"><div class="col-xs-12"><variant-summary show-evidence-grid="false"></variant-summary></div></div><div class="row variant-talk-tabs"><div class="col-xs-12"><entity-talk-tabs vertical="false" justified="left"></entity-talk-tabs></div></div><div class="row entity-talk-content {{ vm.VariantsTalkViewOptions.styles.view.talkBackgroundColor }}"><div class="col-xs-12"><ui-view></ui-view></div></div></entity-talk-view></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/variants/talk/variantTalkComments.tpl.html",'<div class="variantTalkComments"><div class="row"><div class="col-xs-12 comment-list"><div ng-switch="ctrl.variantTalkModel.data.comments.length > 0"><div ng-switch-when="true"><ul class="comments"><li ng-repeat="comment in ctrl.variantTalkModel.data.comments"><entity-comment comment-data="comment" entity-model="ctrl.variantTalkModel"></entity-comment></li></ul></div><div ng-switch-default><p>No Comments for Variant {{ ctrl.variantTalkModel.data.item.name }}.</p></div></div></div></div><div class="row"><div class="col-xs-12 comment-form"><entity-comment-form type="entity" entity-model="ctrl.variantTalkModel"></entity-comment-form></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/variants/talk/variantTalkLog.tpl.html",'<div class="variantTalkLog"><ul class="log-list"><li ng-repeat="entry in ctrl.logItems"><entity-log-entry entry-data="entry"></entity-log-entry></li></ul></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/assertionGrid/assertionGrid.tpl.html",'<div class="assertionGrid"><div class="row"><div class="col-xs-10"><h4><span ng-switch="ctrl.context"><span ng-switch-when="summary">Assertions</span> <span ng-switch-when="search">Search Results</span> </span><span class="record-info"><span>{{ ctrl.gridApi.grid.rows.length }} total items</span> <span ng-if="ctrl.gridApi.grid.renderContainers.body.visibleRowCache.length !== ctrl.gridApi.grid.rows.length">(showing {{ctrl.gridApi.grid.renderContainers.body.visibleRowCache.length}})</span></span></h4></div><div class="col-xs-2"><button class="btn btn-default btn-xs pull-right col-key btn-block" uib-popover-template="ctrl.exportPopover.templateUrl" popover-trigger="\'outsideClick\'" ng-disabled="ctrl.assertionGridOptions.data.length < 1" popover-placement="bottom"><span class="glyphicon glyphicon-export" aria-hidden="true"></span> Get Data</button></div></div><div class="row"><div class="col-xs-12"><div ui-grid="ctrl.assertionGridOptions" ui-grid-cellnav ui-grid-auto-resize ui-grid-exporter ui-grid-selection></div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/assertionGrid/assertionGridAmpCell.tpl.html",'<div class="ampCell ngCellText ui-grid-cell-contents" uib-tooltip="{{row.entity[\'amp_level\']}}" tooltip-popup-delay="{{ctrl.tooltipPopupDelay}}" tooltip-placement="right" tooltip-append-to-body="true"><span search-highlighting="col" highlight-content="COL_FIELD">{{ COL_FIELD; CUSTOM_FILTERS }}</span></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/assertionGrid/assertionGridEvidenceCell.tpl.html",'<div class="ngCellText ui-grid-cell-contents" ng-class="col.colIndex()">{{ row.entity[col.field] }} <span ng-if="row.entity[col.field] == 0">&nbsp;<i class="glyphicon glyphicon-exclamation-sign" style="color: #942830" uib-tooltip="Assertion has zero evidence and is likely under active curation." tooltip-append-to-body="true"></i></span></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/assertionGrid/assertionGridIdCell.tpl.html","<div class=\"ngCellText idCell\" ng-class=\"col.colIndex()\" uib-tooltip=\"AID{{row.entity[col.field]}}: {{row.entity['status']|capitalize}}{{row.entity['open_change_count'] > 0 ? '; ' + row.entity['open_change_count'] + ' revisions pending' : ''}}\" tooltip-popup-delay=\"{{ctrl.tooltipPopupDelay}}\" tooltip-placement=\"right\" tooltip-append-to-body=\"true\"><span class=\"btn-block\" ng-class=\"{ 'statusAccepted': row.entity['status'] === 'accepted', 'statusSubmitted': row.entity['status'] === 'submitted', 'statusRejected': row.entity['status'] === 'rejected' }\"><i class=\"glyphicon glyphicon-exclamation-sign pending-alert pending-changes\" ng-if=\"row.entity['open_change_count'] > 0\"></i> {{ row.entity[col.field] }} <i class=\"glyphicon glyphicon-flag\" style=\"color: #942830\" ng-if=\"row.entity['flagged']\"></i></span></div>")}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/changesGrid/changesGrid.tpl.html",'<div class="changesGrid"><div class="row"><div class="col-xs-10"><h4><span ng-switch="ctrl.context"><span ng-switch-when="summary">Suggested Changes</span> <span ng-switch-when="search">Search Results</span> </span><span class="record-info"><span>{{ ctrl.gridApi.grid.rows.length }} total items</span> <span ng-if="ctrl.gridApi.grid.renderContainers.body.visibleRowCache.length !== ctrl.gridApi.grid.rows.length">(showing {{ctrl.gridApi.grid.renderContainers.body.visibleRowCache.length}})</span></span></h4></div><div class="col-xs-2"><button class="btn btn-default btn-xs pull-right col-key btn-block" uib-popover-template="ctrl.exportPopover.templateUrl" popover-trigger="\'outsideClick\'" ng-disabled="ctrl.changesGridOptions.data.length < 1" popover-placement="bottom"><span class="glyphicon glyphicon-export" aria-hidden="true"></span> Get Data</button></div></div><div class="row"><div class="col-xs-12"><div ui-grid="ctrl.changesGridOptions" ui-grid-cellnav ui-grid-auto-resize ui-grid-exporter ui-grid-selection></div></div>\x3c!-- <pre ng-bind="suggested_changes|json"> --\x3e\x3c!-- </pre> --\x3e</div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/changesGrid/entityStatusCell.tpl.html",'<div class="ngCellText ui-grid-cell-contents" ng-class="col.colIndex()">{{ row.entity[col.field] }} <span ng-if="row.entity[\'unlinkable\'] === true">&nbsp;<i class="glyphicon glyphicon-exclamation-sign" style="color: #942830" uib-tooltip="Entity has been deleted and is not linkable" tooltip-append-to-body="true"></i></span></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){
e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/changesGrid/tooltipCell.tpl.html",'<div class="ngCellText" ng-class="col.colIndex()" uib-tooltip="{{row.entity[col.field]}}" tooltip-append-to-body="true"><div search-highlighting="col" highlight-content="row.entity[col.field]">{{ row.entity[col.field] }}</div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/diffs/description.tpl.html","")}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/evidenceSelector/evidenceSelector.tpl.html",'<div class="evidenceSelector"><div class="row"><div class="col-xs-12"><div class="gridContainer"><div ui-grid="ctrl.gridOptions" ui-grid-cellnav ui-grid-selection ui-grid-pagination ui-grid-auto-resize></div></div></div></div><div class="row"><div class="col-xs-12 text-center grid-pagination"><ul uib-pagination ng-if="ctrl.totalItems" class="pagination-sm" ng-change="ctrl.pageChanged()" ng-model="ctrl.page" items-per-page="ctrl.maxRows" max-size="15" boundary-links="true" rotate="false" align="true" total-items="ctrl.totalItems" direction-links="true"></ul></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/evidenceSelector/evidenceSelectorAddCell.tpl.html",'<div class="ui-grid-cell-contents"><span ng-switch="grid.appScope.ctrl.isInItems(row.entity.id)"><span ng-switch-when="true"><span uib-tooltip="Remove Evidence Item" tooltip-append-to-body="true"><button ng-click="grid.appScope.ctrl.removeItem(row.entity)" class="btn btn-xs btn-cell-remove"><i class="glyphicon glyphicon-minus"></i></button> </span></span><span ng-switch-when="false"><span uib-tooltip="Add Evidence Item" tooltip-append-to-body="true"><a ng-click="grid.appScope.ctrl.addItem(row.entity)" class="btn btn-xs btn-cell-add"><i class="glyphicon glyphicon-plus"></i></a></span></span></span></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/evidenceSelector/evidenceSelectorRemoveCell.tpl.html",'<div class="ui-grid-cell-contents"><span uib-tooltip="Remove Evidence Item" tooltip-append-to-body="true"><button ng-click="grid.appScope.ctrl.removeItem(row.entity)" class="btn btn-xs btn-cell-add">Remove Evidence</button></span></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/evidenceSelector/evidenceSelectorRowTemplate.tpl.html",'<div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name" class="ui-grid-cell" ng-class="{ \'ui-grid-row-header-cell\': col.isRowHeader }" ui-grid-cell></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/geneGrid/geneGrid.tpl.html",'<div class="geneGrid"><div class="row"><div class="col-xs-10"><h4><span ng-switch="ctrl.context"><span ng-switch-when="summary">Genes</span> <span ng-switch-when="search">Search Results</span> </span><span class="record-info"><span>{{ ctrl.gridApi.grid.rows.length }} total items</span> <span ng-if="ctrl.gridApi.grid.renderContainers.body.visibleRowCache.length !== ctrl.gridApi.grid.rows.length">(showing {{ctrl.gridApi.grid.renderContainers.body.visibleRowCache.length}})</span></span></h4></div><div class="col-xs-2"><button class="btn btn-default btn-xs pull-right col-key btn-block" uib-popover-template="ctrl.exportPopover.templateUrl" popover-trigger="\'outsideClick\'" ng-disabled="ctrl.geneGridOptions.data.length < 1" popover-placement="bottom"><span class="glyphicon glyphicon-export" aria-hidden="true"></span> Get Data</button></div></div><div class="row"><div class="col-xs-12"><div ui-grid="ctrl.geneGridOptions" ui-grid-cellnav ui-grid-auto-resize ui-grid-exporter ui-grid-selection></div></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/common/geneGrid/tooltipCell.tpl.html",'<div class="ngCellText ui-grid-cell-contents" ng-class="col.colIndex()" uib-tooltip="{{row.entity[col.field]}}" tooltip-append-to-body="true"><span search-highlighting="col" highlight-content="row.entity[col.field]">{{ row.entity[col.field] }}</span></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/users/profile/edit/profileEdit.tpl.html",'<div class="profileEdit"><div class="row"><div class="col-xs-3"><div class="card-block"><user-card user="vm.userEdit"></user-card></div></div><div class="col-xs-9"><form class="form-horizontal"><formly-form options="vm.options" model="vm.userEdit" fields="vm.userEditFields"></formly-form></form><cancel-button></cancel-button><button type="submit" class="btn btn-default" ng-click="vm.saveProfile(vm.userEdit, vm.options)">Save Profile</button> <span ng-show="vm.submitSuccess" style="color: forestgreen; margin-left: 10px">Profile successfully updated. Returning you to your profile in {{ vm.count }} seconds. </span><span ng-show="vm.submitFail" style="color: darkred; margin-left: 10px">Error updating profile!</span></div></div>\x3c!--<div class="row">--\x3e\x3c!--<div class="col-xs-6">--\x3e\x3c!--<p>vm.userEdit:</p>--\x3e\x3c!--<pre ng-bind="vm.userEdit|json"></pre>--\x3e\x3c!--</div>--\x3e\x3c!--</div>--\x3e</div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/assertions/summary/components/assertionSummaryCmp.tpl.html",'<div class="assertionsSummaryCmp"><div class="row"><div class="col-xs-12 col-md-6">\x3c!-- status warnings --\x3e<div class="row" ng-if="vm.assertion.status !== \'accepted\'"><div class="col-xs-12 notices"><div class="label label-warning" style="display:block" ng-if="vm.assertion.status === \'submitted\'">CAUTION: This Assertion has not been accepted as accurate or complete!</div><div class="label label-danger" style="display:block" ng-if="vm.assertion.status === \'rejected\'">WARNING: This Assertion has been rejected!</div></div></div>\x3c!-- general assertion warnings --\x3e<div class="row"><div class="col-xs-12 notices"><div class="label label-danger" style="display:block" ng-if="vm.assertion.evidence_items.length === 0">WARNING: This Assertion has not been assigned any supporting Evidence!</div></div></div>\x3c!-- predisposing assertion warnings --\x3e<div class="row" ng-if="vm.assertion.evidence_type === \'Predisposing\'"><div class="col-xs-12 notices"><div class="label label-danger" style="display:block" ng-if="vm.assertion.acmg_codes.length === 0">WARNING: This Predisposing Assertion has not been assigned any ACMG/AMP Codes!</div></div></div>\x3c!-- non-predisposing assertion warnings --\x3e<div class="row" ng-if="vm.assertion.evidence_type !== \'Predisposing\'"><div class="col-xs-12 notices"><div class="label label-warning" style="display:block" ng-if="vm.assertion.amp_level === null">CAUTION: This Assertion has not been assigned an AMP/ASCO/CAP Category!</div></div></div><div class="row"><div class="col-xs-12"><p><strong>Gene: </strong><a ui-sref="events.genes.summary({geneId: vm.assertion.gene.id})">{{ vm.assertion.gene.name }}</a>&nbsp;&nbsp; <strong>Variant: </strong><a ui-sref="events.genes.summary.variants.summary({geneId: vm.assertion.gene.id, variantId: vm.assertion.variant.id})">{{ vm.assertion.variant.name }}</a>&nbsp;&nbsp; <span ng-if="vm.assertion.allele_registry_id !== null && vm.assertion.allele_registry_id !== undefined"><strong>Variant Allele Registry ID: </strong><a ng-href="https://reg.genome.network/allele/{{vm.assertion.allele_registry_id}}.html" target="_blank">{{vm.assertion.allele_registry_id}}</a></span></p><p><span ng-if="vm.assertion.variant_origin"><strong>Variant Origin: </strong>{{vm.assertion.variant_origin}}&nbsp;&nbsp;</span> <strong>Disease:</strong> <span ng-switch="vm.assertion.disease.url !== null"><span ng-switch-when="true"><a ng-href="{{vm.assertion.disease.url}}">{{vm.assertion.disease.display_name}}</a> </span><span ng-switch-default>{{vm.assertion.disease.display_name}}</span></span></p><p ng-if="vm.assertion.phenotypes.length > 0"><strong>Associated Phenotype{{ vm.assertion.phenotypes.length > 1 ? \'s\' : \'\' }}:</strong> <span ng-bind-html="vm.assertion.phenotypesStr"></span></p></div></div><div class="row"><div class="col-xs-12"><p><strong>Summary:</strong> <span ng-bind="vm.assertion.summary">Description</span></p></div></div><div class="row" ng-if="vm.assertion.description.length > 0"><div class="col-xs-12"><p><strong>Description:</strong> <span ng-bind="vm.assertion.description">Description</span></p></div></div><div class="row" style="margin-bottom: 1em"><div class="col-xs-12"><a class="btn btn-default btn-block btn-xs" uib-popover-template="\'disclaimerPopover.tpl.html\'" popover-title="Disclaimer" popover-trigger="\'outsideClick\'" popover-placement="top"><i class="glyphicon glyphicon-hand-up"></i> For Research Use Only</a></div></div><div class="row"><div class="col-xs-12"><my-variant-info ng-if="vm.myVariantInfo._id" variant-info="vm.myVariantInfo" entrez-id="vm.assertion.variant.name"></my-variant-info></div></div></div><div class="col-xs-12 col-md-6"><div class="row"><div class="col-xs-12"><div class="well"><table class="table"><tr><td class="key">Assertion Type:</td><td class="value">{{vm.assertion.evidence_type}}</td></tr><tr><td class="key">Assertion Direction:</td><td class="value">{{vm.assertion.evidence_direction}}</td></tr><tr><td class="key">Clinical Significance:</td><td class="value">{{ vm.assertion.clinical_significance }}</td></tr><tr ng-if="vm.assertion.drugs.length > 0"><td class="key">Drug(s):</td><td class="value"><span ng-bind-html="vm.assertion.drugsStr">DRUGS</span> <span ng-if="vm.assertion.drug_interaction_type">&nbsp;({{ vm.assertion.drug_interaction_type }})</span></td></tr><tr ng-if="vm.assertion.evidence_type !== \'Predisposing\'"><td class="key">AMP/ASCO/CAP Category:</td><td class="value">{{ vm.assertion.amp_level | ifEmpty: \'--\' }}</td></tr><tr ng-if="vm.assertion.evidence_type === \'Predisposing\'"><td class="key">ACMG/AMP Codes:</td><td class="value"><span ng-switch="vm.assertion.acmg_codes.length > 0"><span ng-switch-when="true"><span ng-repeat="code in vm.assertion.acmg_codes" uib-tooltip="{{code.description}}">{{ $first ? \'\' : $last ? (vm.assertion.acmd_codes > 2 ? \', and \' : \' and \') : \', \' }} {{ code.code}} </span></span><span ng-switch-when="false">--</span></span></td></tr><tr><td class="key">NCCN Guideline:</td><td class="value"><span ng-switch="vm.assertion.nccn_guideline !== null"><span ng-switch-when="true">{{ vm.assertion.nccn_guideline }} <span ng-if="vm.assertion.nccn_guideline_version">(v{{vm.assertion.nccn_guideline_version}})</span> </span><span ng-switch-when="false">--</span></span></td></tr><tr><td class="key">Regulatory Approval:</td><td class="value"><span ng-switch="vm.assertion.fda_regulatory_approval"><span ng-switch-when="true"><i class="glyphicon glyphicon-ok" style="color: green"></i> </span><span ng-switch-when="false">--</span></span></td></tr><tr><td class="key">FDA Companion Test:</td><td class="value"><div ng-switch="vm.assertion.fda_companion_test"><span ng-switch-when="true"><i class="glyphicon glyphicon-ok" style="color: green"></i> </span><span ng-switch-when="false">--</span></div></td></tr></table></div></div></div></div></div><div class="row" ng-if="vm.showModeration" style="margin-top: 1em; margin-bottom: 1em"><div class="col-xs-6"><span ng-switch="vm.currentUser.organizations.length > 1"><span ng-switch-when="true"><div class="btn-group pull-right org-select" uib-dropdown><button id="split-button" type="button" class="btn btn-danger" ng-click="vm.rejectItem(vm.assertion.id)">Reject Assertion Item</button> <button type="button" class="btn btn-danger" uib-dropdown-toggle>for <span class="avatar" uib-tooltip="{{vm.actionOrg.name}}"><img ng-src="{{vm.actionOrg.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;<span class="caret"></span></button><ul ng-include="\'org-menu.tpl.html\'" uib-dropdown-menu class="dropdown-menu" role="menu"></ul></div></span><span ng-switch-default><a class="btn btn-default btn-block btn-danger" ng-click="vm.rejectItem(vm.assertion.id)">Reject Assertion</a></span></span></div><div class="col-xs-6"><span ng-switch="vm.currentUser.organizations.length > 1"><span ng-switch-when="true"><span uib-tooltip="Contributors may not accept their own submissions." tooltip-placement="top" tooltip-append-to-body="true" tooltip-enable="vm.ownerIsCurrentUser" class="help-tooltip"><span uib-tooltip="Assertion must have at least one evidence item to be accepted." tooltip-append-to-body="true" tooltip-placement="bottom" tooltip-enable="vm.assertion.evidence_items.length === 0" class="help-tooltip"><div class="btn-group org-select" uib-dropdown><a id="split-button" type="button" class="btn btn-success" ng-disabled="vm.ownerIsCurrentUser || vm.assertion.evidence_items.length === 0" ng-click="vm.acceptItem(vm.assertion.id)">Accept Assertion </a><a type="button" class="btn btn-success" ng-disabled="vm.ownerIsCurrentUser || vm.assertion.evidence_items.length === 0" uib-dropdown-toggle>for <span class="avatar" uib-tooltip="{{vm.actionOrg.name}}" tooltip-enable="!(vm.ownerIsCurrentUser || vm.assertion.evidence_items.length === 0)"><img ng-src="{{vm.actionOrg.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;<span class="caret"></span></a><ul ng-include="\'org-menu.tpl.html\'" uib-dropdown-menu class="dropdown-menu" role="menu"></ul></div></span></span></span><span ng-switch-default><span uib-tooltip="Contributors may not accept their own submissions." tooltip-placement="top" tooltip-append-to-body="true" tooltip-enable="vm.ownerIsCurrentUser" class="help-tooltip"><span uib-tooltip="Assertion must have at least one evidence item to be accepted." tooltip-append-to-body="true" tooltip-placement="bottom" tooltip-enable="vm.assertion.evidence_items.length === 0" class="help-tooltip"><a class="btn btn-default btn-success btn-block" ng-disabled="vm.ownerIsCurrentUser || vm.assertion.evidence_items.length === 0" ng-click="vm.acceptItem(vm.assertion.id)">Accept Assertion</a></span></span></span></span></div></div><div class="row" ng-if="vm.showCoiNotice"><div class="col-xs-10 col-xs-offset-1" style="padding-bottom: 16px"><a ui-sref="account.profile" class="btn btn-danger btn-block"><i class="glyphicon glyphicon-hand-up"></i>&nbsp; Your Editor\'s Conflict of Interest Statement is missing or expired. Please update it to perform moderation.</a></div></div><div class="row"><div class="col-xs-12"><uib-tabset active="active"><uib-tab index="0" heading="Evidence Grid"><div class="gridContainer"><evidence-grid evidence="vm.assertion.evidence_items" rows="8" show-gene-col="true" show-variant-col="true" context="\'assertion\'" source="vm.assertion" rounded="true"></evidence-grid></div></uib-tab><uib-tab index="1" heading="Evidence Cards"><div class="itemContainer"><div class="row"><div class="col-xs-7"><h4>Evidence Supporting AID{{vm.assertion.id}} <span class="record-info">{{vm.assertion.evidence_items.length}} total items</span></h4></div><div class="col-xs-2" style="text-align: right; padding-top: 6px"><label for="orderBy">Order by:</label></div><div class="col-xs-3" style="padding-bottom: 6px"><select class="form-control" id="orderBy" ng-model="order_by" ng-init="order_by = \'evidence_level\'"><option value="id">ID</option><option value="rating">Rating</option><option value="evidence_level">Evidence Level</option></select></div></div><div class="row"><div class="col-xs-12"><ul class="evidenceSelectorItems"><li ng-repeat="item in vm.assertion.evidence_items | orderBy: order_by"><evidence-selector-item item="item" remove-fn="removeItem"></evidence-selector-item></li></ul></div></div></div></uib-tab></uib-tabset></div></div>\x3c!-- <div class="row"> --\x3e\x3c!-- <div class="col-xs-12"> --\x3e\x3c!-- <pre ng-bind="vm.assertion|json"></pre> --\x3e\x3c!-- </div> --\x3e\x3c!-- </div> --\x3e</div><script type="text/ng-template" id="disclaimerPopover.tpl.html"><div class="disclaimer-content" >\n    <div class="row" >\n      <div class="col-xs-12" >\n        <p>The information in this variant assertion is not intended for medical decision-making.\n        Individuals should not change their health behavior solely on the basis of information contained\n        in this variant assertion. If you have questions about the information contained on this website,\n        please see a health care professional. </p>\n      </div>\n    </div>\n  </div><\/script><script type="text/ng-template" id="org-menu.tpl.html"><li role="menuitem" ng-repeat="org in vm.currentUser.organizations"\n    ng-class="{\'active\': org.id == vm.actionOrg.id}">\n    <a href ng-click="vm.switchOrg(org.id)">\n      <span class="glyphicon glyphicon-ok" style="margin-left: -12px"\n        ng-class="{\'glyphicon-hide\': org.id !== vm.actionOrg.id}"></span>\n      <span class="avatar">\n        <img ng-src="{{org.profile_image.x14}}" width="14" height="14"/>\n      </span>&nbsp;&nbsp;{{org.name}}\n    </a>\n  </li><\/script>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/assertions/talk/revisions/AssertionTalkRevisionsView.tpl.html",'<div class="AssertionsTalkRevisionsView"><entity-talk-revisions-view view-model="vm.AssertionRevisionsModel" view-options="vm.AssertionsTalkRevisionsViewOptions"><div class="row"><div class="col-xs-12"><ui-view></ui-view></div></div></entity-talk-revisions-view></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/assertions/talk/revisions/assertionTalkRevisionSummary.tpl.html",'<div class="assertionTalkRevisionSummary"><div class="row revision-header"><div class="stripes-bg"><div class="col-xs-10 name"><h3>Revision RID<span ng-bind="vm.assertionTalkModel.data.item.id">ID</span></h3></div><div class="col-xs-2 status"><div class="pull-right"><span ng-bind="vm.assertionTalkModel.data.item.status">status</span></div></div></div></div><div class="row"><div class="col-xs-12"><div ng-messages="vm.formErrors" class="revision-errors"><div ng-message="500"><div class="alert alert-danger"><strong class="status">500 <span ng-bind="vm.errorMessages[\'500\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'500\']">error prompt</span></div></div><div ng-message="401"><div class="alert alert-danger"><strong class="status">401 <span ng-bind="vm.errorMessages[\'401\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'401\']">error prompt</span></div></div><div ng-message="403"><div class="alert alert-danger"><strong class="status">403 <span ng-bind="vm.errorMessages[\'403\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'403\']">error prompt</span></div></div><div ng-message="409"><div class="alert alert-danger"><strong class="status">403 <span ng-bind="vm.errorMessages[\'409\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'409\']">error prompt</span></div></div></div></div></div><div class="row"><div class="col-xs-12"><div ng-messages="vm.formMessages" class="revision-messages"><div ng-message="acceptSuccess"><div class="alert alert-success"><strong class="status">Success</strong> - <span class="message">The revision was successfully applied.</span></div></div><div ng-message="rejectSuccess"><div class="alert alert-success"><strong class="status">Success</strong> - <span class="message">The revision was successfully rejected.</span></div></div></div></div></div><div class="row"><div class="col-xs-12 diffs"><ul><li class="item" ng-repeat="(field, diffs) in vm.assertionTalkModel.data.item.diffs"><div ng-switch="field">\x3c!-- evidence items --\x3e<div ng-switch-when="evidence_item"><div class="row"><div class="col-xs-12"><h4 class="field-name">{{ field | capitalize}}</h4></div></div><div class="row"><div class="col-xs-12"><span ng-bind-html="diffs.diff"></span></div></div><div class="row"><div class="col-xs-12"><div class="res"><span ng-bind-html="diffs.final"></span></div></div></div><div class="row"><div class="col-xs-12"><p class="small" style="color: #999; padding: 5px 0 0 10px">NOTE: Quickly access individual evidence items using \'links\' URLs, for example for EID2: <strong><a href="http://civicdb.org/links/evidence_items/">http://civicdb.org/links/evidence_items/2</a></strong>.</p></div></div></div><div ng-switch-default><div class="row"><div class="col-xs-12"><h4 class="field-name">{{ field | capitalize}}</h4></div></div><div class="row"><div class="col-xs-12"><span ng-bind-html="diffs.diff"></span></div></div><div class="row"><div class="col-xs-12"><div class="res"><span ng-bind-html="diffs.final"></span></div></div></div></div></div></li></ul></div></div><div class="row" ng-if="vm.showModeration"><div class="col-xs-12 admin-buttons"><div class="pull-right">\x3c!-- show org-select button if user is member of > 1 orgs --\x3e <span ng-switch="vm.currentUser.organizations.length > 1"><span ng-switch-when="true"><div class="btn-group org-select" uib-dropdown><a id="split-button" type="button" class="btn btn-default" ng-click="vm.acceptRevision()" ng-disabled="vm.ownerIsCurrentUser" uib-tooltip="{{vm.disabled_text}}" tooltip-enable="vm.ownerIsCurrentUser" tooltip-append-to-body="true">Accept Revision </a><a type="button" class="btn btn-default" uib-dropdown-toggle ng-disabled="vm.ownerIsCurrentUser">for <span class="avatar" uib-tooltip="{{vm.actionOrg.name}}" tooltip-enable="!vm.ownerIsCurrentUser"><img ng-src="{{vm.actionOrg.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;<span class="caret"></span></a><ul ng-include="\'org-menu.tpl.html\'" uib-dropdown-menu class="dropdown-menu" role="menu"></ul></div></span><span ng-switch-default><span uib-tooltip="{{vm.disabled_text}}" tooltip-append-to-body="true" tooltip-enable="vm.ownerIsCurrentUser"><button type="submit" class="btn btn-default" ng-disabled="vm.ownerIsCurrentUser" ng-click="vm.acceptRevision()">Accept Revision</button> </span></span></span><span ng-switch="vm.currentUser.organizations.length > 1"><span ng-switch-when="true"><div class="btn-group org-select" uib-dropdown><a id="split-button" type="button" class="btn btn-default" ng-click="vm.rejectRevision()">Reject Revision </a><a type="button" class="btn btn-default" uib-dropdown-toggle>for <span class="avatar" uib-tooltip="{{vm.actionOrg.name}}"><img ng-src="{{vm.actionOrg.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;<span class="caret"></span></a><ul ng-include="\'org-menu.tpl.html\'" uib-dropdown-menu class="dropdown-menu" role="menu"></ul></div></span><span ng-switch-default><button type="submit" class="btn btn-default" ng-click="vm.rejectRevision()">Reject Revision</button></span></span></div></div></div><div class="row" ng-if="vm.showCoiNotice"><div class="col-xs-10 col-xs-offset-1" style="padding-bottom: 16px"><a ui-sref="account.profile" class="btn btn-danger btn-block"><i class="glyphicon glyphicon-hand-up"></i>&nbsp; Your Editor\'s Conflict of Interest Statement is missing or expired. Please update it to perform moderation.</a></div></div><div class="row"><div class="col-xs-12 comments-header"><h4>Revision RID<span ng-bind="vm.assertionTalkModel.data.item.id">ID</span> Comments</h4></div></div><div class="row"><div class="col-xs-12 comment-list"><div ng-switch="ctrl.comments.length"><div ng-switch-when="0"><p>No comments found.</p></div><div ng-switch-default><ul class="comments"><li ng-repeat="comment in vm.assertionTalkModel.data.comments"><entity-comment comment-data="comment" entity-model="vm.assertionTalkModel"></entity-comment></li></ul></div></div></div></div><div class="row"><div class="col-xs-12 comment-form"><entity-comment-form type="revision" entity-model="vm.assertionTalkModel"></entity-comment-form></div></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/assertions/talk/revisions/assertionTalkRevisions.tpl.html",'<div class="assertionTalkRevisions"><div ng-if="assertionRevisions.data.collection.length > 0"><div class="row revisions-list {{ viewOptions.styles.view.summaryBackgroundColor }}"><div class="col-xs-12"><revisions-grid changes="assertionRevisions.data.collection" base-state="events.assertions.talk.revisions"></revisions-grid></div></div><div class="row revisions-view {{ viewOptions.styles.view.talkBackgroundColor }}"><div class="col-xs-12"><ui-view></ui-view></div></div></div><div ng-if="assertionRevisions.data.collection.length === 0"><div class="row revisions-prompt"><div class="col-xs-12"><div class="jumbotron"><h2 style="margin:0;padding:0">No suggested revisions exist for this assertion.</h2><p>You may create a suggested revision by clicking on the assertion name at the top of this record.</p></div></div></div></div>\x3c!--<div class="row">--\x3e\x3c!--<div class="col-xs-12">--\x3e\x3c!--<pre ng-bind="viewOptions|json"></pre>--\x3e\x3c!--</div>--\x3e\x3c!--</div>--\x3e\x3c!--<div class="row">--\x3e\x3c!--<div class="col-xs-12">--\x3e\x3c!--<pre ng-bind="assertionRevisions.data|json"></pre>--\x3e\x3c!--</div>--\x3e\x3c!--</div>--\x3e</div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/evidence/talk/revisions/EvidenceTalkRevisionsView.tpl.html",'<div class="EvidencesTalkRevisionsView"><entity-talk-revisions-view view-model="vm.EvidenceRevisionsModel" view-options="vm.EvidencesTalkRevisionsViewOptions"><div class="row"><div class="col-xs-12"><ui-view></ui-view></div></div></entity-talk-revisions-view></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){
e.put("app/views/events/evidence/talk/revisions/evidenceTalkRevisionSummary.tpl.html",'<div class="evidenceTalkRevisionSummary"><div class="row revision-header"><div class="stripes-bg"><div class="col-xs-10 name"><h3>Revision #<span ng-bind="vm.evidenceTalkModel.data.item.id">ID</span></h3></div><div class="col-xs-2 status"><div class="pull-right"><span ng-bind="vm.evidenceTalkModel.data.item.status">status</span></div></div></div></div>\x3c!--<div class="row" ng-if="vm.isEditor">--\x3e\x3c!--<div class="col-xs-12">--\x3e\x3c!--<div class="revision-instructions" ng-if="vm.evidenceTalkModel.data.item.status != \'applied\'">--\x3e\x3c!--<p>Accept or reject this revision by pressing either of the two buttons beneath the diffs.</p>--\x3e\x3c!--</div>--\x3e\x3c!--<div class="revision-instructions" ng-if="vm.evidenceTalkModel.data.item.status === \'applied\'">--\x3e\x3c!--<p>This revision has been applied.</p>--\x3e\x3c!--</div>--\x3e\x3c!--</div>--\x3e\x3c!--</div>--\x3e<div class="row"><div class="col-xs-12"><div ng-messages="vm.formErrors" class="revision-errors"><div ng-message="500"><div class="alert alert-danger"><strong class="status">500 <span ng-bind="vm.errorMessages[\'500\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'500\']">error prompt</span></div></div><div ng-message="401"><div class="alert alert-danger"><strong class="status">401 <span ng-bind="vm.errorMessages[\'401\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'401\']">error prompt</span></div></div><div ng-message="403"><div class="alert alert-danger"><strong class="status">403 <span ng-bind="vm.errorMessages[\'403\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'403\']">error prompt</span></div></div><div ng-message="409"><div class="alert alert-danger"><strong class="status">403 <span ng-bind="vm.errorMessages[\'409\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'409\']">error prompt</span></div></div></div></div></div><div class="row"><div class="col-xs-12"><div ng-messages="vm.formMessages" class="revision-messages"><div ng-message="acceptSuccess"><div class="alert alert-success"><strong class="status">Success</strong> - <span class="message">The revision was successfully applied.</span></div></div><div ng-message="rejectSuccess"><div class="alert alert-success"><strong class="status">Success</strong> - <span class="message">The revision was successfully rejected.</span></div></div></div></div></div><div class="row"><div class="col-xs-12 diffs"><ul><li class="item" ng-repeat="(field, diffs) in vm.evidenceTalkModel.data.item.diffs"><div ng-switch="field"><div ng-switch-when="rating" class="diff-ratings"><div class="row"><div class="col-xs-12"><h4 class="field-name">{{ field | capitalize}}</h4></div></div><div class="row"><div class="col-xs-12"><div class="before-after"><span uib-rating ng-model="vm.evidenceTalkModel.data.item.suggested_changes.rating[0]" max="5" read-only="true"></span> &nbsp; <span class="arrow">&#9654;</span> &nbsp; <span uib-rating ng-model="vm.evidenceTalkModel.data.item.suggested_changes.rating[1]" max="5" read-only="true"></span></div></div></div></div><div ng-switch-default><div class="row"><div class="col-xs-12"><h4 class="field-name">{{ field | capitalize}}</h4></div></div><div class="row"><div class="col-xs-12"><span ng-bind-html="diffs.diff"></span></div></div><div class="row"><div class="col-xs-12"><div class="res"><span ng-bind-html="diffs.final"></span></div></div></div></div></div></li></ul></div></div><div class="row" ng-if="vm.showModeration"><div class="col-xs-12 admin-buttons"><div class="pull-right">\x3c!-- show org-select button if user is member of > 1 orgs --\x3e <span ng-switch="vm.currentUser.organizations.length > 1"><span ng-switch-when="true"><div class="btn-group org-select" uib-dropdown><a id="split-button" type="button" class="btn btn-default" ng-click="vm.acceptRevision()" ng-disabled="vm.ownerIsCurrentUser" uib-tooltip="{{vm.disabled_text}}" tooltip-enable="vm.ownerIsCurrentUser" tooltip-append-to-body="true">Accept Revision </a><a type="button" class="btn btn-default" uib-dropdown-toggle ng-disabled="vm.ownerIsCurrentUser">for <span class="avatar" uib-tooltip="{{vm.actionOrg.name}}" tooltip-enable="!vm.ownerIsCurrentUser"><img ng-src="{{vm.actionOrg.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;<span class="caret"></span></a><ul ng-include="\'org-menu.tpl.html\'" uib-dropdown-menu class="dropdown-menu" role="menu"></ul></div></span><span ng-switch-default><span uib-tooltip="{{vm.disabled_text}}" tooltip-append-to-body="true" tooltip-enable="vm.ownerIsCurrentUser"><button type="submit" class="btn btn-default" ng-disabled="vm.ownerIsCurrentUser" ng-click="vm.acceptRevision()">Accept Revision</button> </span></span></span><span ng-switch="vm.currentUser.organizations.length > 1"><span ng-switch-when="true"><div class="btn-group org-select" uib-dropdown><a id="split-button" type="button" class="btn btn-default" ng-click="vm.rejectRevision()">Reject Revision </a><a type="button" class="btn btn-default" uib-dropdown-toggle>for <span class="avatar" uib-tooltip="{{vm.actionOrg.name}}"><img ng-src="{{vm.actionOrg.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;<span class="caret"></span></a><ul ng-include="\'org-menu.tpl.html\'" uib-dropdown-menu class="dropdown-menu" role="menu"></ul></div></span><span ng-switch-default><button type="submit" class="btn btn-default" ng-click="vm.rejectRevision()">Reject Revision</button></span></span></div></div></div><div class="row" ng-if="vm.showCoiNotice"><div class="col-xs-10 col-xs-offset-1" style="padding-bottom: 16px"><a ui-sref="account.profile" class="btn btn-danger btn-block"><i class="glyphicon glyphicon-hand-up"></i>&nbsp; Your Editor\'s Conflict of Interest Statement is missing or expired. Please update it to perform moderation.</a></div></div><div class="row"><div class="col-xs-12 comments-header"><h4>Revision RID<span ng-bind="vm.evidenceTalkModel.data.item.id">ID</span> Comments</h4></div></div><div class="row"><div class="col-xs-12 comment-list"><div ng-switch="ctrl.comments.length"><div ng-switch-when="0"><p>No comments found.</p></div><div ng-switch-default><ul class="comments"><li ng-repeat="comment in vm.evidenceTalkModel.data.comments"><entity-comment comment-data="comment" entity-model="vm.evidenceTalkModel"></entity-comment></li></ul></div></div></div></div><div class="row"><div class="col-xs-12 comment-form"><entity-comment-form type="revision" entity-model="vm.evidenceTalkModel"></entity-comment-form></div></div><script type="text/ng-template" id="org-menu.tpl.html"><li role="menuitem" ng-repeat="org in vm.currentUser.organizations"\n      ng-class="{\'active\': org.id == vm.actionOrg.id}">\n      <a href ng-click="vm.switchOrg(org.id)">\n        <span class="glyphicon glyphicon-ok" style="margin-left: -12px"\n          ng-class="{\'glyphicon-hide\': org.id !== vm.actionOrg.id}"></span>\n        <span class="avatar">\n          <img ng-src="{{org.profile_image.x14}}" width="14" height="14"/>\n        </span>&nbsp;&nbsp;{{org.name}}\n      </a>\n    </li><\/script></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/evidence/talk/revisions/evidenceTalkRevisions.tpl.html",'<div class="evidenceTalkRevisions"><div ng-if="evidenceRevisions.data.collection.length > 0"><div class="row revisions-list {{ viewOptions.styles.view.summaryBackgroundColor }}"><div class="col-xs-12"><revisions-grid changes="evidenceRevisions.data.collection" base-state="events.genes.summary.variants.summary.evidence.talk.revisions"></revisions-grid></div></div><div class="row revisions-view {{ viewOptions.styles.view.talkBackgroundColor }}"><div class="col-xs-12"><ui-view></ui-view></div></div></div><div ng-if="evidenceRevisions.data.collection.length === 0"><div class="row revisions-prompt"><div class="col-xs-12"><div class="jumbotron"><h2 style="margin:0;padding:0">No suggested revisions exist for this evidence item.</h2><p>You may create a suggested revision by clicking on the evidence name at the top of this record.</p></div></div></div></div>\x3c!--<div class="row">--\x3e\x3c!--<div class="col-xs-12">--\x3e\x3c!--<pre ng-bind="evidenceRevisions.data.collection|json"></pre>--\x3e\x3c!--</div>--\x3e\x3c!--</div>--\x3e</div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/genes/talk/revisions/GeneTalkRevisionsView.tpl.html",'<div class="GenesTalkRevisionsView"><entity-talk-revisions-view view-model="vm.GeneRevisionsModel" view-options="vm.GenesTalkRevisionsViewOptions"><div class="row"><div class="col-xs-12"><ui-view></ui-view></div></div></entity-talk-revisions-view></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/genes/talk/revisions/geneTalkRevisionSummary.tpl.html",'<div class="geneTalkRevisionSummary"><div class="row revision-header"><div class="stripes-bg"><div class="col-xs-10 name"><h3>Revision RID<span ng-bind="vm.geneTalkModel.data.item.id">ID</span></h3></div><div class="col-xs-2 status"><div class="pull-right"><span ng-bind="vm.geneTalkModel.data.item.status">status</span></div></div></div></div><div class="row"><div class="col-xs-12"><div ng-messages="vm.formErrors" class="revision-errors"><div ng-message="500"><div class="alert alert-danger"><strong class="status">500 <span ng-bind="vm.errorMessages[\'500\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'500\']">error prompt</span></div></div><div ng-message="401"><div class="alert alert-danger"><strong class="status">401 <span ng-bind="vm.errorMessages[\'401\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'401\']">error prompt</span></div></div><div ng-message="403"><div class="alert alert-danger"><strong class="status">403 <span ng-bind="vm.errorMessages[\'403\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'403\']">error prompt</span></div></div><div ng-message="409"><div class="alert alert-danger"><strong class="status">403 <span ng-bind="vm.errorMessages[\'409\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'409\']">error prompt</span></div></div></div></div></div><div class="row"><div class="col-xs-12"><div ng-messages="vm.formMessages" class="revision-messages"><div ng-message="acceptSuccess"><div class="alert alert-success"><strong class="status">Success</strong> - <span class="message">The revision was successfully applied.</span></div></div><div ng-message="rejectSuccess"><div class="alert alert-success"><strong class="status">Success</strong> - <span class="message">The revision was successfully rejected.</span></div></div></div></div></div><div class="row"><div class="col-xs-12 diffs"><ul><li class="item" ng-repeat="(field, diffs) in vm.geneTalkModel.data.item.diffs"><div ng-switch="field"><div ng-switch-default><div class="row"><div class="col-xs-12"><h4 class="field-name">{{ field | capitalize}}</h4></div></div><div class="row"><div class="col-xs-12"><span ng-bind-html="diffs.diff"></span></div></div><div class="row"><div class="col-xs-12"><div class="res"><span ng-bind-html="diffs.final"></span></div></div></div></div></div></li></ul></div></div><div class="row" ng-if="vm.showModeration"><div class="col-xs-12 admin-buttons"><div class="pull-right">\x3c!-- show org-select button if user is member of > 1 orgs --\x3e <span ng-switch="vm.currentUser.organizations.length > 1"><span ng-switch-when="true"><div class="btn-group org-select" uib-dropdown><a id="split-button" type="button" class="btn btn-default" ng-click="vm.acceptRevision()" ng-disabled="vm.ownerIsCurrentUser" uib-tooltip="{{vm.disabled_text}}" tooltip-enable="vm.ownerIsCurrentUser" tooltip-append-to-body="true">Accept Revision </a><a type="button" class="btn btn-default" uib-dropdown-toggle ng-disabled="vm.ownerIsCurrentUser">for <span class="avatar" uib-tooltip="{{vm.actionOrg.name}}" tooltip-enable="!vm.ownerIsCurrentUser"><img ng-src="{{vm.actionOrg.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;<span class="caret"></span></a><ul ng-include="\'org-menu.tpl.html\'" uib-dropdown-menu class="dropdown-menu" role="menu"></ul></div></span><span ng-switch-default><span uib-tooltip="{{vm.disabled_text}}" tooltip-append-to-body="true" tooltip-enable="vm.ownerIsCurrentUser"><button type="submit" class="btn btn-default" ng-disabled="vm.ownerIsCurrentUser" ng-click="vm.acceptRevision()">Accept Revision</button> </span></span></span><span ng-switch="vm.currentUser.organizations.length > 1"><span ng-switch-when="true"><div class="btn-group org-select" uib-dropdown><a id="split-button" type="button" class="btn btn-default" ng-click="vm.rejectRevision()">Reject Revision </a><a type="button" class="btn btn-default" uib-dropdown-toggle>for <span class="avatar" uib-tooltip="{{vm.actionOrg.name}}"><img ng-src="{{vm.actionOrg.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;<span class="caret"></span></a><ul ng-include="\'org-menu.tpl.html\'" uib-dropdown-menu class="dropdown-menu" role="menu"></ul></div></span><span ng-switch-default><button type="submit" class="btn btn-default" ng-click="vm.rejectRevision()">Reject Revision</button></span></span></div></div></div><div class="row" ng-if="vm.showCoiNotice"><div class="col-xs-10 col-xs-offset-1" style="padding-bottom: 16px"><a ui-sref="account.profile" class="btn btn-danger btn-block"><i class="glyphicon glyphicon-hand-up"></i>&nbsp; Your Editor\'s Conflict of Interest Statement is missing or expired. Please update it to perform moderation.</a></div></div><div class="row"><div class="col-xs-12 comments-header"><h4>Revision RID<span ng-bind="vm.geneTalkModel.data.item.id">ID</span> Comments</h4></div></div><div class="row"><div class="col-xs-12 comment-list"><div ng-switch="ctrl.comments.length"><div ng-switch-when="0"><p>No comments found.</p></div><div ng-switch-default><ul class="comments"><li ng-repeat="comment in vm.geneTalkModel.data.comments"><entity-comment comment-data="comment" entity-model="vm.geneTalkModel"></entity-comment></li></ul></div></div></div></div><div class="row"><div class="col-xs-12 comment-form"><entity-comment-form type="revision" entity-model="vm.geneTalkModel"></entity-comment-form></div></div><script type="text/ng-template" id="org-menu.tpl.html"><li role="menuitem" ng-repeat="org in vm.currentUser.organizations"\n      ng-class="{\'active\': org.id == vm.actionOrg.id}">\n      <a href ng-click="vm.switchOrg(org.id)">\n        <span class="glyphicon glyphicon-ok" style="margin-left: -12px"\n          ng-class="{\'glyphicon-hide\': org.id !== vm.actionOrg.id}"></span>\n        <span class="avatar">\n          <img ng-src="{{org.profile_image.x14}}" width="14" height="14"/>\n        </span>&nbsp;&nbsp;{{org.name}}\n      </a>\n    </li><\/script>\x3c!--<div class="row">--\x3e\x3c!--<div class="col-xs-12">--\x3e\x3c!--<form>--\x3e\x3c!--<p>--\x3e\x3c!--GENE NAME:--\x3e\x3c!--</p>--\x3e\x3c!--<p>--\x3e\x3c!--<input type="text" ng-model="geneModel.data.entity.name"/>--\x3e\x3c!--</p>--\x3e\x3c!--<p>--\x3e\x3c!--GENE DESCRIPTION:--\x3e\x3c!--</p>--\x3e\x3c!--<p>--\x3e\x3c!--<textarea ng-model="geneModel.data.entity.description">--\x3e\x3c!--</textarea>--\x3e\x3c!--</p>--\x3e\x3c!--</form>--\x3e\x3c!--</div>--\x3e\x3c!--</div>--\x3e</div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/genes/talk/revisions/geneTalkRevisions.tpl.html",'<div class="geneTalkRevisions"><div ng-if="geneRevisions.data.collection.length > 0"><div class="row revisions-list {{ viewOptions.styles.view.summaryBackgroundColor }}"><div class="col-xs-12"><revisions-grid changes="geneRevisions.data.collection" base-state="events.genes.talk.revisions"></revisions-grid></div></div><div class="row revisions-view {{ viewOptions.styles.view.talkBackgroundColor }}"><div class="col-xs-12"><ui-view></ui-view></div></div></div><div ng-if="geneRevisions.data.collection.length === 0"><div class="row revisions-prompt"><div class="col-xs-12"><div class="jumbotron"><h2 style="margin:0;padding:0">No suggested revisions exist for this gene.</h2><p>You may create a suggested revision by clicking on the gene name at the top of this record.</p></div></div></div></div>\x3c!--<div class="row">--\x3e\x3c!--<div class="col-xs-12">--\x3e\x3c!--<pre ng-bind="viewOptions|json"></pre>--\x3e\x3c!--</div>--\x3e\x3c!--</div>--\x3e\x3c!--<div class="row">--\x3e\x3c!--<div class="col-xs-12">--\x3e\x3c!--<pre ng-bind="geneRevisions.data|json"></pre>--\x3e\x3c!--</div>--\x3e\x3c!--</div>--\x3e</div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/genes/summary/myGeneInfoGrid/linkCell.tpl.html",'<div class="ngCellText" ng-class="col.colIndex()" uib-tooltip="{{row.entity[col.field]}}" tooltip-append-to-body="true"><div class="ui-grid-cell-contents"><a ng-href="{{ row.entity[col.field] }}" target="_blank" ng-bind-html="row.entity[col.field] | highlightSearch:col.filters[0].term">{{ row.entity[col.field] }}</a></div></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/variantGroups/talk/revisions/VariantGroupTalkRevisionsView.tpl.html",'<div class="VariantsTalkRevisionsView"><entity-talk-revisions-view view-model="vm.VariantRevisionsModel" view-options="vm.VariantsTalkRevisionsViewOptions"><div class="row"><div class="col-xs-12"><ui-view></ui-view></div></div></entity-talk-revisions-view></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/variantGroups/talk/revisions/variantGroupTalkRevisionSummary.tpl.html",'<div class="variantGroupTalkRevisionSummary"><div class="row revision-header"><div class="stripes-bg"><div class="col-xs-10 name"><h3>Revision RID<span ng-bind="vm.variantGroupTalkModel.data.item.id">ID</span></h3></div><div class="col-xs-2 status"><div class="pull-right"><span ng-bind="vm.variantGroupTalkModel.data.item.status">status</span></div></div></div></div><div class="row"><div class="col-xs-12"><div ng-messages="vm.formErrors" class="revision-errors"><div ng-message="500"><div class="alert alert-danger"><strong class="status">500 <span ng-bind="vm.errorMessages[\'500\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'500\']">error prompt</span></div></div><div ng-message="401"><div class="alert alert-danger"><strong class="status">401 <span ng-bind="vm.errorMessages[\'401\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'401\']">error prompt</span></div></div><div ng-message="403"><div class="alert alert-danger"><strong class="status">403 <span ng-bind="vm.errorMessages[\'403\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'403\']">error prompt</span></div></div><div ng-message="409"><div class="alert alert-danger"><strong class="status">403 <span ng-bind="vm.errorMessages[\'409\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'409\']">error prompt</span></div></div></div></div></div><div class="row"><div class="col-xs-12"><div ng-messages="vm.formMessages" class="revision-messages"><div ng-message="acceptSuccess"><div class="alert alert-success"><strong class="status">Success</strong> - <span class="message">The revision was successfully applied.</span></div></div><div ng-message="rejectSuccess"><div class="alert alert-success"><strong class="status">Success</strong> - <span class="message">The revision was successfully rejected.</span></div></div></div></div></div><div class="row"><div class="col-xs-12 diffs"><ul><li class="item" ng-repeat="(field, diffs) in vm.variantGroupTalkModel.data.item.diffs"><div ng-switch="field"><div ng-switch-default><div class="row"><div class="col-xs-12"><h4 class="field-name">{{ field | capitalize}}</h4></div></div><div class="row"><div class="col-xs-12"><span ng-bind-html="diffs.diff"></span></div></div><div class="row"><div class="col-xs-12"><div class="res"><span ng-bind-html="diffs.final"></span></div></div></div></div></div></li></ul></div></div><div class="row" ng-if="vm.showModeration"><div class="col-xs-12 admin-buttons"><div class="pull-right">\x3c!-- show org-select button if user is member of > 1 orgs --\x3e <span ng-switch="vm.currentUser.organizations.length > 1"><span ng-switch-when="true"><div class="btn-group org-select" uib-dropdown><a id="split-button" type="button" class="btn btn-default" ng-click="vm.acceptRevision()" ng-disabled="vm.ownerIsCurrentUser" uib-tooltip="{{vm.disabled_text}}" tooltip-enable="vm.ownerIsCurrentUser" tooltip-append-to-body="true">Accept Revision </a><a type="button" class="btn btn-default" uib-dropdown-toggle ng-disabled="vm.ownerIsCurrentUser">for <span class="avatar" uib-tooltip="{{vm.actionOrg.name}}" tooltip-enable="!vm.ownerIsCurrentUser"><img ng-src="{{vm.actionOrg.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;<span class="caret"></span></a><ul ng-include="\'org-menu.tpl.html\'" uib-dropdown-menu class="dropdown-menu" role="menu"></ul></div></span><span ng-switch-default><span uib-tooltip="{{vm.disabled_text}}" tooltip-append-to-body="true" tooltip-enable="vm.ownerIsCurrentUser"><button type="submit" class="btn btn-default" ng-disabled="vm.ownerIsCurrentUser" ng-click="vm.acceptRevision()">Accept Revision</button> </span></span></span>\x3c!-- show org-select button if user is member of > 1 orgs --\x3e <span ng-switch="vm.currentUser.organizations.length > 1"><span ng-switch-when="true"><div class="btn-group org-select" uib-dropdown><a id="split-button" type="button" class="btn btn-default" ng-click="vm.rejectRevision()">Reject Revision </a><a type="button" class="btn btn-default" uib-dropdown-toggle>for <span class="avatar" uib-tooltip="{{vm.actionOrg.name}}" tooltip-enable="!vm.ownerIsCurrentUser"><img ng-src="{{vm.actionOrg.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;<span class="caret"></span></a><ul ng-include="\'org-menu.tpl.html\'" uib-dropdown-menu class="dropdown-menu" role="menu"></ul></div></span><span ng-switch-default><button type="submit" class="btn btn-default" ng-click="vm.rejectRevision()">Reject Revision</button></span></span></div></div></div><div class="row" ng-if="vm.showCoiNotice"><div class="col-xs-10 col-xs-offset-1" style="padding-bottom: 16px"><a ui-sref="account.profile" class="btn btn-danger btn-block"><i class="glyphicon glyphicon-hand-up"></i>&nbsp; Your Editor\'s Conflict of Interest Statement is missing or expired. Please update it to perform moderation.</a></div></div><div class="row"><div class="col-xs-12 comments-header"><h4>Revision RID<span ng-bind="vm.variantGroupTalkModel.data.item.id">ID</span> Comments</h4></div></div><div class="row"><div class="col-xs-12 comment-list"><div ng-switch="ctrl.comments.length"><div ng-switch-when="0"><p>No comments found.</p></div><div ng-switch-default><ul class="comments"><li ng-repeat="comment in vm.variantGroupTalkModel.data.comments"><entity-comment comment-data="comment" entity-model="vm.variantGroupTalkModel"></entity-comment></li></ul></div></div></div></div><div class="row"><div class="col-xs-12 comment-form"><entity-comment-form type="revision" entity-model="vm.variantGroupTalkModel"></entity-comment-form></div></div><script type="text/ng-template" id="org-menu.tpl.html"><li role="menuitem" ng-repeat="org in vm.currentUser.organizations"\n      ng-class="{\'active\': org.id == vm.actionOrg.id}">\n      <a href ng-click="vm.switchOrg(org.id)">\n        <span class="glyphicon glyphicon-ok" style="margin-left: -12px"\n          ng-class="{\'glyphicon-hide\': org.id !== vm.actionOrg.id}"></span>\n        <span class="avatar">\n          <img ng-src="{{org.profile_image.x14}}" width="14" height="14"/>\n        </span>&nbsp;&nbsp;{{org.name}}\n      </a>\n    </li><\/script>\x3c!--<div class="row">--\x3e\x3c!--<div class="col-xs-12">--\x3e\x3c!--<form>--\x3e\x3c!--<p>--\x3e\x3c!--VARIANT NAME:--\x3e\x3c!--</p>--\x3e\x3c!--<p>--\x3e\x3c!--<input type="text" ng-model="variantGroupModel.data.entity.name"/>--\x3e\x3c!--</p>--\x3e\x3c!--<p>--\x3e\x3c!--VARIANT DESCRIPTION:--\x3e\x3c!--</p>--\x3e\x3c!--<p>--\x3e\x3c!--<textarea ng-model="variantGroupModel.data.entity.description">--\x3e\x3c!--</textarea>--\x3e\x3c!--</p>--\x3e\x3c!--</form>--\x3e\x3c!--</div>--\x3e\x3c!--</div>--\x3e</div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/variantGroups/talk/revisions/variantGroupTalkRevisions.tpl.html",'<div class="variantGroupTalkRevisions"><div ng-if="variantGroupRevisions.data.collection.length > 0"><div class="row revisions-list {{ viewOptions.styles.view.summaryBackgroundColor }}"><div class="col-xs-12"><revisions-grid changes="variantGroupRevisions.data.collection" base-state="events.genes.summary.variantGroups.talk.revisions"></revisions-grid></div></div><div class="row revisions-view {{ viewOptions.styles.view.talkBackgroundColor }}"><div class="col-xs-12"><ui-view></ui-view></div></div></div><div ng-if="variantGroupRevisions.data.collection.length === 0"><div class="row revisions-prompt"><div class="col-xs-12"><div class="jumbotron"><h2 style="margin:0;padding:0">No suggested revisions exist for this variant group.</h2><p>You may create a suggested revision by clicking on the variant group name at the top of this record.</p></div></div></div></div>\x3c!--<div class="row">--\x3e\x3c!--<div class="col-xs-12">--\x3e\x3c!--<pre ng-bind="variantGroupRevisions.data.collection|json"></pre>--\x3e\x3c!--</div>--\x3e\x3c!--</div>--\x3e</div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/variants/talk/revisions/VariantTalkRevisionsView.tpl.html",'<div class="VariantsTalkRevisionsView"><entity-talk-revisions-view view-model="vm.VariantRevisionsModel" view-options="vm.VariantsTalkRevisionsViewOptions"><div class="row"><div class="col-xs-12"><ui-view></ui-view></div></div></entity-talk-revisions-view></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){
e.put("app/views/events/variants/talk/revisions/variantTalkRevisionSummary.tpl.html",'<div class="variantTalkRevisionSummary"><div class="row revision-header"><div class="stripes-bg"><div class="col-xs-10 name"><h3>Revision RID<span ng-bind="vm.variantTalkModel.data.item.id">ID</span></h3></div><div class="col-xs-2 status"><div class="pull-right"><span ng-bind="vm.variantTalkModel.data.item.status">status</span></div></div></div></div><div class="row"><div class="col-xs-12"><div ng-messages="vm.formErrors" class="revision-errors"><div ng-message="500"><div class="alert alert-danger"><strong class="status">500 <span ng-bind="vm.errorMessages[\'500\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'500\']">error prompt</span></div></div><div ng-message="401"><div class="alert alert-danger"><strong class="status">401 <span ng-bind="vm.errorMessages[\'401\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'401\']">error prompt</span></div></div><div ng-message="403"><div class="alert alert-danger"><strong class="status">403 <span ng-bind="vm.errorMessages[\'403\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'403\']">error prompt</span></div></div><div ng-message="409"><div class="alert alert-danger"><strong class="status">403 <span ng-bind="vm.errorMessages[\'409\']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts[\'409\']">error prompt</span></div></div></div></div></div><div class="row"><div class="col-xs-12"><div ng-messages="vm.formMessages" class="revision-messages"><div ng-message="acceptSuccess"><div class="alert alert-success"><strong class="status">Success</strong> - <span class="message">The revision was successfully applied.</span></div></div><div ng-message="rejectSuccess"><div class="alert alert-success"><strong class="status">Success</strong> - <span class="message">The revision was successfully rejected.</span></div></div></div></div></div><div class="row"><div class="col-xs-12 diffs"><ul><li class="item" ng-repeat="(field, diffs) in vm.variantTalkModel.data.item.diffs"><div ng-switch="field"><div ng-switch-default><div class="row"><div class="col-xs-12"><h4 class="field-name">{{ field | capitalize}}</h4></div></div><div class="row"><div class="col-xs-12"><span ng-bind-html="diffs.diff"></span></div></div><div class="row"><div class="col-xs-12"><div class="res"><span ng-bind-html="diffs.final"></span></div></div></div></div></div></li></ul></div></div><div class="row" ng-if="vm.showModeration"><div class="col-xs-12 admin-buttons pull-right">\x3c!-- show org-select button if user is member of > 1 orgs --\x3e <span ng-switch="vm.currentUser.organizations.length > 1"><span ng-switch-when="true"><div class="btn-group org-select" uib-dropdown><a id="split-button" type="button" class="btn btn-default" ng-click="vm.acceptRevision()" ng-disabled="vm.ownerIsCurrentUser" uib-tooltip="{{vm.disabled_text}}" tooltip-enable="vm.ownerIsCurrentUser" tooltip-append-to-body="true">Accept Revision </a><a type="button" class="btn btn-default" uib-dropdown-toggle ng-disabled="vm.ownerIsCurrentUser">for <span class="avatar" uib-tooltip="{{vm.actionOrg.name}}" tooltip-enable="!vm.ownerIsCurrentUser"><img ng-src="{{vm.actionOrg.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;<span class="caret"></span></a><ul ng-include="\'org-menu.tpl.html\'" uib-dropdown-menu class="dropdown-menu" role="menu"></ul></div></span><span ng-switch-default><span uib-tooltip="{{vm.disabled_text}}" tooltip-append-to-body="true" tooltip-enable="vm.ownerIsCurrentUser"><button type="submit" class="btn btn-default" ng-disabled="vm.ownerIsCurrentUser" ng-click="vm.acceptRevision()">Accept Revision</button> </span></span></span><span ng-switch="vm.currentUser.organizations.length > 1"><span ng-switch-when="true"><div class="btn-group org-select" uib-dropdown><a id="split-button" type="button" class="btn btn-default" ng-click="vm.rejectRevision()">Reject Revision </a><a type="button" class="btn btn-default" uib-dropdown-toggle>for <span class="avatar" uib-tooltip="{{vm.actionOrg.name}}"><img ng-src="{{vm.actionOrg.profile_image.x14}}" width="14" height="14"> </span>&nbsp;&nbsp;<span class="caret"></span></a><ul ng-include="\'org-menu.tpl.html\'" uib-dropdown-menu class="dropdown-menu" role="menu"></ul></div></span><span ng-switch-default><button type="submit" class="btn btn-default" ng-click="vm.rejectRevision()">Reject Revision</button></span></span></div></div><div class="row" ng-if="vm.showCoiNotice"><div class="col-xs-10 col-xs-offset-1" style="padding-bottom: 16px"><a ui-sref="account.profile" class="btn btn-danger btn-block"><i class="glyphicon glyphicon-hand-up"></i>&nbsp; Your Editor\'s Conflict of Interest Statement is missing or expired. Please update it to perform moderation.</a></div></div><div class="row"><div class="col-xs-12 comments-header"><h4>Revision RID<span ng-bind="vm.variantTalkModel.data.item.id">ID</span> Comments</h4></div></div><div class="row"><div class="col-xs-12 comment-list"><div ng-switch="ctrl.comments.length"><div ng-switch-when="0"><p>No comments found.</p></div><div ng-switch-default><ul class="comments"><li ng-repeat="comment in vm.variantTalkModel.data.comments"><entity-comment comment-data="comment" entity-model="vm.variantTalkModel"></entity-comment></li></ul></div></div></div></div><div class="row"><div class="col-xs-12 comment-form"><entity-comment-form type="revision" entity-model="vm.variantTalkModel"></entity-comment-form></div></div><script type="text/ng-template" id="org-menu.tpl.html" ng-class="{\'active\': org.id == vm.currentUser.organizations}"><li role="menuitem" ng-repeat="org in vm.currentUser.organizations"\n      ng-class="{\'active\': org.id == vm.actionOrg.id}">\n      <a href ng-click="vm.switchOrg(org.id)">\n        <span class="glyphicon glyphicon-ok" style="margin-left: -12px"\n          ng-class="{\'glyphicon-hide\': org.id !== vm.actionOrg.id}"></span>\n        <span class="avatar">\n          <img ng-src="{{org.profile_image.x14}}" width="14" height="14"/>\n        </span>&nbsp;&nbsp;{{org.name}}\n      </a>\n    </li><\/script></div>')}])}(),function(e){try{e=angular.module("civicClient")}catch(t){e=angular.module("civicClient",[])}e.run(["$templateCache",function(e){e.put("app/views/events/variants/talk/revisions/variantTalkRevisions.tpl.html",'<div class="variantTalkRevisions"><div ng-if="variantRevisions.data.collection.length > 0"><div class="row revisions-list {{ viewOptions.styles.view.summaryBackgroundColor }}"><div class="col-xs-12"><revisions-grid changes="variantRevisions.data.collection" base-state="events.genes.summary.variants.talk.revisions"></revisions-grid></div></div><div class="row revisions-list {{ viewOptions.styles.view.talkBackgroundColor }}"><div class="col-xs-12"><ui-view><div class="alert alert-info" class="select-prompt">&uparrow; Click on a <strong>Revision</strong> above to view its details here.</div></ui-view></div></div></div><div ng-if="variantRevisions.data.collection.length === 0"><div class="row revisions-prompt"><div class="col-xs-12"><div class="jumbotron"><h2 style="margin:0;padding:0">No suggested revisions exist for this variant.</h2><p>You may create a suggested revision by clicking on the variant name at the top of this record.</p></div></div></div></div></div>')}])}();